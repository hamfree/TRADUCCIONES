<!DOCTYPE html>
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet"
          href="../css/JSP-Styles.css" type="text/css">
    <title>Crear Librerias de Etiquetas JSP Personalizadas: Lo
      Esencial - La lección</title>
  </head>
  <body>
    <h1>Crear Librerias de Etiquetas JSP Personalizadas: Lo Esencial</h1>
    <h2>La Lección</h2>
    <h3>Agenda</h3>
    <ul>
      <li class="n1">¿Qué son las etiquetas? ¿Porqué usarlas?</li>
      <li class="n1">Etiquetas basadas en Java</li>
      <li class="n2">Componentes de una librería de etiquetas</li>
      <li class="n2">Etiquetas básicas</li>
      <li class="n2">Etiquetas que usan atributos</li>
      <li class="n2">Etiquetas que tienen contenido dentro</li>
      <li class="n2">Etiquetas que opcionalmente tienen contenido
        dentro</li>
      <li class="n1">Etiquetas basadas en JSP (ficheros de etiquetas)</li>
      <li class="n2">Componentes de una librería de etiquetas</li>
      <li class="n2">Etiquetas básicas</li>
      <li class="n2">Etiquetas que usan atributos</li>
      <li class="n2">Etiquetas que tienen contenido dentro</li>
    </ul>
    <hr>
    <h3>Uso de construcciones JSP</h3>
    <ul>
      <li class="n1">Elementos de script llamando directamente a código
        de servlets</li>
      <li class="n1">Elementos de script llamando indirectamente a
        código de servlets (por medio de clases de utilidad)</li>
      <li class="n1">Beans</li>
      <li class="n1">Combinado Servlet/JSP (MVC)</li>
      <li class="n1">MVC con el lenguaje de expresiones de JSP</li>
      <li class="n1" style="color: red">Etiquetas personalizadas</li>
      <li class="n1">MVC con beans, etiquetas personalizadas, y un
        marco de trabajo como JSF 2.0</li>
    </ul>
    <p>TODO: Grafico a la izquierda, capturar de diapositiva 6.</p>

    <h3>Ejemplos de etiqueta</h3>
    <pre>
    Blah, blah, blah. <span class="rojo">&lt;mytags:showDate/&gt;</span> Blah, blah, blah.
    <span class="rojo">&lt;mytags:showDate format="short"/&gt;</span> Blah, blah, blah.
    <span class="rojo">&lt;mytags:emphasize color="red" blink="true" size="100"&gt;</span> This is
    a very important message <span class="rojo">&lt;/mytags:emphasize&gt;</span> Blah, blah, blah.
    <span class="rojo">&lt;mytags:translate language="spanish"&gt;</span> Hello World
    <span class="rojo">&lt;/mytags:translate&gt;</span> 
    </pre>
    <hr>
    <h3>Componentes que componen una Librería de Etiquetas</h3>
    <ul>
      <li class="n1">La clase Tag Handler</li>
      <li class="n2">Código Java que dice lo que imprimir</li>
      <li class="n2">Debe implementar
        javax.servlet.jsp.tagext.SimpleTag</li>
      <li class="n2">Normalmente extiende SimpleTagSupport</li>
      <li class="n2">Va en los mismos directorios que los ficheros de
        clases de Servlets y beans</li>
      <li class="n1">El Fichero Descriptor de la Librería de Etiquetas</li>
      <li class="n2">Un fichero XML que describe el nombre de la
        etiquetas, los atributos, e implementa la clase tag hamdler</li>
      <li class="n2">Se coloca bajo el directorio WEB-INF</li>
    </ul>
    <ul>
      <li class="n1">El fichero JSP</li>
      <li class="n2">Importa una librería de etiquetas (referenciando
        una URL al fichero descriptor)</li>
      <li class="n2">Define el prefijo de la etiqueta</li>
      <li class="n2">Usa etiquetas</li>
    </ul>
    <hr>
    <h3>Definir una Clase Manejadores de Etiqueta Simple</h3>
    <ul>
      <li class="n1">Extender la clase SimpleTagSupport</li>
      <li class="n1">Importar los paquetes necesarios:</li>
      <li class="n2">import javax.servlet.jsp.*;<br>&nbsp;&nbsp;&nbsp;import
        javax.servlet.jsp.tagext.*;<br>&nbsp;&nbsp;&nbsp;import
        java.io.*;
      </li>
      <li class="n1">Sobreescribir el método doTag</li>
      <li class="n2">Obtener el JspWriter con getJspContext().getOut()</li>
      <li class="n2">Usar el JspWriter para generar la salida</li>
      <li class="n2">El código es llamado en la fase de petición</li>
      <li class="n1">Las instancias de Etiqueta no son reutilizadas
        como las instancias de los servlets, así que no hay que preocuparse
        por las condiciones de carrera, incluso si tiene variables de
        instancia.</li>
    </ul>
    <hr>
    <h3>Definir un Clase Manejador de Etiqueta Simple: Ejemplo</h3>

    <pre>
    package coreservlets.tags; 
    
    <span class="rojo">import javax.servlet.jsp.*; 
    import javax.servlet.jsp.tagext.*; 
    import java.io.*;</span> 
    import java.math.*;
    import coreservlets.Primes; 
    
    public class SimplePrimeTag <span class="rojo">extends SimpleTagSupport</span> { 
        protected int length = 50; 
        
        <span class="rojo">public void doTag() throws JspException, IOException</span> { 
            <span class="rojo">JspWriter out = getJspContext().getOut();</span> 
            BigInteger prime = Primes.nextPrime(Primes.random(length)); 
            <span class="rojo">out.print(prime);</span> 
        } 
    }
    </pre>
    <hr>
    <h3>Definir un Descriptor de una Libreria de Etiqueta Simple</h3>
    <ul>
      <li class="n1">Empieza con una cabecera XML</li>
      <li class="n1">El elemento de nivel superio es <b>taglib</b></li>
      <li class="n2">Solo use tlib-version y short-name como en el
        ejemplo
      <li class="n1">Cada etiqueta definida por el elemento tag con :</li>
      <li class="n2"><b>description</b>, la cual da una pequeña
        información. Opcional.
      <li class="n2"><b>name</b>, el cual define el nombre base de la
        etiqueta.
      <li class="n2"><b>tag-class</b>, la cual da el nombre de la clase
        completamente cualificado del manejador de la etiqueta.
      <li class="n2"><b>body-content</b>, la cual especifica si la
        etiqueta es independiente o contiene contenido entre la etiqueta de
        inicio y finalización.
      <li class="n1">Puede tener múltiples entradas de etiqueta en cada
        fichero TLD.</li>
      <li class="n1">Coloque el fichero TLD en alguna parte bajo el
        directorio WEB-INF</li>
    </ul>
    <hr>
    <h3>Fichero TLD para SimplePrimeTag</h3>
    <pre>
    &lt;?xml version="1.0" encoding="UTF-8" ?&gt; 
    &lt;taglib xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd" version="2.0"&gt;
        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;
        &lt;short-name&gt;csajsp-taglib&lt;/short-name&gt; 
        &lt;tag&gt;
            &lt;description&gt;Outputs 50-digit primes&lt;/description&gt;
            &lt;name&gt;simplePrime&lt;/name&gt;
            &lt;tag-class&gt;coreservlets.tags.SimplePrimeTag&lt;/tag-class&gt;
            &lt;body-content&gt;empty&lt;/body-content&gt; 
        &lt;/tag&gt; ...
    &lt;/taglib&gt; 
    </pre>
    <ul>
      <li class="n1">No memorize la cabecera HTML y la parte estandar;
        descargue y modifique la versión en línea</li>
      <li class="n2">Lo importante es saber cómo escribir entradas de
        etiqueta</li>
      <li class="n2">Coloque el fichero TLD en alguna parte bajo el
        directorio WEB-INF</li>
    </ul>
    <hr>
    <h3>Acceder a Etiquetas Personalizadas desde Ficheros JSP</h3>
    <ul>
      <li class="n1">Importe la librería de etiquetas: <pre>
        &lt;%@ taglib uri="/WEB-INF/tlds/csajsp-taglib.tld"
        prefix="csajsp" %&gt;
        </pre></li>
      <li class="n2">Defina un prefijo de etiqueta (namespace)</li>
      <li class="n1">Use las etiquetas</li>
      <li class="n2">&lt;prefix:tagName /&gt;</li>
      <li class="n1">Los nombres de etiqueta vienen del fichero TLD</li>
      <li class="n1">El prefijo viene de la directiva <b>taglib</b></li>
      <li class="n2">Ejemplo: &lt;csajsp:simplePrime /&gt;</li>
    </ul>
    <hr>
    <h3>Usar la Etiqueta simplePrime</h3>
    <pre>
...
    &lt;BODY&gt;
        &lt;H1&gt;Some 50-Digit Primes&lt;/H1&gt;
        &lt;%@ taglib uri="/WEB-INF/tlds/csajsp-taglib.tld"
        prefix="csajsp" %&gt;
        &lt;UL&gt;
            &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
            &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
            &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
            &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
        &lt;/UL&gt;
    &lt;/BODY&gt;
&lt;/HTML&gt;
    </pre>
    <hr />
    <h3>Usar la Etiqueta simplePrime: Resultado</h3>
    <img src="img01.png" alt="Resultado de usar la etiqueta simplePrime" />
    <hr />
    <h3>Asignar Atributos a las Etiquetas</h3>
    <ul>
      <li class="n1">Permite etiquetas como:</li>
      <li class="n2"><pre>
&lt;prefijo:nombre
<em class="rojo">atributo1="valor1"
atributo2="valor2"
...
atributoN="valorN"</em>
/&gt;
        </pre></li>
      <li class="n1">Las etiquetas son aún independientes</li>
      <li class="n2">No hay contenido en el cuerpo entre las etiquetas
        de apertura y cierre.</li>
    </ul>
    <hr />
    <h3>Atributos: La Clase Manejadora de Etiquetas</h3>
    <ul>
      <li class="n1">El uso de un atributo llamado <code>attribute1</code>
        simplemente da como resultado una llamada a un método llamado <code>setAttribute1</code></li>
      <li class="n2">El valor del atributo es suplido al método como
        una String</li>
      <li class="n1">Ejemplo</li>
      <li class="n2">Para soportar <pre>
&lt;prefijo:nombreEtiqueta <em class="rojo">atributo1</em>="Test" /&gt;
        </pre> agregue lo siguiente a la clase manejadora de la etiqueta: <pre>
public void <em class="rojo">setAtributo1</em>(String valor1) {
	hazAlgoCon(valor1);
}
        </pre></li>
    </ul>
    <hr />
    <h3>Atributos: PrimeTag.java</h3>
    <pre>
package coreservlets.tags;
public class PrimeTag extends SimplePrimeTag {
    public void <em class="rojo">setLength</em>(String length) {
        try {
            this.length = Integer.parseInt(length);
        } catch(NumberFormatException nfe) {
            this.length = 50;
        }
    }
}
    </pre>
    <hr />
    <h3>Atributos: El Fichero Descriptor de la Librería de Etiquetas</h3>
    <ul>
      <li class="n1">El elemento <code>tag</code> debe contener un
        elemento atributo anidado
      </li>
      <li class="n1">El elemento <code>attribute</code> tiene tres
        elementos adicionales
      </li>
      <li class="n2"><b>name</b>, un elemento requerido que define el
        nombre de atributo sensible a las mayúsculas y minúsculas.</li>
      <li class="n2"><b>required</b>, un elemento requerido que
        estipula si el atributo debe ser siempre suministrado (verdadero) o
        si es opcional (falso).</li>
      <li class="n2"><b>rtexprvalue</b>, un atributo opcional que
        indica si el valor de atributo puede ser una expresión JSP como
        &lt;%=expresion %&gt; (true) o si ello debe ser una cadena fija
        (falso). El valor por defecto es falso</li>
    </ul>
    <hr />
    <h3>Fichero TLD para PrimeTag</h3>
    <pre>
...
&lt;taglib ...&gt;
...
  &lt;tag&gt;
    &lt;description&gt;Emite un número primo&lt;/description&gt;
    &lt;name&gt;prime&lt;/name&gt;
    &lt;tag-class&gt;coreservlets.tags.PrimeTag&lt;/tag-class&gt;
    &lt;body-content&gt;empty&lt;/body-content&gt;<em class="rojo">
    &lt;attribute&gt;
	  &lt;name&gt;length&lt;/name&gt;
	  &lt;required&gt;false&lt;/required&gt;
    &lt;/attribute&gt;</em>
  &lt;/tag&gt;
...
&lt;/taglib&gt;
    </pre>
    <hr />
    <h3>Usar la Etiqueta prime</h3>
    <pre>
...
&lt;BODY&gt;
&lt;H1&gt;Algunos N-Digitos Primos&lt;/H1&gt;
<em class="rojo">
&lt;%@ taglib uri="/WEB-INF/tlds/csajsp-taglib.tld"
              prefix="csajsp" %&gt;</em>
              
&lt;UL&gt;
  &lt;LI&gt;20-dígitos: <em class="rojo">&lt;csajsp:prime length="20"/&gt;</em>
  &lt;LI&gt;40-dígitos: <em class="rojo">&lt;csajsp:prime length="40"/&gt;</em>
  &lt;LI&gt;80-dígitos: <em class="rojo">&lt;csajsp:prime length="80"/&gt;</em>
  &lt;LI&gt;Por Defecto (50-dígitos): <em class="rojo">&lt;csajsp:prime/&gt;</em>
&lt;/UL&gt;

&lt;/BODY&gt;
&lt;/HTML&gt;
    </pre>

    <hr />
    <h3>Usar la Etiqueta prime: Resultado</h3>
    <img src="img01.png" alt="Captura del resultado" />

    <hr />
    <h3>Incluir la Etiqueta Body</h3>
    <ul>
      <li class="n1">Etiquetas más Simples
      <li class="n2">&lt;prefix:tagName/&gt;
      <li class="n1">Etiquetas con atributos
      <li class="n2">&lt;prefix:tagName att1="val1" ... /&gt;
      <li class="n1">Ahora
      <li class="n2">&lt;prefix:tagName&gt; <em class="rojo">Contenido
          Sin Scripts JSP</em> &lt;/prefix:tagName&gt;
      </li>
      <li class="n2">&lt;prefix:tagName att1="val1" ... &gt; <em
          class="rojo">Contenido Sin Scripts JSP</em> &lt;/prefix:tagName&gt;
      </li>
    </ul>
    <hr />
    <h3>Incluir la Etiqueta Body: La Clase Manejadora de la Etiqueta</h3>
    <ul>
      <li class="n1">Call getJspBody().invoke(null);</li>
    </ul>
    <pre>
	public void doTag() throws ... {
	   JspWriter out = getJspContext().getOut();
	   out.print("...");
	   <em class="rojo">getJspBody().invoke(null);</em>
	   out.print("...");
	}
    </pre>
    <hr />
    <h3>Incluir el Cuerpo de la Etiqueta: HeadingTag.java</h3>
    <pre>
public class HeadingTag extends SimpleTagSupport {
  private String align;
  private String bgColor;
  private String border;
  private String fgColor;
  private String font;
  private String size;

  public void setAlign(String align) {
    this.align = align;
  }

  public void setBgColor(String bgColor) {
    this.bgColor = bgColor;
  }

  public void setBorder(String border) {
    this.border = border;
  }
  
  public void doTag() throws JspException, IOException {
    JspWriter out = getJspContext().getOut();
    out.print("&lt;TABLE ALIGN=\"" + align + "\"\n" +
              " BGCOLOR=\"" + bgColor + "\"\n" +
              " BORDER=" + border + "\"&gt;\n");
    out.print("&lt;TR&gt;&lt;TH&gt;");
    out.print("&lt;SPAN STYLE=\"color: " + fgColor + ";\n" +
              " font-family: " + font + ";\n" +
              " font-size: " + size + "px; " +
              "\"&gt;\n");
    // Salida del contenido del cuerpo
    <em class="rojo">getJspBody().invoke(null);</em>
    out.println("&lt;/SPAN&gt;&lt;/TH&gt;&lt;/TR&gt;&lt;/TABLE&gt;" +
                "&lt;BR CLEAR=\"ALL\"&gt;&lt;BR&gt;");
   }
}
    </pre>
    <hr>
    <h3>Usar El Cuerpo de la Etiqueta: El Fichero Descriptor de la
      Librería de Etiquetas</h3>
    <ul>
      <li class="n1">La única diferencia es elemento body-content</li>
      <li class="n2">Debe estar sin scriptlets en lugar de estar vacío:
        <pre>
&lt;tag&gt;
  &lt;name&gt;…&lt;/name&gt;
  &lt;tag-class&gt;…&lt;/tag-class&gt;
  <em class="rojo">&lt;body-content&gt;sin scriptlets&lt;/body-content&gt;</em>
&lt;/tag&gt;
        </pre>
      </li>
      <li class="n1">Valores legales para body-content</li>
      <li class="n2"><b>empty</b>: sin contenido en el cuerpo</li>
      <li class="n1">Body content is ignored even if supplied</li>
      <li class="n2"><b>scriptless</b>: el contenido del cuerpo es
        incluído</li>
      <li class="n1">Puede contener texto plano, elementos EL, otras
        etiquetas personalizadas, y directivas de página</li>
      <li class="n1">No se permite el scripting explícito (&lt;%= ...
        %&gt;)</li>
      <li class="n2"><b>tagdependent</b>: el contenido del cuerpo es
        procesado por la etiqueta</li>
    </ul>
    <hr>
    <h3>Encabezado Tag: archivo TLD</h3>
    <pre>
&lt;tag&gt;
  &lt;description&gt;Formatos encabezado cerrado&lt;/description&gt;
  &lt;name&gt;heading&lt;/name&gt;
  &lt;tag-class&gt;coreservlets.tags.HeadingTag&lt;/tag-class&gt;
  <em class="rojo">&lt;body-content&gt;scriptless&lt;/body-content&gt;</em>
  &lt;attribute&gt;
    &lt;name&gt;align&lt;/name&gt;
    &lt;required&gt;true&lt;/required&gt;
  &lt;/attribute&gt;
  &lt;attribute&gt;
    &lt;name&gt;bgColor&lt;/name&gt;
    &lt;required&gt;true&lt;/required&gt;
  &lt;/attribute&gt;
  ...
&lt;/tag&gt;
    </pre>
    <hr>
    <h3>Usar el encabezado Tag</h3>
    <pre>
…
&lt;BODY&gt;
&lt;%@ taglib uri="/WEB-INF/tlds/csajsp-taglib.tld"
       prefix="csajsp" %&gt;
&lt;csajsp:heading align="LEFT" bgColor="CYAN"
                   border="10" fgColor="BLACK"
                   font="Arial Black" size="78"&gt;
  Primer Encabezado
&lt;/csajsp:heading&gt;
&lt;csajsp:heading align="RIGHT" bgColor="RED"
                   border="1" fgColor="YELLOW"
                   font="Times New Roman" size="50"&gt;
  Segundo Encabezado
&lt;/csajsp:heading&gt;
&lt;csajsp:heading align="CENTER" bgColor="#C0C0C0"
                   border="20" fgColor="BLUE"
                   font="Arial Narrow" size="100"&gt;
  Tercer Encabezado
&lt;/csajsp:heading&gt;
    </pre>
    <hr>
    <h3>Usar el encabezado Tag: Resultados</h3>
    <img src="img02.png" alt="Captura del resultado" />
    <hr>
    <h3>Cuerpos de etiqueta opcionales</h3>
    <ul>
      <li class="n1">Primeros ejemplos</li>
      <li class="n2">Sin etiquetas de cuerpo</li>
      <li class="n3">body-content: vacío</li>
      <li class="n3">doTag no llama a invoke(null)</li>
      <li class="n1">Los ejemplos más recientes</li>
      <li class="n2">Cuerpos de etiqueta siempre incluídos</li>
      <li class="n3">body-content: sin scriptlets</li>
      <li class="n3">doTag llama invoke(null)</li>
      <li class="n1">Ahora:</li>
      <li class="n2">Decide en tiempo de petición si incluir o no la
        etiqueta body</li>
      <li class="n3">body-content: sin scriptlets</li>
      <li class="n3">doTag condicionalmente llama a invoke(null)</li>
      <li class="n4">Dependiendo de la información en tiempo de
        ejecución</li>
    </ul>
    <hr>
    <h3>Cuerpos de Etiqueta Opcionales: DebugTag.java</h3>
    <pre>
public class DebugTag extends SimpleTagSupport {
    public void doTag() throws JspException, IOException {
        PageContext context = (PageContext)getJspContext();
        HttpServletRequest request = (HttpServletRequest)context.getRequest();
        // Mostrará el cuerpo de la etiqueta sólo si el parámetro de depuración está presente.
        <em class="rojo">if (request.getParameter("debug") != null) {
            getJspBody().invoke(null);
        }</em>
    }
}
    </pre>
    <hr>
    <h3>Fichero TLD para DebugTag</h3>
    <pre>
...
  &lt;tag&gt;
    &lt;description&gt;
      Condicionalmente muestra el cuerpo encerrado.
   &lt;/description&gt;
   &lt;name&gt;debug&lt;/name&gt;
   &lt;tag-class&gt;coreservlets.tags.DebugTag&lt;/tag-class&gt;
   <em class="rojo">&lt;body-content&gt;scriptless&lt;/body-content&gt;</em>
  &lt;/tag&gt;
...
    </pre>
    <hr>
    <h3>Usar la Etiqueta debug</h3>
    <pre>
<em class="rojo">
&lt;%@ taglib uri="/WEB-INF/tlds/csajsp-taglib.tld"
              prefix="csajsp" %&gt;</em>
Parte superior de la página regular. Blah, blah, blah.
Yadda, yadda, yadda.
<em class="rojo">&lt;csajsp:debug&gt;</em>
&lt;H2&gt;Debug Info:&lt;/H2&gt;
********************&lt;BR&gt;
-Host Remoto: ${pageContext.request.remoteHost}&lt;BR&gt;
-ID de Sesión: ${pageContext.session.id}&lt;BR&gt;
-El parámetro foo: ${param.foo}&lt;BR&gt;
********************&lt;BR&gt;
<em class="rojo">&lt;/csajsp:debug&gt;</em>
&lt;P&gt;
Parte inferior de la página regular. Blah, blah, blah.
Yadda, yadda, yadda.
    </pre>
    <hr>
    <h3>Usar la Etiqueta debug: Resultados</h3>
    <img src="img03.png" alt="Captura del resultado" />
    <hr>
    <h3>Usar una Pseudo-URI en vez de una Ubicación TLD</h3>

    <h4>El atributo &lt;uri&gt; de Tag en los Ficheros TLD</h4>
    <ul>
      <li class="n1">Los ficheros TLD pueden definir direcciones falsas</li>
    </ul>
    <pre>
	&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
	&lt;taglib ...&gt; ...
	<em class="rojo">&lt;uri&gt;http://cualquiercosa/usted/quiera&lt;/uri&gt;</em>...%&gt;
    </pre>
    <ul>
      <li class="n1">Las páginas JSP importan TLD usando direcciones
        falsas</li>
    </ul>
    <pre>
	&lt;%@ taglib <em class="rojo">uri="http://cualquiercosa/usted/quiera"</em> ...%&gt;</pre>
    <ul>
      <li class="n3">Nota: esta dirección está totalmente compuesta:
        simplemente coincide con lo que está en el archivo TLD. La página JSP
        no se conecta a la Web para buscar esta dirección.</li>
      <li class="n1">Ventajas</li>
      <li class="n2">Puede mover/renombrar ficheros TLD sin cambios en
        el código JSP</li>
      <li class="n3">Incluso puede agrupar bibliotecas de etiquetas en
        archivos JAR en WEB-INF / lib y colocar archivos TLD en META-INF en
        los archivos JAR</li>
      <li class="n2">Si escribe páginas JSP pages usando sintaxis XML,
        puede usar una entrada adicional xmlns al elemento raíz y omitir la
        declaración @taglib.</li>
      <li class="n1">Desventajas</li>
      <li class="n2">Confuso: los autores de JSP no saben dónde está el
        archivo TLD</li>
    </ul>
    <!-- TODO: Ir pasando texto del fichero TEMPORAL.html y traducirlos/pasarlo a HTML aquí -->
    <h3>Ejemplo: La Etiqueta &lt;uri&gt;</h3>
    <table>
      <tr>
        <td style="width:50%;border-right: 2px solid;">
          <ul>
            <li class="n1">Fichero TLD</li>
            <li class="n2">En WEB-INF/tlds/file.tld</li>
          </ul> <pre>
&lt;?xml ... ?&gt;
&lt;taglib ...&gt;
  <em class="rojo">
  &lt;uri&gt;
    http://foo.com/bar
  &lt;/uri&gt;</em>

  &lt;tag&gt;<em class="rojo">
    &lt;name&gt;miEtiqueta&lt;/name&gt;</em>
    &lt;tag-class&gt;...&lt;/tag-class&gt;
    &lt;body-content&gt;
      vacío o sin scriptlets
    &lt;/body-content&gt;
  &lt;/tag&gt;
&lt;/taglib&gt;
          </pre>
        </td>
        <td style="width: 50%">
          <ul>
            <li class="n1">JSP (Enfoque 1)</li>
          </ul> <pre>
		&lt;%@ taglib
		<em class="rojo">uri="/WEB-INF/tlds/file.tld"</em>
		prefix="miPrefijo" %&gt;
		...
		&lt;miPrefijo:miEtiqueta/&gt;
		...
          </pre>
          <ul>
            <li class="n1">JSP (Enfoque 2)</li>
          </ul> <pre>
		&lt;%@ taglib
		<em class="rojo">uri="http://foo.com/bar"</em>
		prefix="miPrefijo" %&gt;
		...
		&lt;miPrefijo:miEtiqueta/&gt;
		...
          </pre>
        </td>
      </tr>
    </table>
    <hr>
    <h3>Etiquetas Basadas en JSP (Ficheros de Etiquetas)</h3>
    <h4>Ficheros Etiquetas: Etiquetas Personalizadas Usando Sintaxis
      JSP</h4>
    <ul>
      <li class="n1">Dos Enfoques</li>
      <li class="n2">Cuando hay un montón de lógica, use Java para
        crear la salida</li>
      <li class="n1">Análogamente a cuando usa servlets</li>
      <li class="n2">Cuando hay mucho formateo, use JSP para crear la
        salida</li>
      <li class="n1">Análogamente a cuando usa páginas JSP</li>
      <li class="n1">Pros</li>
      <li class="n2">Muy bueno para formateo de texto complejo</li>
      <li class="n2">Muy conciso</li>
      <li class="n1">Contras</li>
      <li class="n2">No es bueno para lógica complicada</li>
      <li class="n2">Funciona sólo en JSP 2.0 y posteriores</li>
      <li class="n1">Las versiones basadas en Java tienen una sintaxis
        “clásica” que funcionó en servidores más viejos (p.e., BEA WebLogic
        8.1, Oracle 9i AS)</li>
    </ul>
    <hr />
    <h3>Etiquetas independientes simples</h3>
    <ul>
      <li class="n1">El enfoque basado en Java requiere tres piezas</li>
      <li class="n2">Código Java que sobreescribe doTag para generar la
        salida</li>
      <li class="n1">Fortalezas y debilidades generalmente similares a
        las de los servlets, pero más engorrosas</li>
      <li class="n2">Fichero Descriptor de Librería de Etiqueta (TLD)
        que mapea la clase Java al nombre de la etiqueta</li>
      <li class="n2">Página JSP que hace referencia a la ubicación
        específica del archivo TLD</li>
      <li class="n1">Enfoque basado en JSP requiere dos piezas</li>
      <li class="n2">Código JSP code (fichero de etiqueta) que muestra
        el resultado</li>
      <li class="n1">/WEB-INF/tags/algunNombre.tag</li>
      <li class="n2">Sin fichero TLD: el nombre de etiqueta se toma del
        nombre del fichero-etiqueta</li>
      <li class="n2">Página JSP que se refiere al directorio que
        contiene el archivo de etiqueta</li>
      <li class="n1">/WEB-INF/tags o un subdirectorio de los mismos</li>
    </ul>
    <hr />
    <h3>Ficheros de Etiquetas</h3>
    <ul>
      <li class="n1">Se parecen a los archivos JSP normales, excepto</li>
      <li class="n2">Deben estar ubicados en (o bajo) WEB-INF/tags</li>
      <li class="n2">Debenser nombrado blah.tag, no blah.jsp</li>
      <li class="n2">Usted usa &lt;%@ tag ... %&gt; en vez de &lt;%@
        page ... %&gt;</li>
      <li class="n2">Usa la variable predefinida jspContext en vez de
        pageContext</li>
      <li class="n3">Pero puede moldearlo a PageContext</li>
      <li class="n3">Otras variables (request, response, etc.) son las
        mismas</li>
      <li class="n1">Ejemplo
    </ul>
    <table style="padding: 0px; border-spacing: 0px;">
      <tr>
        <td style="width: 50%; border: 1px solid; vertical-align: top"><p
            style="text-align: center; font-weight: bold;">
            WEB-INF/tags/<em class="rojo">date</em>.tag
          </p> <pre>
&lt;%@ tag import="java.util.*" %&gt;
La Fecha es &lt;%= new Date() %&gt; 
          </pre></td>
        <td style="width: 50%; border: 1px solid"><p
            style="text-align: center; font-weight: bold">alguna-pagina.jsp</p>
          <pre>
&lt;%@ taglib
    tagdir="/WEB-INF/tags"
    prefix="test" %&gt;
...
&lt;test:<em class="rojo">date</em>/&gt;			
          </pre></td>
      </tr>
    </table>
    <hr />
    <h3>Etiquetas basadas en Java: Código (Etiqueta independiente
      simple)</h3>
    <pre>
package coreservlets.tags;

import javax.servlet.jsp.*;
import javax.servlet.jsp.tagext.*;
import java.io.*;
import java.math.*;
import coreservlets.Primes;

public class SimplePrimeTag extends SimpleTagSupport {
    protected int length = 50;
    
    public void doTag() throws JspException, IOException {
       JspWriter out = getJspContext().getOut();
       BigInteger prime = Primes.nextPrime(Primes.random(length));
       out.print(prime);
    }
 }
    </pre>
    <hr />
    <h3>Etiquetas basado en Java: Fichero TLD (Etiqueta independiente
      simple)</h3>
    <pre>
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
  &lt;taglib xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
  http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"
  version="2.0"&gt;
  &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;
  &lt;short-name&gt;csajsp-taglib&lt;/short-name&gt;
  <em class="rojo">
  &lt;tag&gt;
    &lt;description&gt;Outputs 50-digit primes&lt;/description&gt;
    &lt;name&gt;simplePrime&lt;/name&gt;
    &lt;tag-class&gt;coreservlets.tags.SimplePrimeTag&lt;/tag-class&gt;
    &lt;body-content&gt;empty&lt;/body-content&gt;
  &lt;/tag&gt;</em>
  ...
&lt;/taglib&gt;
    </pre>
    <hr />
    <h3>Etiquetas Basadas en Java: Uso en JSP (Etiqueta independiente
      simple)</h3>
    <pre>
...
&lt;BODY&gt;
&lt;H1&gt;Algunos Primos con 50 dígitos&lt;/H1&gt;
&lt;%@ taglib <em class="rojo">uri="/WEB-INF/tlds/csajsp-taglib.tld"</em>
           prefix="csajsp" %&gt;
&lt;UL&gt;
    &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
    &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
    &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
    &lt;LI&gt;&lt;csajsp:simplePrime/&gt;
&lt;/UL&gt;
&lt;/BODY&gt;&lt;/HTML&gt;
    </pre>
    <hr />
    <h3>Etiquetas Basadas en Java: Resultado (Etiqueta independiente
      simple)</h3>
    <img src="img04.png" alt="Captura del resultado" />
    <hr />
    <h3>Ficheros de Etiqueta: Código de la Etiqueta (Etiqueta
      independiente simple)</h3>
    <ul>
      <li class="n1">WEB-INF/tags/<em class="rojo">simplePrime2.tag</em></li>
      <li class="n2">El nombre del directorio no es arbitrario; debe
        estar en /WEB-INF/tags o un subdirectorio de los mismos.</li>
    </ul>
    <pre>
&lt;%= coreservlets.Primes.nextPrime
(coreservlets.Primes.random(50)) %&gt;
    </pre>
    <hr />
    <h3>Ficheros de Etiqueta: Uso en JSP (Etiqueta independiente
      simple)</h3>
    <pre>
	... 
	&lt;BODY&gt;
	&lt;H1&gt;Algunos Primos de 50 Digitos&lt;/H1&gt; 
	
	&lt;%@ taglib <em class="rojo">tagdir="/WEB-INF/tags"</em> 
	              prefix="csajsp" %&gt; 
	&lt;UL&gt;
	  &lt;LI&gt;&lt;csajsp:simplePrime2/&gt;
	  &lt;LI&gt;&lt;csajsp:simplePrime2/&gt;
	  &lt;LI&gt;&lt;csajsp:simplePrime2/&gt;
	  &lt;LI&gt;&lt;csajsp:simplePrime2/&gt; 
	&lt;/UL&gt;
	&lt;/BODY&gt;&lt;/HTML&gt;
    </pre>
    <hr />
    <h3>Fichero de Etiquetas: Resultado (Etiqueta independiente
      simple)</h3>
    <img src="img05.png" alt="Captura del resultado">
    <hr />
    <h3>Etiquetas con Atributos</h3>
    <ul>
      <li class="n1">Etiquetas basadas en Java</li>
      <li class="n2">Para cada atributo, añada método setAttributeName
        a la clase Java</li>
      <li class="n2">Valor de atributo generalmente almacenado
        explícitamente en la variable de instancia (campo) de la clase Java</li>
      <li class="n2">Listar cada atributo explícitamente en ficheros
        TLD</li>
      <li class="n1">Etiquetas basadas en JSP (ficheros de etiquetas)</li>
      <li class="n2">Cada atributo listado en fichero de etiqueta con
        @attribute</li>
      <li class="n3">También puede listar required y rtexprvalue (por
        defecto falso)</li>
      <li class="n2">El valor del atributo automáticamnte almacenado en
        una variable en alcance (para acceso desde el lenguaje de expresión)
        y en variable local (para acceso desde el código Java)</li>
      <li class="n2">No hay fichero TLD</li>
    </ul>
    <hr />
    <h3>Etiquetas Basadas en Java: Código (Etiqueta con Atributos)</h3>
    <pre>
package coreservlets.tags;

public class PrimeTag <em class="rojo">extends SimplePrimeTag</em> {
   public void <em class="rojo">setLength</em>(String length) {
   
      try {
         this.length = Integer.parseInt(length);
      } catch(NumberFormatException nfe) {
         this.length = 50;
      }
   }
}
    </pre>

    <hr />
    <h3>Etiquetas Basadas en Java: Fichero TLD (Etiqueta con
      Atributos)</h3>

    <pre>
…
&lt;tag&gt;
  &lt;description&gt;Emite un primo de N-dígitos&lt;/description&gt;
  &lt;name&gt;prime&lt;/name&gt;
  &lt;tag-class&gt;coreservlets.tags.PrimeTag&lt;/tag-class&gt;
  &lt;body-content&gt;empty&lt;/body-content&gt;
  <em class="rojo">&lt;attribute&gt;
    &lt;name&gt;length&lt;/name&gt;
    &lt;required&gt;false&lt;/required&gt;
  &lt;/attribute&gt;</em>
&lt;/tag&gt;
…
    </pre>

    <hr />
    <h3>Etiquetas Basadas en Java: Uso en JSP (Etiqueta con Atributos)</h3>
    <pre>
…
&lt;BODY&gt;
&lt;H1&gt;Algunos Primos de N-Dígitos&lt;/H1&gt;
&lt;%@ taglib <em class="rojo">uri="/WEB-INF/tlds/csajsp-taglib.tld"</em>
              prefix="csajsp" %&gt;
&lt;UL&gt;
  &lt;LI&gt;20-dígitos: &lt;csajsp:prime length="20" /&gt;
  &lt;LI&gt;40-dígitos: &lt;csajsp:prime length="40" /&gt;
  &lt;LI&gt;80-dígitos: &lt;csajsp:prime length="80" /&gt;
  &lt;LI&gt;Por defecto (50-dígitos): &lt;csajsp:prime /&gt;
&lt;/UL&gt;
&lt;/BODY&gt;&lt;/HTML&gt;
    </pre>
    <hr />
    <h3>Etiquetas Basadas en Java: Resultados (Etiqueta con Atributos)</h3>
    <img src="img06.png" alt="Captura del resultado" />
    <hr />
    <h3>Ficheros de Etiquetas: Código de la Etiqueta (Etiqueta con
      Atributos)</h3>
    <pre>
<em class="rojo">&lt;%@ attribute name="length" required="false" %&gt;</em>
&lt;%
int len = 50;
try {
  len = Integer.parseInt(length);
} catch(NumberFormatException nfe) {}
%&gt;
&lt;%= coreservlets.Primes.nextPrime
       (coreservlets.Primes.random(len)) %&gt;
    </pre>
    <hr />
    <h3>Ficheros de Etiqueta: Uso en JSP (Etiqueta con Atributos)</h3>
    <pre>
…
&lt;BODY&gt;
&lt;H1&gt;Algunos Primos de N-Dígitos&lt;/H1&gt;
&lt;%@ taglib tagdir="/WEB-INF/tags"
prefix="csajsp" %&gt;
&lt;UL&gt;
  &lt;LI&gt;20-dígitos: &lt;csajsp:prime2 length="20"/&gt;
  &lt;LI&gt;40-dígitos: &lt;csajsp:prime2 length="40"/&gt;
  &lt;LI&gt;80-dígitos: &lt;csajsp:prime2 length="80"/&gt;
  &lt;LI&gt;Por Defecto (50-dígitos): &lt;csajsp:prime2/&gt;
&lt;/UL&gt;
&lt;/BODY&gt;&lt;/HTML&gt;
    </pre>
    <hr />
    <h3>Ficheros de Etiquetas: Resultados (Etiqueta con Atributos)</h3>
    <img src="img07.png" alt="Captura del resultado" />
    <hr />
    <h3>Etiquetas con Cuerpos</h3>
    <ul>
      <li class="n1">Etiquetas basadas en Java</li>
      <li class="n2">Cambie body-content de estar vacío a código sin
        scriptlets (en TLD)</li>
      <li class="n2">Llame getJspBody().invoke(null)</li>
      <li class="n2">Aún necesita el método setter y entrada TLD para
        cada atributo</li>
      <li class="n1">Etiquetas basadas en JSP (ficheros de etiquetas)</li>
      <li class="n2">Use &lt;jsp:doBody/&gt; para la salida del cuerpo
        de la etiqueta</li>
      <li class="n2">Sin cambios importantes de sintaxis</li>
      <li class="n2">El acceso a los atributos es mucho más simple</li>
    </ul>
    <hr />
    <hr />
    <h3>Etiquetas Basadas en Java: Código (Etiqueta con Cuerpo)</h3>
    <pre>
public class HeadingTag extends SimpleTagSupport {
  private String align;
  private String bgColor;
  private String border;
  private String fgColor;
  private String font;
  private String size;
  
  public void setAlign(String align) {
    this.align = align;
  }

  public void setBgColor(String bgColor) {
    this.bgColor = bgColor;
  }

  public void setBorder(String border) {
    this.border = border;
  }
  
  public void doTag() throws JspException, IOException {
    JspWriter out = getJspContext().getOut();
    out.print("&lt;TABLE ALIGN=\"" + align + "\"\n" +
              " BGCOLOR=\"" + bgColor + "\"\n" +
              " BORDER=" + border + "\"&gt;\n");
    out.print("&lt;TR&gt;&lt;TH&gt;");
    out.print("&lt;SPAN STYLE=\"color: " + fgColor + ";\n" +
              " font-family: " + font + ";\n" +
              " font-size: " + size + "px; " +
              "\"&gt;\n"); //
    // Salida del contenido del cuerpo
    <em class="rojo">getJspBody().invoke(null);</em>
    out.println("&lt;/SPAN&gt;&lt;/TH&gt;&lt;/TR&gt;&lt;/TABLE&gt;" +
                "&lt;BR CLEAR=\"ALL\"&gt;&lt;BR&gt;");
  }
}
    </pre>
    <hr />
    <h3>Etiquetas Basadas en Java: Fichero TLD (Etiqueta con Cuerpo)</h3>
    <pre>
...
&lt;tag&gt;
  &lt;description&gt;Formats enclosed heading&lt;/description&gt;
  &lt;name&gt;heading&lt;/name&gt;
  &lt;tag-class&gt;coreservlets.tags.HeadingTag&lt;/tag-class&gt;
  &lt;body-content&gt;scriptless&lt;/body-content&gt;
  <em class="rojo">&lt;attribute&gt;
    &lt;name&gt;align&lt;/name&gt;
    &lt;required&gt;true&lt;/required&gt;
  &lt;/attribute&gt;
  &lt;attribute&gt;
    &lt;name&gt;bgColor&lt;/name&gt;
    &lt;required&gt;true&lt;/required&gt;
  &lt;/attribute&gt;</em>
...
&lt;/tag&gt;
    </pre>
    <hr />
    <h3>Etiquetas Basadas en Java: Uso en JSP (Etiqueta con Cuerpo)</h3>
    <pre>
&lt;BODY&gt;
&lt;%@ taglib <em class="rojo">uri="/WEB-INF/tlds/csajsp-taglib.tld"</em>
              prefix="csajsp" %&gt;
&lt;csajsp:heading align="LEFT" bgColor="CYAN"
                   border="10" fgColor="BLACK"
                   font="Arial Black" size="78"&gt;
  Primer Encabezado
&lt;/csajsp:heading&gt;
&lt;csajsp:heading align="RIGHT" bgColor="RED"
                   border="1" fgColor="YELLOW"
                   font="Times New Roman" size="50"&gt;
  Segundo Encabezado
&lt;/csajsp:heading&gt;
&lt;csajsp:heading align="CENTER" bgColor="#C0C0C0"
                   border="20" fgColor="BLUE"
                   font="Arial Narrow" size="100"&gt;
  Tercer Encabezado
&lt;/csajsp:heading&gt;
    </pre>
    <hr />
    <h3>Etiquetas Basadas en Java: Resultados (Etiqueta con Cuerpo)</h3>
    <img src="img08.png" alt="Captura del resultado" />
    <hr />
    <h3>Ficheros de Etiquetas: Código de la Etiqueta (Etiqueta con
      Cuerpo)</h3>
    <pre>
&lt;%@ attribute name="align" required="true" %&gt;
&lt;%@ attribute name="bgColor" required="true" %&gt;
&lt;%@ attribute name="border" required="true" %&gt;
&lt;%@ attribute name="fgColor" required="true" %&gt;
&lt;%@ attribute name="font" required="true" %&gt;
&lt;%@ attribute name="size" required="true" %&gt;
&lt;TABLE ALIGN="<em class="rojo">${align}</em>";
       BGCOLOR="<em class="rojo">${bgColor}</em>"
       BORDER="<em class='rojo'>${border}</em>"&gt;
  &lt;TR&gt;&lt;TH&gt;
      &lt;SPAN STYLE="color: <em class='rojo'>${fgColor}</em>;
                   font-family: <em class='rojo'>${font}</em>;
                   font-size: <em class='rojo'>${size}px</em>;"&gt;
      <em class='rojo'>&lt;jsp:doBody/&gt;</em>&lt;/SPAN&gt;
&lt;/TABLE&gt;&lt;BR CLEAR="ALL"&gt;&lt;BR&gt;
    </pre>
    <hr />
    <h3>Ficheros de Etiquetas: Uso en JSP (Etiqueta con Cuerpo)</h3>
    <pre>
&lt;BODY&gt;
&lt;%@ taglib <em class="rojo">tagdir="/WEB-INF/tags"</em>
           prefix="csajsp" %&gt;
&lt;csajsp:heading2 align="LEFT" bgColor="CYAN"
                 border="10" fgColor="BLACK"
                 font="Arial Black" size="78"&gt;
  Primer Encabezado
&lt;/csajsp:heading2&gt;
&lt;csajsp:heading2 align="RIGHT" bgColor="RED"
                 border="1" fgColor="YELLOW"
                 font="Times New Roman" size="50"&gt;
  Segundo Encabezado
&lt;/csajsp:heading2&gt;
&lt;csajsp:heading2 align="CENTER" bgColor="#C0C0C0"
                 border="20" fgColor="BLUE"
                 font="Arial Narrow" size="100"&gt;
  Tercer Encabezado
&lt;/csajsp:heading2&gt;
    </pre>

    <hr />
    <h3>Ficheros de Etiqueta: Resultados (Etiqueta con Cuerpo)</h3>
    <img src="igm09.png" alt="Captura del resultado" />
    <hr />
    <h3>Bibliotecas de Etiquetas de Código Abierto</h3>
    <ul>
      <li class="n1">Librería de Etiquetas Estándar JSP (JSTL)</li>
      <li class="n2">Cubierto en una lectura posterior</li>
      <li class="n1">AjaxTags</li>
      <li class="n2">Funcionalidad Ajax simple sin escribir JavaScript</li>
      <li class="n3">http://ajaxtags.sourceforge.net/</li>
      <li class="n1">DisplayTag</li>
      <li class="n2">Creador de tablas super-elegante</li>
      <li class="n3">http://displaytag.sourceforge.net/1.2/</li>
      <li class="n1">Listado de otras bibliotecas de etiquetas de
        código abierto</li>
      <li class="n2">http://java-source.net/open-source/jsp-tag-libraries</li>
      <li class="n3">Consultas y búsquedas de Google</li>
      <li class="n3">Contenedores de Google Maps</li>
      <li class="n3">Menus</li>
      <li class="n3">Paginación de grandes conjuntos de datos</li>
      <li class="n3">Interfaces de Usuario de lujo</li>
    </ul>
    <hr />
    <h3>Sumario: Etiquetas Basadas en Java</h3>
    <ul>
      <li class="n1">Clase manejadores de la Etiqueta</li>
      <li class="n2">Extender SimpleTagSupport</li>
      <li class="n2">Sobreescribir doTag</li>
      <li class="n2">Obtener el JspWriter con getJspContext().getOut()</li>
      <li class="n2">Usar el JspWriter para generar la salida</li>
      <li class="n2">Emitir el cuerpo de la etiqueta con
        getJspBody().invoke(null);</li>
      <li class="n2">Definir setBlah para cada atributo nombrado blah</li>
      <li class="n1">Fichero TLD (/WEB-INF/.../somefile.tld)</li>
      <li class="n2">&lt;tag&gt; ... &lt;/tag&gt;</li>
      <li class="n1">Contiene una description (opcional), name,
        tag-class, body-content, attribute (una para cada atributo)</li>
      <li class="n2">&lt;uri&gt;http://fake-address&lt;/uri&gt;
        (opcional)</li>
      <li class="n1">Fichero JSP</li>
      <li class="n2">&lt;%@ taglib uri="/WEB-INF/.../somefile.tld"
        prefix="blah" %&gt;</li>
      <li class="n1">O &lt;%@ taglib uri="http://fake-address"
        prefix="blah" %&gt;</li>
      <li class="n2">&lt;blah:tagName/&gt; o
        &lt;blah:tagName&gt;...&lt;/blah:tagName&gt;</li>
    </ul>

    <hr />
    <h3>Sumario: Ficheros de Etiqueta</h3>
    <ul>
      <li class="n1">Fichero de Etiqueta</li>
      <li class="n2">/WEB-INF/tags/tagName.tag</li>
      <li class="n2">Crear un fragmento de JSP que genere la salida</li>
      <li class="n2">Declarar los atributos con &lt;%@ attribute
        ...%&gt;</li>
      <li class="n2">Emitir los atributos con ${attributeName}</li>
      <li class="n2">Emitit el cuerpo de la etiqueta con
        &lt;jsp:doBody/&gt;</li>
      <li class="n2">Refactorizar el código de Java para que los
        métodos tomen Strings como argumentos</li>
      <li class="n1">Fichero JSP</li>
      <li class="n2">&lt;&#37;&#64;taglib tagdir="/WEB-INF/tags
        prefix="blah" &#37;&gt;</li>
      <li class="n2">&lt;blah:tagName/&gt; o
        &lt;blah:tagName&gt;...&lt;/blah:tagName&gt;</li>
    </ul>
    <hr />
    <!-- Final de leccion -->
    <p style="text-align: center;">
      <a href="index.html">Volver al Inicio de la Sección</a>
    </p>
    <p style="font-size: small;">
      Todo el código de los <a
        href="http://courses.coreservlets.com/Course-Materials/">
        tutoriales J2EE de coreservlets.com (servlets, JSP, Struts, JSF 1,
        JSF 2, PrimeFaces, Ajax [con jQuery], GWT 2, Spring, Hibernate, JPA,
        basado en SOAP y Servicios Web RESTful, Hadoop, &amp; programación
        Java 7) </a>. Hay también cursos de formación con un instructor en vivo <a
        href="http://courses.coreservlets.com/"> sobre los mismos tópicos
        J2EE (servlets, JSP, Struts, JSF 1, JSF 2, PrimeFaces, Ajax [con
        jQuery], GWT 0, Spring, Hibernate, JPA, basado en SOAP y Servicios
        Web RESTful, Hadoop, &amp; programación Java 7) </a>.
    </p>
  </body>
</html>