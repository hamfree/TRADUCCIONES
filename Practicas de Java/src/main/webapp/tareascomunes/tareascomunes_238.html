<!DOCTYPE html>
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords" content="java, programación java, Prácticas de Java, idioma java, estilo java, patrones de diseño java, 
          convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prácticas de Java-&gt;Leer información sobre la versión del jar</title>
    <link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet9.css" media="all">
    <link rel="icon" type="image/png" href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html" title="Tabla de Contenido" style="float: left;">Inicio</a> &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search" class="search-form" style="float: right;">
        <input name="q" size="15" maxlength="255" placeholder="" type="text" />
        <input name="btnG" value="Búsqueda" type="submit" /> 
        <input name="sitesearch" value="www.javapractices.com" type="hidden" />
      </form>
    </nav>
    <div class="page-title">Leer información sobre la versión del jar</div>
    <br />
    Un <a href="http://docs.oracle.com/javase/tutorial/deployment/jar/index.html">archivo jar</a> es simplemente una colección 
    en formato zip (comprimida) de archivos class, y cualquier recurso asociado.
    <p>
      Es a menudo importante saber qué versión de un archivo jar se está usando por una aplicación. Por ejemplo, al inicio, una 
      aplicación podría encontrarlo útil para trazar los números de versión de todos sus jars conocidos. Esto puede resultar muy 
      útil para depurar problemas más adelante.
    </p>
    <p>
      El archivo <a href="http://docs.oracle.com/javase/tutorial/deployment/jar/packageman.html">MANIFEST</a> es un archivo de 
      texto incluído con cada jar, que especifica información de alto nivel sobre sus contenidos. El archivo MANIFEST usualmente 
      incluye información de versión. Esa información de versión es, a su vez, accesible en tiempo de ejecución utilizando método 
      de la clase 
      <code>
        <a href="https://docs.oracle.com/javase/10/docs/api/java/lang/Package.html#getSpecificationVersion()">Package</a>
      </code>.
    </p>
    <p>
      <b>Ejemplo</b>
    </p>
    <p>
      El siguiente ejemplo extrae el nombre y versión del paquete que contiene la clase <code>InternetAddress</code>. (Si el paquete       javax.mail.internet no está en su ruta de clase, puede fácilmente modificar este código para examinar algún otro paquete).
      <br />
    </p>
    <pre>
<span class="keyword">import</span> javax.mail.internet.InternetAddress;

<span class="comment">/**
 Muestra el nombre del paquete y la información de la versión de 
 javax.mail.internet.

 Siempre que pueda construir sobre un objeto de alguna clase conocida, 
 puede obtener la información de su paquete relacionado de esta manera.
*/</span>
<span class="keyword">public</span> <span class="keyword">final</span> <span
			class="keyword">class</span> ReadVersion {
  
  <span class="keyword">public</span> <span class="keyword">static</span> <span
			class="keyword">void</span> main(String... aArgs){
    ReadVersion readVersion = <span class="keyword">new</span> ReadVersion();
    readVersion.readVersionInfoInManifest();
  }
  
  <span class="keyword">public</span> <span class="keyword">void</span> readVersionInfoInManifest(){
    
    <span class="comment">//construye un objeto cuya clase está en el jar destino
</span>    InternetAddress object = <span class="keyword">new</span> InternetAddress();
    
    <span class="comment">//navega desde su objeto de clase a un objeto de paquete
</span>    Package objPackage = object.getClass().getPackage();
    
    <span class="comment">//examina el objeto del paquete 
</span>    String name = objPackage.getSpecificationTitle();
    String version = objPackage.getSpecificationVersion();
    <span class="comment">//algunos jars pueden usar entradas 'Implementation Version'en su lugar en el manifiesto
</span>    
    System.out.println(<span class="literal">"Nombre del paquete: "</span> + name);
    System.out.println(<span class="literal">"Versión del paquete: "</span> + version);
  }
} 
    </pre>
    Salida de ejemplo de esta clase:
    <p></p>
    <pre>
Nombre del paquete: JavaMail(TM) API Design Specification
Versión del paquete: 1.6
    </pre>
    <p></p>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> 
      <span id="app_version_number">3.001</span><br /> © 
      <span id="copyright">2018 Hirondelle Systems</span><br /> 
      <a href="http://www.javapractices.com/source/SourceAction.do">Código Fuente</a> | 
      <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a> | 
      <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/" rel="license">Licencia</a> | 
      <a href="http://www.javapractices.com/apps/cjp.rss" rel="alternate" type="application/rss+xml">RSS</a>
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      <br /> Los trozos de código individual tienen una 
      <a href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia BSD</a><br /> 
      Sobre 1,000,000 de IPs únicas el último año<br /> 
      Última actualización <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time><br />
      - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>