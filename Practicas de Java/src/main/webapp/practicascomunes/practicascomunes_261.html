<!DOCTYPE html>
<!-- saved from url=(0056)http://www.javapractices.com/topic/TopicAction.do?Id=261 -->
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords" content="java, programación java, Prácticas de Java, idioma java, estilo java, patrones de diseño java, 
          convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prácticas de Java-&gt;Anide clases con cuidado</title>
    <link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet9.css" media="all">
    <link rel="icon" type="image/png" href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html" title="Tabla de Contenido" style="float: left;">Inicio</a> &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search" class="search-form" style="float: right;">
        <input type="text" name="q" size="15" maxlength="255" value="" placeholder=""/> 
        <input type="submit" name="btnG" value="Búsqueda" /> 
        <input type="hidden" name="sitesearch" value="www.javapractices.com" />
      </form>
    </nav>
    <div class="page-title">Anide clases con cuidado</div>
    <br />
    En Java, puede anidar clases dentro de otras clases. Esta característica es muy útil cuando la necesita, pero se puede abusar 
    fácilmente de ella.
    <p>
      Cuando tenga una elección, debe declarar sus clases anidadas como <code>static</code>. La razón es que las clases anidadas 
      no estáticas (clases internas) están estrechamente acopladas al padre que las encierra, mientras que las clases anidadas 
      estáticas no. Este acoplamiento extra puede algunas veces causar problemas. En general, las clases estáticas anidadas son más 
      seguras que las no estáticas, y menos propensas a errores.
    </p>
    <p>
      En segundo lugar, rara vez debería usar niveles profundos de anidación.
    </p>
    <p>
      La terminología para las clases anidadas es un poco confusa. Aquí tiene un recordatorio de la jerarquía:
    </p>
    <pre>
  clase <b>anidada</b>
  <b>estática</b>
  clase (no estática) <b>interna</b> 
    regular, no dentro de un método o constructor
    dentro de un método o constructor
      <b>anónima</b>
      <b>local</b>
    </pre>
    Algunos recordatorios más:
    <ul>
      <li>
        estática - no vinculada a una instancia principal (pero puede ver los campos privados de un padre, si tiene una referencia 
        de objeto)
      </li>
      <li>no estática (clase interna) - siempre vinculada a una instancia principal</li>
      <li>anónima - sin modificadores de acceso; sin <code>extends</code> o <code>implements</code>; sin constructor</li>
      <li>
        local - nunca estática; sin modificadores de acceso; puede acceder sólo a elementos <code>final</code> que están en alcance;
        esta es la forma más rara de clase anidada.
      </li>
    </ul>
    Aquí hay una clase que bosqueja todos los diferentes tipos de clases anidadas:
    <br />
    <pre>
<span class="keyword">import</span> java.math.BigDecimal;
<span class="keyword">import</span> java.util.Date;
<span class="keyword">import</span> java.util.List;
<span class="keyword">import</span> java.util.Timer;
<span class="keyword">import</span> java.util.TimerTask;

<span class="keyword">public</span> <span class="keyword">final</span> <span
			class="keyword">class</span> MakeMovie {

  <span class="comment">/**
    Estática, ya que no necesita estar adjunto a una instancia principal.
   */</span>
  <span class="keyword">static</span> <span class="keyword">final</span> <span
			class="keyword">class</span> Actor {
    Actor(String aName){
      fName = aName;
    }
    String getName(){ 
      <span class="keyword">return</span> fName; 
    }
    <span class="keyword">private</span> String fName;
  }

  <span class="comment">/**
    Clase no estática (interna), ya que el reparto necesitará conocer los datos de 
    la película: su nombre, director y presupuesto.
  */</span>
  <span class="keyword">final</span> <span class="keyword">class</span> Casting {
    <span class="keyword">void</span> chooseFrom(List&lt;Actor&gt; aActors){
      <span class="comment">//puede referenciar los datos del padre directamente:
</span>      <span class="keyword">if</span>(fDirector.equals(<span
			class="literal">"Stanley Kubrick"</span>)){
        <span class="comment">//omitido...
</span>      }
    }
    List&lt;Actor&gt; getSelectedCast(){ 
      <span class="keyword">return</span> fSelectedCast; 
    }
    <span class="comment">//static void doThis(){} //no compila, ya que es estática
</span>    <span class="keyword">private</span> List&lt;Actor&gt; fSelectedCast;
  }
  
  <span class="keyword">void</span> wrapParty(){
    Timer timer = <span class="keyword">new</span> Timer();
    <span class="comment">//clase anónima - la implementación de TimerTask
</span>    <span class="comment">//esto es usualmente como se usan las clases anónimas - para definir un método único
</span>    timer.schedule(
      <span class="keyword">new</span> TimerTask(){ 
        <span class="keyword">@Override</span> <span class="keyword">public</span> <span
			class="keyword">void</span> run() {
          <span class="comment">//omitido...
</span>        };
      },
      <span class="keyword">new</span> Date()
    );
  }

  <span class="keyword">void</span> shootScene(<span class="keyword">final</span> <span
			class="keyword">int</span> aSceneNumber){
    <span class="comment">//clase local - este estilo parece ser bastante raro
</span>    <span class="keyword">class</span> Camera {
      <span class="keyword">void</span> shoot(){
        <span class="comment">//no compila a menos que aSceneNumber sea final:
</span>        System.out.println(aSceneNumber);
      }
    }
    Camera camera = <span class="keyword">new</span> Camera();
    camera.shoot();
  }
  
  <span class="comment">//omitido...
</span>
  <span class="keyword">private</span> String fName;
  <span class="keyword">private</span> String fDirector;
  <span class="keyword">private</span> BigDecimal fBudget;

} 
    </pre>
    <p></p>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> 
      <span id="app_version_number">3.001</span><br /> © 
      <span id="copyright">2018 Hirondelle Systems</span><br /> 
      <a href="http://www.javapractices.com/source/SourceAction.do">Código Fuente</a> | 
      <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a> | 
      <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/" rel="license">Licencia</a> | 
      <a href="http://www.javapractices.com/apps/cjp.rss" rel="alternate" type="application/rss+xml">RSS</a>
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      <br /> Los trozos de código individual tienen una 
      <a href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia BSD</a><br /> 
      Sobre 1,000,000 de IPs únicas el último año<br /> 
      Última actualización <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time><br />
      - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>