<!DOCTYPE html>
<!-- saved from url=(0055)http://www.javapractices.com/topic/TopicAction.do?Id=59 -->
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords" content="java, programación java, Prácticas de Java, idioma java, estilo java, patrones de diseño java, 
          convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prácticas de Java-&gt;Prefiera elementos vacíos a los nulos</title>
    <link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet9.css" media="all">
    <link rel="icon" type="image/png" href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html" title="Tabla de Contenido" style="float: left;">Inicio</a> &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search" class="search-form" style="float: right;">
        <input type="text" name="q" size="15" maxlength="255" value="" placeholder=""/> 
        <input type="submit" name="btnG" value="Search" /> 
        <input type="hidden" name="sitesearch" value="www.javapractices.com" />
      </form>
    </nav>
    <div class="page-title">Prefiera elementos vacíos a los nulos</div>
    <br />
    Hay muchos casos en los cuales un objeto "vacío" puede usarse en vez de una referencia de objeto nulo. Esto es usualmente 
    preferible, ya que ayuda a eliminar una de los problemas más comunes encontrados durante el desarrollo: la 
    <code><a href="https://docs.oracle.com/javase/10/docs/api/java/lang/NullPointerException.html">NullPointerException</a></code>.
    <p>
      Lo siguiente cualifica como objetos "vacíos":
    </p>
    <ul>
      <li>la String vacía</li>
      <li>matrices de longitud cero</li>
      <li>colecciones que contienen 0 elementos</li>
      <li>mapas conteniendo 0 elementos</li>
    </ul>
    <p>
      Ejemplo de declaraciones de elementos vacíos:
    </p>
    <pre>
<code>String item = "";</code>
<code>BigDecimal[] items = new BigDecimal[0];</code>
<code>List&lt;Integer&gt; items = new ArrayList&lt;&gt;();</code>
<code>Map&lt;String, Integer&gt; items = new LinkedHashMap&lt;&gt;();</code>
    </pre>
    <p>
      La clase <code><a href="https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html">Collections</a></code> 
      contiene varios métodos de tipo seguro que devuelven elementos vacíos (que son también inmutables y 
      <code>Serializable</code>) :
    </p>
    <ul>
      <li>
        <code>
          Collections.<a href="https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#emptyList()">emptyList()</a>
        </code>
      </li>
      <li>
        <code>
          Collections.<a href="https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#emptySet()">emptySet()</a>
        </code>
      </li>
      <li>
        <code>
          Collections.<a href="https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#emptyMap()">emptyMap()</a>
        </code>
      </li>
    </ul>
    Los métodos de arriba son ocasionalmente útiles.
    <p>
      <b>Ejemplo</b>
    </p>
    <p>
      Aquí tiene un ejemplo de usar una matriz de cero longitud, vacía en vez de una referencia nula. Esto simplifica al llamador, 
      ya que ellos nunca tienen que comprobar los valores <code>null</code>. (Una alternativa aún mejor es reemplazar la matriz con
      una colección posiblemente vacía).<br />
    </p>
    <pre>
<span class="keyword">import</span> java.util.*;

<span class="keyword">public</span> <span class="keyword">final</span> <span
            class="keyword">class</span> StockPortfolio {

  <span class="comment">//..omitido
</span>
  <span class="comment">/**
  * Un campo se implementa internamente como una Collection, 
  * pero ofrecido al usuario de esta clase como un Array.
  * Esta matriz nunca es nula, incluso si la Collection subyacente está 
  * vacía.
  */</span>
  <span class="keyword">public</span> String[] getStocks() {
    <span class="comment">/*
    NO_STOCKS juega aquí un doble papel. Si hay elementos en fStocks, entonces 
    toArray asignará una nueva matriz, usando NO_STOCKS simplemente como un indicador
    del tipo apropiado a usar. Si fStocks no tiene elementos en absoluto, entonces toArray
    simplemente devolverá la matriz NO_STOCKS misma.
    */</span>
    <span class="keyword">return</span> (String[]) fStocks.toArray(NO_STOCKS);
  }

  <span class="comment">// PRIVADO
</span>
  <span class="comment">/** La colección subyacente. */</span>
  <span class="keyword">private</span> List fStocks;

  <span class="comment">/** Una constante, matriz vacía, para ser usada en vez de una matriz nula. */</span>
  <span class="keyword">private</span> <span class="keyword">static</span> <span
            class="keyword">final</span> String[] NO_STOCKS = <span
            class="keyword">new</span> String[<span class="literal">0</span>];
} 
    </pre>
    <p></p>
    <p></p>
    <div class="topic-section" id="see-also-title">Vea También :</div>
    <div id="see-also" class="main-body">
      <a href="..\colecciones\colecciones_39.html">Prefiera las Colecciones a clases más viejas</a><br />
      <a href="..\practicascomunes\practicascomunes_134.html">Evite null si es posible</a><br />
    </div>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> 
      <span id="app_version_number">3.001</span><br /> © 
      <span id="copyright">2018 Hirondelle Systems</span><br /> 
      <a href="http://www.javapractices.com/source/SourceAction.do">Código Fuente</a> | 
      <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a> | 
      <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/" rel="license">Licencia</a> | 
      <a href="http://www.javapractices.com/apps/cjp.rss" rel="alternate" type="application/rss+xml">RSS</a>
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      <br /> Los trozos de código individual tienen una 
      <a href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia BSD</a><br /> 
      Sobre 1,000,000 de IPs únicas el último año<br /> 
      Última actualización <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time><br />
      - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>