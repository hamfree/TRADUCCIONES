<!DOCTYPE html>
<!-- saved from url=(0055)http://www.javapractices.com/topic/TopicAction.do?Id=64 -->
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords" content="java, programación java, Prácticas de Java, idioma java, estilo java, patrones de diseño java, 
          convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prácticas de Java-&gt;Compilación condicional</title>
    <link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet9.css" media="all">
    <link rel="icon" type="image/png" href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html" title="Tabla de Contenido" style="float: left;">Inicio</a> &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search" class="search-form" style="float: right;">
        <input type="text" name="q" size="15" maxlength="255" value="" placeholder=""/> 
        <input type="submit" name="btnG" value="Search" /> 
        <input type="hidden" name="sitesearch" value="www.javapractices.com" />
      </form>
    </nav>
    <div class="page-title">Compilación condicional</div>
    <br />
    La práctica de la compilación condicional se usa opcionalmente para eliminar fragmentos de código de la versión compilada de 
    una clase. Utiliza el hecho de que los compiladores ignorarán cualquier rama de código inalcanzable.
    <p>
      Para implementar la compilación condicional, 
    </p>
    <ul>
      <li>definir un valor <code>static final boolean</code> como un miembro no privado de alguna clase</li>
      <li>
        colocar el código que va a ser compilado condicionalmente en un bloque <code>if</code> que evalua a <code>boolean</code>
      </li>
      <li>
        establecer el valor de <code>boolean</code> a <code>false</code> para causar que el compilador ignore el bloque 
        <code>if</code>;de lo contrario, mantener su valor como <code>true</code>
      </li>
    </ul>
    Esta práctica se usa mayormente para implementar sentencias de depuración, sentencias de registro, y para aserciones. Con el 
    advenimiento de <code><a href="http://www.javapractices.com/topic/TopicAction.do?Id=101">assert</a></code> y la 
    <a href="http://www.javapractices.com/topic/TopicAction.do?Id=143">IPA de Registro</a> en el KDJ 1.4, la utilidad de la 
    compilación condicional es probablmente reducida.
    <p>
      Ejemplo<br />
    </p>
    <pre>
<span class="keyword">public</span> <span class="keyword">final</span> <span
            class="keyword">class</span> Debug {
  <span class="comment">//establecer a falso permite al compilador identificar y eliminar
</span>  <span class="comment">//código no alcanzable
</span>  <span class="keyword">public</span> <span class="keyword">static</span> <span
            class="keyword">final</span> <span class="keyword">boolean</span> ON = <span
            class="keyword">true</span>;
} 
    </pre>
    <br />
    Esta clase use <code>Debug</code> para implementar la compilación condicional:<br />
    <pre>
<span class="keyword">import</span> javax.servlet.*;
<span class="keyword">import</span> javax.servlet.http.*;
<span class="keyword">import</span> java.io.*;

<span class="comment">/**
* Usar compilación condicional para opcionalmente imprimr sentencias de depuración.
*/</span>
<span class="keyword">public</span> <span class="keyword">final</span> <span
            class="keyword">class</span> GenericServlet <span
            class="keyword">extends</span> HttpServlet {

  <span class="keyword">public</span> <span class="keyword">void</span> init(ServletConfig aConfig) <span
            class="keyword">throws</span> ServletException {
    <span class="keyword">super</span>.init(aConfig);

    <span class="comment">//imprime un mensaje, pero solo si Debug.ON se evalúa como verdadero
</span>    <span class="comment">//si Debug.ON evalúa a falso, este bloque entero de código será 
</span>    <span class="comment">//pasado por el compilador, y no estará presente en el archivo de salida .class
</span>    <span class="keyword">if</span> (Debug.ON) {
      System.out.println(<span class="literal">"**** INICIO DE Mi Controlador *****"</span>);
    }
  }

  <span class="keyword">public</span> <span class="keyword">void</span> doGet(
    HttpServletRequest aRequest,
    HttpServletResponse aResponse
  ) <span class="keyword">throws</span> ServletException, IOException {
    <span class="keyword">if</span> (Debug.ON) {
      System.out.println(<span class="literal">"Procesando doGet"</span>);
    }
    doHttpRequest(aRequest, aResponse);
  }

  <span class="keyword">public</span> <span class="keyword">void</span> doPost(
    HttpServletRequest aRequest,
    HttpServletResponse aResponse
  ) <span class="keyword">throws</span> ServletException, IOException {
    <span class="keyword">if</span> (Debug.ON) {
      System.out.println(<span class="literal">"Procesando doPost"</span>);
    }
    doHttpRequest(aRequest, aResponse);
  }

  <span class="comment">// PRIVADO //
</span>  <span class="keyword">private</span> <span class="keyword">void</span> doHttpRequest(
    HttpServletRequest aRequest,
    HttpServletResponse aResponse
  ) <span class="keyword">throws</span> ServletException, IOException {
     <span class="comment">//vacío
</span>  }
} 
    </pre>
    <br />
    <p></p>
    <p></p>
    <div class="topic-section" id="see-also-title">Vea También :</div>
    <div id="see-also" class="main-body">
      <a href="..\aserciones\aserciones_101.html">Aserciones en general</a><br />
      <a href="..\tareascomunes\tareascomunes_143.html">Mensajes de trazado</a><br />
    </div>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> 
      <span id="app_version_number">3.001</span><br /> © 
      <span id="copyright">2018 Hirondelle Systems</span><br /> 
      <a href="http://www.javapractices.com/source/SourceAction.do">Código Fuente</a> | 
      <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a> | 
      <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/" rel="license">Licencia</a> | 
      <a href="http://www.javapractices.com/apps/cjp.rss" rel="alternate" type="application/rss+xml">RSS</a>
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      <br /> Los trozos de código individual tienen una 
      <a href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia BSD</a><br /> 
      Sobre 1,000,000 de IPs únicas el último año<br /> 
      Última actualización <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time><br />
      - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>