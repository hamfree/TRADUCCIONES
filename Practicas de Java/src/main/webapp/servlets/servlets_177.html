<!DOCTYPE html>
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords" content="java, programación java, Prácticas de Java, idioma java, estilo java, patrones de diseño java, 
          convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Practices-&gt;Rellene de antemano los formularios</title>
    <link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet9.css" media="all">
    <link rel="icon" type="image/png" href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html" title="Tabla de Contenido" style="float: left;">Inicio</a> &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search" class="search-form" style="float: right;">
        <input name="q" size="15" maxlength="255" placeholder="" type="text" />
        <input name="btnG" value="Search" type="submit" /> 
        <input name="sitesearch" value="www.javapractices.com" type="hidden" />
      </form>
    </nav>
    <div class="page-title">Rellene de antemano los formularios</div>
    <br />
    Rellenar previamente los elementos del formulario es una tarea muy común e importante en una aplicación web. Si se implementa 
    el relleno previo efectivamente, entonces la aplicación web se vuelve más simple y robusta.
    <p>
      Se usan los formularios para dos clases de operaciones: editar la base de datos, y definir criterios de búsqueda.
    </p>
    <p>
      Cuando edita la base de datos, hay dos casos de uso para los formularios:
    </p>
    <ul>
      <li>
        El caso de uso "agregar", donde se agrega un nuevo registro al almacén de datos - aquí, los elementos de entrada están 
        inicialmente en blanco, o tienen valores iniciales predeterminados establecidos en su HTML estático.
      </li>
      <li>
        El caso de uso "cambiar", donde se va a editar un registro ya existente por el usuario - aquí, los elementos de entrada 
        <em>no</em> están inicialmente en blanco, sino que se rellenan dinámicamente con los valores actuales obtenidos de la base 
        de datos.
      </li>
    </ul>
    <p>
      En ambos casos, el usuario hace entradas en el formulario, y después las envía para procesar, usando un <code>POST</code>. Si 
      se detecta un error, entonces hay una operación "devolver al remitente", y se vuelve a visualizar el formulario HTML, con 
      todos sus elementos dinámicamente rellenados, mostrando sus valores ingresados más recientes. Tambíen se visualizan los 
      mensajes de error apropiados. 
    </p>
    <p>
      (Para los formularios utilizados para la entrada de criterios de búsqueda, el comportamiento es similar al caso de uso 
      "agregar" descrito antes, con la diferencia importante de que el formulario usa <code>GET</code> en vez de <code>POST</code>).
    </p>
    <p>
      ¿Cómo se puede implementar este comportamiento de la manera más eficaz?
    </p>
    <p>
      Un método usa una etiqueta única personalizada 
      <a href="http://www.web4j.com/web4j/javadoc/hirondelle/web4j/ui/tag/Populate.html"><code>Populate</code></a>, y es 
      <span class="highlight">guiada por la idea de que agregar relleno a un formulario debería tener un efecto absolutamente 
        mínimo en el marcado utilizado en el caso de un formulario HTML estático regular</span>. Esto parece muy efectivo, ya que 
    </p>
    <ul>
      <li>
        los autores de páginas web no necesitan aprender nada nuevo, ya que los <i>formularios permanecen casi exactamente como 
        son en el caso estático</i>
      </li>
      <li>minimiza radicalmente el esfuerzo necesitado para implementar el relleno</li>
      <li>
        reutiliza los parámetros de la petición que ya están presentes <i>y</i> que ya están en la forma necesaria para la 
        visualización final 
      </li>
      <li>
        acopla formularios HTML a los detalles de un objeto de dominio solo a través de una convención de nomenclatura simple, que 
        asigna los nombres de los controles de entrada a los métodos <code>getXXX</code> del objeto de dominio
      </li>
      <li>
        las implementaciones de las clases de dominio necesitan manejar solo el caso de datos <i>válidos</i>, por lo que se vuelven 
        más pequeñas y simples, una 
        <a href="../practicascomunes/practicascomunes_6.html">clase invariante</a> es fácil de definir, y pueden ser 
        <a href="../patrones/patrones_29.html">objetos inmutables</a>
      </li>
    </ul>
    Un estilo inferior, visto comunmente en los marcos de trabajo tales como Struts y Java Server Faces, reemplaza las etiquetas 
    estándar de HTML tales como <code>&lt;INPUT&gt;</code> y <code>&lt;SELECT&gt;</code> con una colección paralela de etiquetas 
    personalizadas. Tal estilo tiene estas desventajas:
    <ul>
      <li>el formulario necesita una alteración radical del estilo utilizado en un formulario HTML simple y estático</li>
      <li>cualquier prototipo escrito en HTML debe ser descartado o alterado radicalmente</li>
      <li>
        se fuerza al el autor de la página web a aprender los detalles de múltiples etiquetas personalizadas, que son diferentes 
        para cada marco de trabajo
      </li>
      <li>
        el relleno es más una tarea de programación que una tarea de presentación, pero en este estilo el autor de la página es 
        principalmente responsable de su implementación
      </li>
    </ul>
    <h4>Ejemplo</h4>
    <p>
      El marco de trabajo <a href="../servlets/servlets_188.html">web4j</a> implementa la etiqueta 
      <code><a href="http://www.web4j.com/web4j/javadoc/hirondelle/web4j/ui/tag/Populate.html">Populate</a></code>. Aquí, un JSP 
      usa la etiqueta <code>&lt;w:populate&gt;</code> para envolver los controles de una etiqueta &lt;FORM&gt; que puede necesitar 
      rellenado dinámico. Tenga en cuenta cómo la etiqueta <code>&lt;w:populate&gt;</code> simplemente envuelve el cuerpo del 
      formulario, y representa un cambio absolutamente mínimo al estilo usadon en un formulario HTML simple y estático.
    </p>
    <pre>
&lt;w:populate using="itemForEdit"&gt;
 &lt;form action='MemberAction.do' method="post"&gt;
  &lt;input name="Id" type="hidden"&gt;
  &lt;table align="center"&gt;
   &lt;tr&gt;
    &lt;td&gt;&lt;label&gt;Name&lt;/label&gt; *&lt;/td&gt;
    &lt;td&gt;&lt;input name="Name" type="text"&gt;&lt;/td&gt;
   &lt;/tr&gt;
   &lt;tr&gt;
    &lt;td&gt;&lt;label&gt;Is Active?&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;input name="Is Active" type="checkbox" value="true"&gt;&lt;/td&gt;
   &lt;/tr&gt;
   &lt;tr&gt;
    &lt;td&gt;&lt;label&gt;Disposition&lt;/label&gt;&lt;/td&gt;
    &lt;td&gt;
     &lt;select name="Disposition"&gt;
      &lt;option&gt; &lt;/option&gt;
      &lt;c:forEach var="item" items="${dispositions}"&gt;
        &lt;option value="${item.id}"&gt;${item}&lt;/option&gt;
      &lt;/c:forEach&gt;
     &lt;/select&gt;
    &lt;/td&gt;
   &lt;/tr&gt;

   &lt;tr&gt;
    &lt;td align="center" colspan=2&gt;
     &lt;input type="submit" value="add.edit.button"&gt;
    &lt;/td&gt;
   &lt;/tr&gt;
  &lt;/table&gt;
  &lt;tags:hiddenOperationParam/&gt;

 &lt;/form&gt;
&lt;/w:populate&gt;
    </pre>
    <br />
    <p></p>
    <div class="topic-section" id="see-also-title">Vea También :</div>
    <div id="see-also" class="main-body">
      <a href="..\servlets\servlets_175.html">Prefiera el uso de etiquetas JSTL</a><br />
      <a href="..\servlets\servlets_188.html">WEB4J, Un Marco de trabajo de Aplicaciones WEB</a><br />
    </div>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> 
      <span id="app_version_number">3.001</span><br /> © 
      <span id="copyright">2018 Hirondelle Systems</span><br /> 
      <a href="http://www.javapractices.com/source/SourceAction.do">Código Fuente</a> | 
      <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a> | 
      <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/" rel="license">Licencia</a> | 
      <a href="http://www.javapractices.com/apps/cjp.rss" rel="alternate" type="application/rss+xml">RSS</a>
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      <br /> Los trozos de código individual tienen una 
      <a href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia BSD</a><br /> 
      Sobre 1,000,000 de IPs únicas el último año<br /> 
      Última actualización <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time><br />
      - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>