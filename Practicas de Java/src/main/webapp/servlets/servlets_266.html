<!DOCTYPE html>
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description"
	content="Prácticas y técnicas de programación en Java.">
<meta name="keywords"
	content="java,programación java,Prácticas de Java,idioma 
        java,estilo java,patrones de diseño java,convenciones de codigo java">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prácticas de Java-&gt;Enlaces de versión a CSS y JS</title>
<link id="stylesheet" rel="stylesheet" type="text/css"
    href="../css/stylesheet9.css" media="all">
<link rel="icon" type="image/png"
    href="../img/favicon.png">
</head>
<body>
    <nav class="menu-bar" id="menu-bar">
        <a href="../index.html"
            title="Table of Contents" style="float: left;">Inicio</a>
        &nbsp;&nbsp;
        <form method="GET" action="https://www.google.com/search"
            class="search-form" style="float: right;">
            <input name="q" size="15" maxlength="255" placeholder=""
                type="text"> <input name="btnG" value="Search"
                type="submit"> <input name="sitesearch"
                value="www.javapractices.com" type="hidden">
        </form>
    </nav>
    <div class="page-title">Enlaces de versión a CSS y JS</div>
    <br> Most web apps use cascading style sheets (.css files) and
    javascript (.js files). There's a pitfall regarding such files that
    occurs when you update your app.
    <p>Most browsers will cache .css/.js files. When you update your
        app, the browser will likely use the old, cached versions of
        these files, and not the new ones. That's usually not desirable,
        since you usually have updates that you need your users to see.
        If you do nothing, then, in the new world, users will see a mix
        of new web pages with old css/js. That's bad.</p>
    <p>As a programmer, you know that you can hit Control + F5 (or
        similar) to refresh everything, and the app will look fine. But
        that's dangerous, because now you see one thing, but most of
        your users will still see broken pages. You never want to force
        your users to hit Control + F5.</p>
    <p>Here's a simple way of getting around this problem. Just
        append a version parameter to each link to a css/js file:</p>
    <pre>&lt;link rel="stylesheet" href="../css/styles.css<b>?ver=27</b>" media="all"&gt;</pre>
    Every time you release a new version of your app, you increment the
    value of this version parameter.
    <em>The version parameter has no other role than to make the
        URL different between different releases.</em> This will force the
    browser to fetch the newest version of the css/js file when a
    release is made, and avoid the browser cache.
    <p>
        Of course, you need to define the value of this version
        parameter in one place. A natural home for it is
        <code>web.xml</code>
        :
    </p>
    <pre>  &lt;context-param&gt;
   &lt;param-name&gt;ver&lt;/param-name&gt;
   &lt;param-value&gt;27&lt;/param-value&gt;
  &lt;/context-param&gt;
</pre>
    <p>You reference such data in a JSP like so:</p>
    <pre>&lt;link rel="stylesheet" href="../css/styles.css<b>?ver=${initParam.ver}</b>" media="all"&gt;</pre>
    <p>You may want to centralize this policy in a .tag file:</p>
    <pre>&lt;link rel="stylesheet" href="../css/styles.css&lt;tags:ver/&gt;" media="all"&gt;</pre>
    ver.tag:
    <pre>&lt;%@ include file="/WEB-INF/TagHeader.jspf" %&gt;&lt;%@ tag pageEncoding="UTF-8" trimDirectiveWhitespaces="true" %&gt;?ver=${initParam.ver}</pre>
    <p></p>
    <footer id="footer" class="legalese">
		<span id="app_name">Prácticas de Java</span> <span
			id="app_version_number">3.001</span><br> © <span id="copyright">2018
			Hirondelle Systems</span><br> <a
			href="http://www.javapractices.com/source/SourceAction.do">Código
			Fuente</a> | <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a>
		| <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/"
			rel="license">Licencia</a> | <a
			href="http://www.javapractices.com/apps/cjp.rss" rel="alternate"
			type="application/rss+xml">RSS</a>
		<!-- ukey="2AC36CD2" -->
		<!-- ckey="16DF3D87" -->
		<br> Los trozos de código individual tienen una <a
			href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia
			BSD</a><br> Sobre 1,000,000 de IPs únicas el último año<br>
		Última actualización
		<time id="last_updated_on" datetime="2018-06-03">2018-06-03</time>
		<br> - In Memoriam : Bill Dirani -
	</footer>
</body>
</html>