<!DOCTYPE html>
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description"
          content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords"
          content="java,programación java,Prácticas de Java,idioma 
          java,estilo java,patrones de diseño java,convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prácticas Java-&gt;Simplificar las operaciones de bases de datos</title>
    <link id="stylesheet" rel="stylesheet" type="text/css"
          href="../css/stylesheet9.css" media="all">
    <link rel="icon" type="image/png"
          href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html"
         title="Tabla de Contenido" style="float: left;">Inicio</a>
      &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search"
            class="search-form" style="float: right;">
        <input name="q" size="15" maxlength="255" placeholder=""
               type="text"> <input name="btnG" value="Search"
               type="submit"> <input name="sitesearch"
               value="www.javapractices.com" type="hidden">
      </form>
    </nav>
    <div class="page-title">Simplificar las operaciones de bases de datos</div>
    <br> Since fetch and edit operations are such common tasks in
    many applications, it's beneficial if these tasks can be made as
    simple and compact as possible. Even when using tools on top of
    JDBC, there are very often ways of simplifying code and removing
    repetition.
    <p>
      If you find that your data access code is becoming repetitive,
      look for ways to remove the repetition - utility classes, <a
        href="http://www.javapractices.com/topic/TopicAction.do?Id=164">template
        methods</a>, and so on.
    </p>
    <p>
      <b>Example</b>
    </p>
    <p>
      The
      <code>
        <a
          href="http://www.web4j.com/fish/javadoc/hirondelle/fish/main/member/MemberDAO.html">MemberDAO</a>
      </code>
      class is taken from one of the <a
        href="http://www.javapractices.com/topic/TopicAction.do?Id=188">WEB4J</a>
      example applications. This example is already quite compact. The
      methods are short, and read at a high level. If you look
      closely, however, you can see that one item is still repeated.
      Can you spot it? It's rather subtle. (See answer below.) <br>
    </p>
    <pre>
        <span class="comment">/** Data Access Object (DAO) for {@link Member} objects. */</span>
<span class="keyword">public</span> <span class="keyword">final</span> <span
            class="keyword">class</span> MemberDAO {
  
  <span class="comment">//elided...
</span>
  List&lt;Member&gt; list() <span class="keyword">throws</span> DAOException {
    <span class="keyword">return</span> Db.list(Member.<span
            class="keyword">class</span>, MEMBER_LIST);
  }
   
  <span class="keyword">public</span> Member fetch(Id aMemberId) <span
            class="keyword">throws</span> DAOException {
    <span class="keyword">return</span> Db.fetch(Member.<span
            class="keyword">class</span>, MEMBER_FETCH, aMemberId);
  }
   
  Id add(Member aMember) <span class="keyword">throws</span> DAOException, DuplicateException {
    <span class="keyword">return</span> Db.add(MEMBER_ADD, baseParamsFrom(aMember));
  }
   
  <span class="keyword">boolean</span> change(Member aMember) <span
            class="keyword">throws</span> DAOException, DuplicateException {
    Object[] params = Db.addIdTo(baseParamsFrom(aMember), aMember.getId());
    <span class="keyword">return</span> Util.isSuccess(Db.edit(MEMBER_CHANGE, params));
  }
  
  <span class="keyword">int</span> delete(Id aMemberId) <span
            class="keyword">throws</span> DAOException {
     <span class="keyword">return</span> Db.delete(MEMBER_DELETE, aMemberId);
  }
   
  <span class="comment">// PRIVATE 
</span>  
  <span class="keyword">private</span> Object[] baseParamsFrom(Member aMember){
    <span class="keyword">return</span> <span class="keyword">new</span> Object[]{
      aMember.getName(), aMember.getIsActive(), aMember.getDisposition().getId()
    };
  }
}
 
    </pre>
    The answer is that the
    <code>list</code>
    and
    <code>fetch</code>
    methods repeat the same piece of data - the class literal
    <code>Member.class</code>
    . Like any repeated literal, it should likely be placed in a
    <code>private static final</code>
    field. Since that would be a common occurence, it would likely be
    beneficial to make a habit of doing so, and of giving a conventional
    name to the field as well, such as
    <code>MODEL_CLASS</code>
    .
    <br>
    <p></p>
    <p></p>
    <div class="topic-section" id="see-also-title">Vea También :</div>
    <div id="see-also" class="main-body">
      <a
        href="..\bbdd\bbdd_76.html">Reduzca la duplicación de código de la base de datos</a> <br> <a
        href="..\bbdd\bbdd_105.html">Mantenga el SQL fuera del código</a> <br> <a
        href="..\bbdd\bbdd_124.html">Considere usar herramientas de la capa de datos
      </a> <br> <a
        href="..\bbdd\bbdd_183.html">Encapsule las conexiones</a> <br> <a
        href="..\servlets\servlets_188.html">WEB4J, Un Marco de trabajo de Aplicaciones WEB
      </a> <br> <a
        href="..\bbdd\bbdd_189.html">Use plantillas para las transacciones</a><br>
    </div>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> <span
        id="app_version_number">3.001</span><br> © <span id="copyright">2018
        Hirondelle Systems</span><br> <a
        href="http://www.javapractices.com/source/SourceAction.do">Código
        Fuente</a> | <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a>
      | <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/"
           rel="license">Licencia</a> | <a
           href="http://www.javapractices.com/apps/cjp.rss" rel="alternate"
           type="application/rss+xml">RSS</a>
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      <br> Los trozos de código individual tienen una <a
        href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia
        BSD</a><br> Sobre 1,000,000 de IPs únicas el último año<br>
      Última actualización
      <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time>
      <br> - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>