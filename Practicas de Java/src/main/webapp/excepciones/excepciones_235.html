<!DOCTYPE HTML>
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Prácticas y técnicas de programación en Java.">
    <meta name="keywords" content="java, programación java, Prácticas de Java, idioma java, estilo java, patrones de diseño java, 
          convenciones de codigo java">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prácticas de Java-&gt;Cuidado con las causas raíz desconocidas</title>
    <link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet9.css?3.001" media="all">
    <link rel="icon" type="image/png" href="../img/favicon.png">
  </head>
  <body>
    <nav class="menu-bar" id="menu-bar">
      <a href="../index.html" title="Tabla de Contenido" style="float: left;">Inicio</a> &nbsp;&nbsp;
      <form method="GET" action="https://www.google.com/search" class="search-form" style="float: right;">
        <input type="text" name="q" size="15" maxlength="255" value="" placeholder="" />
        <input type="submit" name="btnG" value="Search" /> 
        <input type="hidden" name="sitesearch" value="www.javapractices.com" />
      </form>
    </nav>
    <div class="page-title">Cuidado con las causas raíz desconocidas</div>
    <br />
    Todas las excepciones se basan en la clase 
    <code><a href="https://docs.oracle.com/javase/10/docs/api/java/lang/Throwable.html">Throwable</a></code>. De forma 
    predeterminada, todas las <code>Throwable</code>s pueden tener una <i>causa raíz</i> subyacente. La causa raíz puede 
    establecerse en el constructor de Throwable, o después de la construcción llamando a 
    <code>
      <a href="https://docs.oracle.com/javase/10/docs/api/java/lang/Throwable.html#initCause(java.lang.Throwable)">initCause</a></code>.
    <p>
      Tener la causa raíz es muy útil para la resolución de problemas. Sin embargo, hay un caso en el que las causas raíz pueden 
      causar un problema. Cuando se pasa una <code>Throwable</code> a través de la red, debe ser primero serializada, y después 
      reconstruída (deserializada) en el otro extremo. Si la causa raíz dentro del objeto <code>Throwable</code> no es conocida 
      por el receptor en el otro extremo, entonces ¿qué ocurre? El receptor lanzará una 
      <code>
        <a href="https://docs.oracle.com/javase/10/docs/api/java/lang/NoClassDefFoundError.html">NoClassDefFoundError</a>
      </code>. Por supuesto, esto reemplaza la excepción original con algo no relacionado.
    </p>
    <p>
      Una opción es definir una excepción "bloqueada", que pueda mantener sólo <code>null</code> como la causa raíz.
    </p>
    <p>
      <b>Ejemplo</b>
    </p>
    <p>
      Esta clase es una excepción comprobada que no puede tomar una causa raiz. <br />
    </p>
    <pre>
<span class="comment">/**
  Una excepción comprobada que no puede tomar una causa raíz.
  
  Todas las llamadas a {@link #getCause()} devolverán &lt;tt&gt;null&lt;/tt&gt;.
  Esta clase no puede ser subclasificada (sin herencia).
*/</span>
<span class="keyword">public</span> <span class="keyword">final</span> <span
            class="keyword">class</span> LockedDownException <span
            class="keyword">extends</span> Exception {
  
  <span class="comment">/**
   El único constructor.
   No se puede pasar una causa raíz a este constructor.
  */</span>
  <span class="keyword">public</span> LockedDownException(String aMessage){
    <span class="keyword">super</span>(aMessage);
  }
  
  <span class="comment">/**
   Siempre coerciona la causa raíz a  &lt;tt&gt;null&lt;/tt&gt;.
    
   &lt;P&gt;Incluso aunque se le permite al llamante llamar a este método, nunca tendrá ningún efecto. No se permite al llamante 
   establecer la causa raíz, ni durante la construcción, ni después de la construcción.
  */</span>
  <span class="keyword">@Override</span> <span class="keyword">public</span> <span
            class="keyword">synchronized</span> Throwable initCause(Throwable aRootCause) {
    <span class="keyword">return</span> <span class="keyword">super</span>.initCause(<span
            class="keyword">null</span>);
  }
  

  <span class="comment">/** Prueba simple. */</span>
  <span class="keyword">public</span> <span class="keyword">static</span> <span
            class="keyword">void</span> main(String... aArgs){
    LockedDownException ex = <span class="keyword">new</span> LockedDownException(<span
            class="literal">"Hello"</span>);
    ex.initCause(<span class="keyword">new</span> IllegalArgumentException(<span
            class="literal">"Test"</span>));
    System.out.println(ex.getCause()); <span class="comment">//imprime 'null'
</span>  }
} 
    </pre>
    <br />
    <p></p>
    <p></p>
    <div class="topic-section" id="see-also-title">Vea También :</div>
    <div id="see-also" class="main-body">
      <a href="..\bbdd\bbdd_77.html">Encapsulado de la excepción de Datos</a><br />
    </div>
    <footer id="footer" class="legalese">
      <span id="app_name">Prácticas de Java</span> 
      <span id="app_version_number">3.001</span><br /> © 
      <span id="copyright">2018 Hirondelle Systems</span><br /> 
      <a href="http://www.javapractices.com/source/SourceAction.do">Código Fuente</a> | 
      <a href="mailto:webmaster@javapractices.com" rel="author">Contacto</a> | 
      <a href="http://creativecommons.org/licenses/by-nc-sa/1.0/" rel="license">Licencia</a> | 
      <a href="http://www.javapractices.com/apps/cjp.rss" rel="alternate" type="application/rss+xml">RSS</a><br /> 
      <!-- ukey="2AC36CD2" -->
      <!-- ckey="16DF3D87" -->
      Los trozos de código individual tienen una 
      <a href="http://www.javapractices.com/LICENSE.txt" rel="license">licencia BSD</a><br /> 
      Sobre 1,000,000 de IPs únicas el último año<br /> 
      Última actualización <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time><br />
      - In Memoriam : Bill Dirani -
    </footer>
  </body>
</html>
