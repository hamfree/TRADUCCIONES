<!doctype html>
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description"
    content="Prácticas y técnicas de programación en Java.">
<meta name="keywords"
    content="java,programación java,Prácticas de Java,idioma 
        java,estilo java,patrones de diseño java,convenciones de codigo java">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prácticas de Java-&gt;Cuidado con las causas raíz
    desconocidas</title>
<link id="stylesheet" rel="stylesheet" type="text/css"
    href="../css/stylesheet9.css?3.001" media="all">
<link rel="icon" type="image/png" href="../img/favicon.png">
</head>
<body>
    <nav class="menu-bar" id="menu-bar">
        <a href="../index.html" title="Table of Contents"
            style="float: left;">Inicio</a> &nbsp;&nbsp;
        <form method="GET" action="https://www.google.com/search"
            class="search-form" style="float: right;">
            <input type="text" name="q" size="15" maxlength="255"
                value="" placeholder=""> <input type="submit"
                name="btnG" value="Search"> <input type="hidden"
                name="sitesearch" value="www.javapractices.com">
        </form>
    </nav>
    <div class="page-title">Cuidado con las causas raíz
        desconocidas</div>
    <br>All exceptions are based on the
    <code>
        <a
            href="https://docs.oracle.com/javase/10/docs/api/java/lang/Throwable.html">Throwable</a>
    </code>
    class. By default, all
    <code>Throwable</code>
    s can have an underlying
    <i>root cause</i>. The root cause may be set in the Throwable's
    constructor, or after construction by calling
    <code>
        <a
            href="https://docs.oracle.com/javase/10/docs/api/java/lang/Throwable.html#initCause(java.lang.Throwable)">initCause</a>
    </code>
    .
    <p>
        Having the root cause is very useful for troubleshooting.
        However, there is a case in which root causes can cause a
        problem. When a
        <code>Throwable</code>
        is passed over the network, it must first be serialized, and
        then reconstructed (deserialized) on the other end. If the root
        cause inside a
        <code>Throwable</code>
        object is not known to the receiver on the other end, then what
        happens? The receiver will throw a
        <code>
            <a
                href="https://docs.oracle.com/javase/10/docs/api/java/lang/NoClassDefFoundError.html">NoClassDefFoundError</a>
        </code>
        . Of course, this replaces the original exception with something
        unrelated.
    </p>
    <p>
        One option is to define a "locked down" exception, which can
        hold only
        <code>null</code>
        as the root cause.
    </p>
    <p>
        <b>Example</b>
    </p>
    <p>
        This class is a checked exception which cannot take a root
        cause. <br>
    </p>
    <pre>
<span class="comment">/**
  A checked exception that cannot be given a root cause.
  
  All calls to {@link #getCause()} will return &lt;tt&gt;null&lt;/tt&gt;.
  This class cannot be subclassed. 
*/</span>
<span class="keyword">public</span> <span class="keyword">final</span> <span
            class="keyword">class</span> LockedDownException <span
            class="keyword">extends</span> Exception {
  
  <span class="comment">/**
   The sole constructor.
   No root cause can be passed to this constructor.
  */</span>
  <span class="keyword">public</span> LockedDownException(String aMessage){
    <span class="keyword">super</span>(aMessage);
  }
  
  <span class="comment">/**
   Always coerces the root cause to &lt;tt&gt;null&lt;/tt&gt;.
    
   &lt;P&gt;Even though the caller is allowed to call this method, it will never
   have any effect. The caller is not allowed to set the root cause, neither
   during construction, nor after construction.
  */</span>
  <span class="keyword">@Override</span> <span class="keyword">public</span> <span
            class="keyword">synchronized</span> Throwable initCause(Throwable aRootCause) {
    <span class="keyword">return</span> <span class="keyword">super</span>.initCause(<span
            class="keyword">null</span>);
  }
  

  <span class="comment">/** Simple test harness. */</span>
  <span class="keyword">public</span> <span class="keyword">static</span> <span
            class="keyword">void</span> main(String... aArgs){
    LockedDownException ex = <span class="keyword">new</span> LockedDownException(<span
            class="literal">"Hello"</span>);
    ex.initCause(<span class="keyword">new</span> IllegalArgumentException(<span
            class="literal">"Test"</span>));
    System.out.println(ex.getCause()); <span class="comment">//prints 'null'
</span>  }
} 
</pre>
    <br>
    <p></p>
    <p></p>
    <div class="topic-section" id="see-also-title">See Also :</div>
    <div id="see-also" class="main-body">
        <a href="..\bbdd\bbdd_77.html">Encapsulado de la excepción
            de Datos</a> <br>
    </div>
    <footer id="footer" class="legalese">
        <span id="app_name">Prácticas de Java</span> <span
            id="app_version_number">3.001</span><br> © <span
            id="copyright">2018 Hirondelle Systems</span><br> <a
            href="http://www.javapractices.com/source/SourceAction.do">Código
            Fuente</a> | <a href="mailto:webmaster@javapractices.com"
            rel="author">Contacto</a> | <a
            href="http://creativecommons.org/licenses/by-nc-sa/1.0/"
            rel="license">Licencia</a> | <a
            href="http://www.javapractices.com/apps/cjp.rss"
            rel="alternate" type="application/rss+xml">RSS</a>
        <!-- ukey="2AC36CD2" -->
        <!-- ckey="16DF3D87" -->
        <br> Los trozos de código individual tienen una <a
            href="http://www.javapractices.com/LICENSE.txt"
            rel="license">licencia BSD</a><br> Sobre 1,000,000 de
        IPs únicas el último año<br> Última actualización
        <time id="last_updated_on" datetime="2018-06-03">2018-06-03</time>
        <br> - In Memoriam : Bill Dirani -
    </footer>
</body>
</html>
