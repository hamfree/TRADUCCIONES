<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Usando la Etiqueta f:websocket</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-ws002.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-ws004.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1">
      <h2 id="using-the-fwebsocket-tag">Usando la Etiqueta f:websocket</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            La <a href="#attributes-of-the-f:websocket-tag">Tabla 17-1</a> describe los atributos de la 
            etiqueta <code>f:websocket</code>.
          </p>
        </div>
        <div id="attributes-of-the-f:websocket-tag" class="paragraph">
          <p><strong>Tabla 17-1 Atributos de la Etiqueta <code>f:websocket</code></strong></p>
        </div>
        <table class="tableblock frame-all grid-all" style="width: 85%;">
          <colgroup>
            <col style="width: 17.647%;">
            <col style="width: 17.647%;">
            <col style="width: 64.706%;">
          </colgroup>
          <tbody>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><strong>Nombre</strong></p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><strong>Tipo</strong></p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><strong>Descripción</strong></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>channel</code></p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">String</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Requerido. El nombre del canal WebSocket. Puede que no sea una expresión EL y solo puede 
                  contener caracteres alfanuméricos, guiones, guiones bajos y puntos. Todos los WebSockets 
                  abiertos en el mismo nombre de canal recibirán la misma notificación automática del 
                  servidor.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. El identificador del componente UIWebSocket que se va a crear.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top"><p class="tableblock"><code>scope</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. El alcance del canal WebSocket. Puede que no sea una expresión EL. Los valores 
                  permitidos (sin distinción entre mayúsculas y minúsculas) son: <code>application</code>, 
                  <code>session</code> y <code>view</code>.
                </p>
                <p class="tableblock">
                  Cuando el valor es <code>application</code>, todos los canales con el mismo nombre en toda 
                  la aplicación reciben el mismo mensaje push. Cuando el valor es <code>session</code>, solo 
                  los canales con el mismo nombre en la sesión de usuario actual reciben el mismo mensaje 
                  push. Cuando el valor es <code>view</code>, solo el canal en la vista actual recibe el 
                  mensaje push.
                </p>
                <p class="tableblock">
                  El ámbito predeterminado es <code>application</code>. Cuando se especifica el atributo 
                  <code>user</code>, el ámbito predeterminado es <code>session</code>.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top"><p class="tableblock"><code>user</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Serializable</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. El identificador de usuario del canal WebSocket, para que se puedan enviar 
                  mensajes push dirigidos al usuario. Debe implementar Serializable y preferiblemente tener 
                  una huella de memoria baja.
                </p>
                <p class="tableblock">
                  <strong>Sugerencia</strong>: use <code>#{request.remoteUser}</code> o 
                  #<code>{someLoggedInUser.id}</code>.
                </p>
                <p class="tableblock">
                  Todos los WebSockets abiertos en el mismo canal y el usuario recibirá el mismo mensaje de 
                  inserción del servidor.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top"><p class="tableblock"><code>onopen</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. La función de controlador de eventos de JavaScript que se invoca cuando se abre el 
                  WebSocket. La función se invoca con un argumento: el nombre del canal.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>onmessage</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. La función de controlador de eventos de JavaScript que se invoca cuando se recibe 
                  un mensaje push del servidor. La función se invoca con tres argumentos: el mensaje push, el 
                  nombre del canal y la instancia de <code>MessageEvent</code>.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>onclose</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. La función de controlador de eventos de JavaScript que se invoca cuando se cierra 
                  el WebSocket. La función se invoca con tres argumentos: el código de motivo de cierre, el 
                  nombre del canal y el <code>CloseEvent</code>.
                </p>
                <p class="tableblock">
                  Tenga en cuenta que esto también se invocará en caso de errores. Si se produjo un error, 
                  puede inspeccionar el código de motivo de cierre y qué código se proporcionó (por ejemplo, 
                  cuando el código no es <code>1000</code>).
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>connected</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. Especifica si se vuelve a conectar automáticamente el WebSocket. El valor 
                  predeterminado es <code>true</code>. Se interpreta como una instrucción de JavaScript para 
                  abrir o cerrar la conexión push de WebSocket.
                </p>
                <p class="tableblock">
                  Este atributo es reevaluado implícitamente en cada solicitud de ajax por un oyente 
                  <code>PreRenderViewEvent</code> en <code>UIViewRoot</code>. También puede establecerlo 
                  explícitamente en <code>false</code> y luego controlarlo manualmente en JavaScript usando 
                  <code>jsf.push.open(clientId)</code> y <code>jsf.push.close(clientId)</code>.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>rendered</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. Especifica si se deben representar los scripts de WebSocket. El valor 
                  predeterminado es <code>true</code>.
                </p>
                <p class="tableblock">
                  Este atributo es reevaluado implícitamente en cada solicitud de ajax por un oyente 
                  <code>PreRenderViewEvent</code> en <code>UIViewRoot</code>. Si el valor cambia a 
                  <code>false</code> mientras el WebSocket ya está abierto, el WebSocket se cerrará 
                  implícitamente.
                </p>
              </td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>binding</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">UIComponent</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock">
                  Opcional. La expresión de vinculación de valor a una propiedad de bean de respaldo vinculada 
                  a la instancia del componente para el <code>UIComponent</code> creado por esta etiqueta.
                </p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-ws002.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-ws004.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
