<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Usando Beans Predefinidos en Aplicaciones CDI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="cdi-adv003.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-adv005.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="CJGHGDBA">
      <h2 id="using-predefined-beans-in-cdi-applications">Usando Beans Predefinidos en Aplicaciones CDI</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Java EE proporciona beans predefinidos que implementan las siguientes interfaces.
          </p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                <code>javax.transaction.UserTransaction</code>: Una transacción de usuario IPA de Java Transaction (JTA).
              </p>
            </li>
            <li>
              <p>
                <code>java.security.Principal</code>: La noción abstracta de un principal, que representa 
                cualquier entidad, como un individuo, una corporación o una ID de inicio de sesión. Cada vez 
                que se accede al principal inyectado, siempre representa la identidad de la persona actual 
                que llama. Por ejemplo, un principal se inyecta en un campo en la inicialización. 
                Posteriormente, se llama a un método que usa el principal inyectado en el objeto en el que se 
                inyectó el principal. En esta situación, el principal inyectado representa la identidad de la 
                persona actual que llama cuando se ejecuta el método.
              </p>
            </li>
            <li>
              <p>
                <code>javax.validation.Validator</code>: Un validador para instancias de bean. El bean que 
                implementa esta interfaz permite inyectar un objeto <code>Validator</code> para el objeto de 
                validación de bean predeterminado <code>ValidatorFactory</code>.
              </p>
            </li>
            <li>
              <p>
                <code>javax.validation.ValidatorFactory</code>: Una clase de fábrica para devolver instancias 
                de <code>Validator</code> inicializadas. El bean que implementa esta interfaz permite que se 
                inyecte el objeto <code>ValidatorFactory</code> de validación del bean predeterminado.
              </p>
            </li>
            <li>
              <p>
                <code>javax.servlet.http.HttpServletRequest</code>: Una solicitud HTTP de un cliente. El bean 
                que implementa esta interfaz permite que un servlet obtenga todos los detalles de una 
                solicitud.
              </p>
            </li>
            <li>
              <p>
                <code>javax.servlet.http.HttpSession</code>: Una sesión HTTP entre un cliente y un servidor. 
                El bean que implementa esta interfaz permite que un servlet acceda a información sobre una 
                sesión y vincule objetos a una sesión.
              </p>
            </li>
            <li>
              <p>
                <code>javax.servlet.ServletContext</code>: Un objeto de contexto que los servlets pueden usar 
                para comunicarse con el contenedor de servlets.
              </p>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>
            Para inyectar un bean predefinido, cree un punto de inyección para obtener una instancia del bean 
            utilizando la anotación <code>javax.annotation.Resource</code> para recursos o la anotación 
            <code>javax.inject.Inject</code> para beans CDI. Para el tipo de bean, especifique el nombre de 
            clase de la interfaz que implementa el bean.
          </p>
        </div>
        <div class="paragraph">
          <p><a id="sthref130"></a><a id="sthref131"></a></p>
        </div>
        <div class="paragraph">
          <p><strong>Tabla 27-1 Inyección de Beans Predefinidos</strong></p>
        </div>
        <table class="tableblock frame-all grid-all" style="width: 80%;">
          <colgroup>
            <col style="width: 25%;">
            <col style="width: 25%;">
            <col style="width: 50%;">
          </colgroup>
          <tbody>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><strong>Bean Predefinido</strong></p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><strong>Recurso o Bean CDI</strong></p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><strong>Ejemplo de Inyección</strong></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>UserTransaction</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Recurso</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Resource UserTransaction transaction;</code></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>Principal</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Recurso</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Resource Principal principal;</code></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>Validator</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Recurso</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Resource Validator validator;</code></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>ValidatorFactory</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Recurso</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Resource ValidatorFactory factory;</code></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>HttpServletRequest</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Bean CDI</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Inject HttpServletRequest req;</code></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>HttpSession</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Bean CDI</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Inject HttpSession session;</code></p></td>
            </tr>
            <tr>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>ServletContext</code></p></td>
              <td class="tableblock halign-left valign-top"><p class="tableblock">Bean CDI</p></td>
              <td class="tableblock halign-left valign-top">
                <p class="tableblock"><code>@Inject ServletContext context;</code></p></td>
            </tr>
          </tbody>
        </table>
        <div class="paragraph">
          <p>
            Los beans predefinidos se inyectan con un alcance dependiente y el calificador predeterminado 
            predefinido <code>@Default</code>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Para obtener más información acerca de la inyección de recursos, consulte 
            <a href="injection001.html#BABHDCAI">Inyección de Recursos</a>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            El siguiente fragmento de código muestra cómo utilizar las anotaciones <code>@Resource</code> y 
            <code>@Inject</code> para inyectar beans predefinidos. Este fragmento de código inyecta una 
            transacción de usuario y un objeto de contexto en la clase de servlet 
            <code>TransactionServlet</code>. La transacción de usuario es una instancia del bean predefinido 
            que implementa la interfaz <code>javax.transaction.UserTransaction</code>. El objeto de contexto 
            es una instancia del bean predefinido que implementa la interfaz 
            <code>javax.servlet.ServletContext</code>.
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
import javax.annotation.Resource;
import javax.inject.Inject;
import javax.servlet.http.HttpServlet;
import javax.transaction.UserTransaction;
...
public class TransactionServlet extends HttpServlet {
    @Resource UserTransaction transaction;
    @Inject ServletContext context;
    ...
}
              </code>
            </pre>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="cdi-adv003.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-adv005.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
