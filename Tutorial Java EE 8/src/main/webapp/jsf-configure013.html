<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Requerimientos Básicos de una Aplicación JavaServer Faces</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-configure012.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-ws.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BNAXJ">
      <h2 id="basic-requirements-of-a-javaserver-faces-application">
        Requerimientos Básicos de una Aplicación JavaServer Faces
      </h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Además de configurar su aplicación, debe satisfacer otros requisitos de las aplicaciones 
            JavaServer Faces, incluido empaquetar correctamente todos los archivos necesarios y proporcionar 
            un descriptor de implementación. Esta sección describe cómo realizar estas tareas administrativas.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Las aplicaciones JavaServer Faces se pueden empaquetar en un archivo WAR, que debe cumplir con 
            requisitos específicos para ejecutarse en diferentes contenedores. Como mínimo, un archivo WAR 
            para una aplicación JavaServer Faces puede contener lo siguiente:
          </p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                Un descriptor de implementación de la aplicación web, llamado <code>web.xml</code>, para 
                configurar los recursos requeridos por una aplicación web (obligatorio)
              </p>
            </li>
            <li>
              <p>Un conjunto específico de archivos JAR que contienen clases esenciales (opcional)</p>
            </li>
            <li>
              <p>
                Un conjunto de clases de aplicación, páginas de JavaServer Faces y otros recursos necesarios, 
                como archivos de imagen
              </p>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>Un archivo WAR también puede contener:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                Un archivo de recursos de configuración de la aplicación, que configura los recursos de la 
                aplicación.
              </p>
            </li>
            <li>
              <p>Un conjunto de archivos descriptores de la biblioteca de etiquetas</p>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>
            Por ejemplo, un archivo WAR de la aplicación web Java Server Faces que utiliza Facelets 
            normalmente tiene la siguiente estructura de directorio:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
$PROJECT_DIR
[Páginas Web]
+- /[documentos xhtml o html]
+- /resources
+- /WEB-INF
   +- /web.xml
   +- /beans.xml (opcional)
   +- /classes (opcional)
   +- /lib (opcional)
   +- /faces-config.xml (opcional)
   +- /*.taglib.xml (opcional)
   +- /glassfish-web.xml (opcional)
            </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            El archivo <code>web.xml</code> (o descriptor de implementación web), el conjunto de archivos JAR 
            y el conjunto de archivos de la aplicación deben estar contenidos en el directorio 
            <code>WEB-INF</code> del archivo WAR.
          </p>
        </div>
        <div class="sect2" id="BNAXK">
          <h3 id="configuring-an-application-with-a-web-deployment-descriptor">
            Configurando una Aplicación con un Descriptor de Despliegue Web
          </h3>
          <div class="paragraph">
            <p>
              Las aplicaciones web se configuran comúnmente utilizando elementos contenidos en el descriptor 
              de implementación de aplicaciones web, <code>web.xml</code>. El descriptor de implementación 
              para una aplicación JavaServer Faces debe especificar ciertas configuraciones, incluidas las 
              siguientes:
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>El servlet utilizado para procesar las solicitudes de JavaServer Faces</p>
              </li>
              <li>
                <p>El mapeo de servlet para el servlet de procesamiento</p>
              </li>
              <li>
                <p>
                  La ruta al archivo de recursos de configuración, si existe y no se encuentra en una 
                  ubicación predeterminada
                </p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              El descriptor de implementación también puede incluir otras configuraciones opcionales, como las 
              siguientes
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>Especificar dónde se guarda el estado del componente</p>
              </li>
              <li>
                <p>Cifrar el estado guardado en el cliente</p>
              </li>
              <li>
                <p>Comprimir el estado guardado en el cliente</p>
              </li>
              <li>
                <p>Restringir el acceso a páginas que contienen etiquetas JavaServer Faces</p>
              </li>
              <li>
                <p>Activar la validación XML</p>
              </li>
              <li>
                <p>Especificar la etapa del proyecto</p>
              </li>
              <li>
                <p>Verificar objetos personalizados</p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              Esta sección brinda más detalles sobre estas configuraciones. Cuando sea apropiado, también 
              describe cómo puede realizar estas configuraciones usando el EID NetBeans.
            </p>
          </div>
          <div class="sect3" id="GLPOO">
            <h4 id="identifying-the-servlet-for-lifecycle-processing">
              Identificación del Servlet para el Procesamiento del Ciclo de Vida
            </h4>
            <div class="paragraph">
              <p>
                Un requisito de una aplicación JavaServer Faces es que todas las solicitudes a la aplicación 
                que hacen referencia a componentes JavaServer Faces previamente guardados deben pasar por 
                <code>javax.faces.webapp.FacesServlet</code>. Una instancia de <code>FacesServlet</code> 
                administra el ciclo de vida de procesamiento de solicitudes para aplicaciones web e 
                inicializa los recursos requeridos por la tecnología JavaServer Faces.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Antes de que una aplicación JavaServer Faces pueda lanzar su primera página web, el contenedor 
                web debe invocar la instancia <code>FacesServlet</code> para que se inicie el proceso del 
                ciclo de vida de la aplicación. Ver 
                <a href="jsf-intro007.html#BNAQQ">El Ciclo de Vida de una Aplicación JavaServer Faces</a> 
                para más información.
              </p>
            </div>
            <div class="paragraph">
              <p>
                El siguiente ejemplo muestra la configuración predeterminada del <code>FacesServlet</code>:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;servlet&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Proporcionará una entrada de configuración de mapeo para asegurarse de que se invoca la 
                instancia de <code>FacesServlet</code>. La asignación a <code>FacesServlet</code> puede ser 
                una asignación de prefijo, como <code>/faces/</code>, o una asignación de extensión, 
                como <code>.xhtml</code>. La asignación se utiliza para identificar una página que tiene 
                contenido JavaServer Faces. Debido a esto, la URL de la primera página de la aplicación debe 
                incluir la asignación del patrón de URL.
              </p>
            </div>
            <div class="paragraph">
              <p>Los siguientes elementos especifican una asignación de prefijo:</p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
...
&lt;welcome-file-list&gt;
    &lt;welcome-file&gt;faces/greeting.xhtml&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Los siguientes elementos, utilizados en los ejemplos del tutorial, especifican una asignación 
                de extensión:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
...
&lt;welcome-file-list&gt;
    &lt;welcome-file&gt;index.xhtml&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Cuando utiliza este mecanismo, los usuarios acceden a la aplicación como se muestra en el 
                siguiente ejemplo:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
http://localhost:8080/guessNumber
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                En el caso del mapeo de extensiones, si llega al servidor una solicitud de una página con una 
                extensión <code>.xhtml</code>, el contenedor enviará la solicitud a la instancia de 
                <code>FacesServlet</code>, que espere que exista una página correspondiente del mismo nombre 
                que contiene el contenido.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Para minimizar el desorden y permitir URL simples y amigables, puede tener URL sin extensión 
                asignando manualmente el <code>FacesServlet</code> a las opciones de asignación de prefijo y 
                sufijo existentes en <code>web.xml</code>, uno o mas veces.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Si está utilizando el EID NetBeans para crear su aplicación, se crea automáticamente un 
                descriptor de implementación web con las configuraciones predeterminadas. Si creó su 
                aplicación sin un IDE, puede crear un descriptor de implementación web.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNAXM">
            <h4 id="to-specify-a-path-to-an-application-configuration-resource-file">
              Para Especificar una Ruta a un Archivo de Recursos de la Configuración de una Aplicación
            </h4>
            <div class="paragraph">
              <p>
                Como se explica en 
                <a href="jsf-configure003.html#BNAWP">
                  Archivo de Recursos de Configuración de la Aplicación
                </a>, una aplicación puede tener varios archivos de recursos de configuración de la 
                aplicación. Si estos archivos no se encuentran en los directorios que la implementación busca 
                de forma predeterminada o los archivos no se denominan <code>faces-config.xml</code>, debe 
                especificar las rutas a estos archivos.
              </p>
            </div>
            <div class="paragraph">
              <p>Para especificar estas rutas usando el EID NetBeans, haga lo siguiente.</p>
            </div>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>Expanda el nodo de su proyecto en la pestaña Proyectos.</p>
                </li>
                <li>
                  <p>
                    Expanda las páginas web y los nodos WEB-INF que se encuentran debajo del nodo del 
                    proyecto.
                  </p>
                </li>
                <li>
                  <p>Haga doble clic en <code>web.xml</code>.</p>
                </li>
                <li>
                  <p>
                    Después de que aparezca el archivo <code>web.xml</code> en el editor, haga clic en General 
                    en la parte superior de la ventana del editor.
                  </p>
                </li>
                <li>
                  <p>Expanda el nodo Parámetros de Contexto.</p>
                </li>
                <li>
                  <p>Haga clic en Agregar.</p>
                </li>
                <li>
                  <p>En el cuadro de diálogo Agregar Parámetro de Contexto:</p>
                </li>
                <li>
                  <p>Ingrese <code>javax.faces.CONFIG_FILES</code> en el campo Nombre del Parámetro.</p>
                </li>
                <li>
                  <p>Ingrese la ruta a su archivo de configuración en el campo del valor del parámetro.</p>
                </li>
                <li>
                  <p>Haga clic en Aceptar.</p>
                </li>
                <li>
                  <p>Repita los pasos del 1 al 7 para cada archivo de configuración.</p>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="BNAXN">
            <h4 id="to-specify-where-state-is-saved">Para Especificar Dónde se Guarda el Estado</h4>
            <div class="paragraph">
              <p>
                Para todos los componentes de una aplicación web, puede especificar en su descriptor de 
                implementación dónde desea que se guarde el estado, ya sea en el cliente o en el servidor. 
                Para ello, establezca un parámetro de contexto en su descriptor de implementación. De forma 
                predeterminada, el estado se guarda en el servidor, por lo que debe especificar este parámetro 
                de contexto solo si desea guardar el estado en el cliente. Vea 
                <a href="jsf-custom005.html#BNAVZ">Guardar y Restaurar el Estado</a> para obtener información 
                sobre las ventajas y desventajas de cada ubicación.
              </p>
            </div>
            <div class="paragraph">
              <p>Para especificar dónde se guarda el estado usando el EID NetBeans, haga lo siguiente.</p>
            </div>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>Expanda el nodo de su proyecto en la pestaña Proyectos.</p>
                </li>
                <li>
                  <p>Expanda las páginas web y los nodos WEB-INF bajo el nodo del proyecto.</p>
                </li>
                <li>
                  <p>Haga doble clic en <code>web.xml</code>.</p>
                </li>
                <li>
                  <p>
                    Después de que aparezca el archivo <code>web.xml</code> en la ventana del editor, haga 
                    clic en General en la parte superior de la ventana del editor.
                  </p>
                </li>
                <li>
                  <p>Expanda el nodo Parámetros de Contexto.</p>
                </li>
                <li>
                  <p>Haga clic en Agregar.</p>
                </li>
                <li>
                  <p>En el cuadro de diálogo Agregar Parámetro de Contexto:</p>
                </li>
                <li>
                  <p>
                    Ingrese <code>javax.faces.STATE_SAVING_METHOD</code> en el campo Nombre del Parámetro.
                  </p>
                </li>
                <li>
                  <p>Ingrese <code>client</code> o <code>server</code> en el campo Valor de Parámetro.</p>
                </li>
                <li>
                  <p>Haga clic en Aceptar.</p>
                </li>
              </ol>
            </div>
            <div class="paragraph">
              <p>
                Si el estado se guarda en el cliente, el estado de toda la vista se representa en un campo 
                oculto en la página. La implementación de JavaServer Faces guarda el estado en el servidor de 
                forma predeterminada. Duke's Forest guarda su estado en el cliente.
              </p>
            </div>
          </div>
        </div>
        <div class="sect2" id="GIQXL">
          <h3 id="configuring-project-stage">Configurando la Etapa del Proyecto</h3>
          <div class="paragraph">
            <p>
              Project Stage es un parámetro de contexto que identifica el estado de una aplicación JavaServer 
              Faces en el ciclo de vida del software. La etapa de una aplicación puede afectar el 
              comportamiento de la aplicación. Por ejemplo, los mensajes de error pueden mostrarse durante la 
              etapa de Desarrollo pero suprimirse durante la etapa de Producción.
            </p>
          </div>
          <div class="paragraph">
            <p>Los posibles valores de la etapa del proyecto son los siguientes:</p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p><code>Development</code></p>
              </li>
              <li>
                <p><code>UnitTest</code></p>
              </li>
              <li>
                <p><code>SystemTest</code></p>
              </li>
              <li>
                <p><code>Production</code></p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              La Etapa del Proyecto (Project Stage) se configura mediante un parámetro de contexto en el 
              archivo descriptor de implementación web. Aquí hay un ejemplo:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;context-param&gt;
    &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;
    &lt;param-value&gt;Development&lt;/param-value&gt;
&lt;/context-param&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Si no se define ninguna Etapa del Proyecto, la etapa predeterminada es <code>Production</code>. 
              También puede agregar etapas personalizadas según sus requisitos.
            </p>
          </div>
        </div>
        <div class="sect2" id="BNAXT">
          <h3 id="including-the-classes-pages-and-other-resources">
            Incluyendo las Clases, Páginas, y Otros Recursos
          </h3>
          <div class="paragraph">
            <p>
              Al empaquetar aplicaciones web utilizando los scripts de compilación incluidos, notará que los 
              scripts empaquetan los recursos de las siguientes formas.
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>Todas las páginas web se colocan en el nivel superior del archivo WAR.</p>
              </li>
              <li>
                <p>
                  El archivo <code>faces-config.xml</code> y el archivo <code>web.xml</code> están 
                  empaquetados en el directorio <code>WEB-INF</code>.
                </p>
              </li>
              <li>
                <p>Todos los paquetes se almacenan en el directorio <code>WEB-INF/classes/</code>.</p>
              </li>
              <li>
                <p>
                  Todos los archivos JAR de la aplicación están empaquetados en el directorio 
                  <code>WEB-INF/lib/</code>.
                </p>
              </li>
              <li>
                <p>
                  Todos los archivos de recursos se encuentran en la raíz del directorio 
                  <code>/resources</code> de la aplicación web o en la ruta de clases de la aplicación web, el 
                  directorio `META-INF/resources/`resourceIdentifier. Para obtener más información sobre los 
                  recursos, consulte <a href="jsf-facelets006.html#GIRGM">Recursos Web</a>.
                </p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              Al empaquetar sus propias aplicaciones, puede usar el EID NetBeans o puede usar archivos XML 
              como los creados para Maven. Puede modificar los archivos XML para adaptarlos a su situación. 
              Sin embargo, puede continuar empaquetando sus archivos WAR utilizando la estructura de 
              directorio descrita en esta sección, porque esta técnica cumple con la práctica comúnmente 
              aceptada para empaquetar aplicaciones web.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-configure012.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-ws.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
