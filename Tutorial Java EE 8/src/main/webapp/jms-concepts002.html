<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Conceptos básicos de la IPA de JMS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jms-concepts001.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jms-concepts003.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BNCDX">
      <h2 id="basic-jms-api-concepts">Conceptos básicos de la IPA de JMS</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Esta sección presenta los conceptos más básicos de la IPA de JMS, los que debe conocer para 
            comenzar a escribir clientes de aplicaciones simples que utilizan la IPA de JMS.
          </p>
        </div>
        <div class="paragraph">
          <p>
            La siguiente sección presenta el modelo de programación de la IPA de JMS. Las secciones 
            posteriores cubren conceptos más avanzados, incluidos los que necesita para escribir aplicaciones 
            que usan beans controlados por mensajes.
          </p>
        </div>
        <div class="paragraph">
          <p>Aquí se tratan los siguientes temas:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p><a href="#BNCDY">Arquitectura de la IPA de JMS</a></p>
            </li>
            <li>
              <p><a href="#BNCEA">Estilos de mensajería</a></p>
            </li>
            <li>
              <p><a href="#BNCEG">Consumo de Mensajes</a></p>
            </li>
          </ul>
        </div>
        <div class="sect2" id="BNCDY">
          <h3 id="jms-api-architecture">Arquitectura de la IPA de JMS</h3>
          <div class="paragraph">
            <p>
              Una aplicación JMS se compone de las siguientes partes.
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>
                  Un proveedor de JMS es un sistema de mensajería que implementa las interfaces de JMS y 
                  proporciona funciones administrativas y de control. Una implementación de la plataforma 
                  Java EE que admite el perfil completo incluye un proveedor JMS.
                </p>
              </li>
              <li>
                <p>
                  Los clientes JMS son los programas o componentes, escritos en el lenguaje de programación 
                  Java, que producen y consumen mensajes. Cualquier componente de la aplicación Java EE puede 
                  actuar como un cliente JMS.
                </p>
                <div class="paragraph">
                  <p>
                    Las aplicaciones Java SE también pueden actuar como clientes JMS; la Guía del 
                    Desarrollador de Message Queue para Clientes Java en la documentación del servidor 
                    GlassFish (<code>https://javaee.github.io/glassfish/documentation</code>) explica cómo 
                    hacer que esto funcione.
                  </p>
                </div>
              </li>
              <li>
                <p>
                  Los mensajes son los objetos que comunican información entre clientes JMS.
                </p>
              </li>
              <li>
                <p>
                  Los objetos administrados son objetos JMS configurados para el uso de clientes. Los dos 
                  tipos de objetos administrados por JMS son los destinos y las fábricas de conexiones, 
                  descritos en <a href="jms-concepts003.html#BNCEJ">Objetos Administrados por JMS</a>. Un 
                  administrador puede crear objetos que están disponibles para todas las aplicaciones que usan 
                  una instalación particular del servidor GlassFish; como alternativa, un desarrollador puede 
                  usar anotaciones para crear objetos que son específicos de una aplicación en particular.
                </p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              La <a href="#BNCDZ">Figura 48-2</a> ilustra la forma en que interactúan estas partes. Las 
              herramientas administrativas o las anotaciones le permiten vincular destinos y fábricas de 
              conexiones en un espacio de nombres JNDI. Un cliente JMS puede usar la inyección de recursos 
              para acceder a los objetos administrados en el espacio de nombres y luego establecer una 
              conexión lógica con los mismos objetos a través del proveedor JMS.
            </p>
          </div>
          <div id="BNCDZ" class="paragraph">
            <div class="title"><strong>Figura 48-2 Arquitectura de la IPA de JMS</strong></div>
            <p>
              <span class="image">
                <img src="img/javaeett_dt_027.png" 
                     alt="Diagrama de la arquitectura de la IPA JMS, que muestra la herramienta 
                     administrativa, el cliente JMS, el espacio de nombres JNDI y el proveedor JMS">
              </span>
            </p>
          </div>
        </div>
        <div class="sect2" id="BNCEA">
          <h3 id="messaging-styles">Estilos de mensajería</h3>
          <div class="paragraph">
            <p>
              Antes de que existiera la IPA de JMS, la mayoría de los productos de mensajería admitían el 
              estilo de mensajería de punto a punto o de publicación/suscripción. La especificación JMS define 
              el cumplimiento de cada estilo. Un proveedor de JMS debe implementar ambos estilos, y la IPA de 
              JMS proporciona interfaces que son específicas para cada uno. Las siguientes subsecciones 
              describen estos estilos de mensajería.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Sin embargo, la IPA de JMS hace que no sea necesario utilizar solo uno de los dos estilos. Le 
              permite usar el mismo código para enviar y recibir mensajes usando el estilo PTP o pub/sub. Los 
              destinos que utilice seguirán siendo específicos de un estilo y el comportamiento de la 
              aplicación dependerá en parte de si está utilizando una cola o un tema. Sin embargo, el código 
              en sí puede ser común a ambos estilos, lo que hace que sus aplicaciones sean flexibles y 
              reutilizables. Este tutorial describe e ilustra este enfoque de codificación, utilizando la IPA 
              muy simplificada proporcionada por JMS 2.0.
            </p>
          </div>
          <div class="sect3" id="BNCEB">
            <h4 id="point-to-point-messaging-style">Estilo de Mensajería Punto a Punto</h4>
            <div class="paragraph">
              <p>
                Un producto o aplicación punto a punto (PTP) se basa en el concepto de colas de mensajes, 
                remitentes y receptores. Cada mensaje se dirige a una cola específica y los clientes 
                receptores extraen los mensajes de las colas establecidas para contener sus mensajes. Las 
                colas retienen todos los mensajes que se les envían hasta que se consumen o caducan.
              </p>
            </div>
            <div class="paragraph">
              <p>
                La mensajería PTP, ilustrada en la <a href="#BNCEC">Figura 48-3</a>, tiene las siguientes 
                características.
              </p>
            </div>
            <div class="ulist">
              <ul>
                <li>
                  <p>
                    Cada mensaje tiene un solo consumidor.
                  </p>
                </li>
                <li>
                  <p>
                    El receptor puede obtener el mensaje ya sea que se esté ejecutando o no cuando el cliente 
                    envió el mensaje.
                  </p>
                </li>
              </ul>
            </div>
            <div id="BNCEC" class="paragraph">
              <div class="title"><strong>Figura 48-3 Mensajería Punto a Punto</strong></div>
              <p>
                <span class="image">
                  <img src="img/javaeett_dt_028.png" 
                       alt="Diagrama de mensajería punto a punto, que muestra al Cliente 1 enviando un mensaje 
                       a una cola y al Cliente 2 consumiendo y reconociendo el mensaje">
                </span>
              </p>
            </div>
            <div class="paragraph">
              <p>
                Utilice la mensajería PTP cuando cada mensaje que envíe deba ser procesado correctamente por 
                un consumidor.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNCED">
            <h4 id="publishsubscribe-messaging-style">Estilo de Mensajería de Publicación/Suscripción</h4>
            <div class="paragraph">
              <p>
                En un producto o aplicación de publicación/suscripción (pub/sub), los clientes envían mensajes 
                a un tema, que funciona como un tablón de anuncios. Los editores y suscriptores pueden 
                publicar dinámicamente o suscribirse al tema. El sistema se encarga de distribuir los mensajes 
                que llegan de los múltiples editores de un tema a sus múltiples suscriptores. Los temas 
                conservan los mensajes solo durante el tiempo necesario para distribuirlos a los suscriptores.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Con la mensajería pub/sub, es importante distinguir entre el consumidor que se suscribe a un 
                tema (el suscriptor) y la suscripción que se crea. El consumidor es un objeto JMS dentro de 
                una aplicación, mientras que la suscripción es una entidad dentro del proveedor JMS. 
                Normalmente, un tema puede tener muchos consumidores, pero una suscripción solo tiene un 
                suscriptor. Sin embargo, es posible crear suscripciones compartidas; ver 
                <a href="jms-concepts003.html#BABJCIGJ">Creación de Suscripciones Compartidas</a> para más 
                detalles. Consulte 
                <a href="jms-concepts003.html#BABEEJJJ">Consumir Mensajes desde los Temas</a> para obtener 
                detalles sobre la semántica de los mensajes pub/sub.
              </p>
            </div>
            <div class="paragraph">
              <p>
                La mensajería de publicación/suscripción tiene las siguientes características.
              </p>
            </div>
            <div class="ulist">
              <ul>
                <li>
                  <p>
                    Cada mensaje puede tener varios consumidores.
                  </p>
                </li>
                <li>
                  <p>
                    Un cliente que se suscribe a un tema puede consumir solo los mensajes enviados después de 
                    que el cliente haya creado una suscripción, y el consumidor debe continuar activo para 
                    poder consumir mensajes.
                  </p>
                  <div class="paragraph">
                    <p>
                      La IPA de JMS relaja este requisito hasta cierto punto al permitir que las aplicaciones 
                      creen suscripciones duraderas, que reciben mensajes enviados mientras los consumidores 
                      no están activos. Las suscripciones duraderas brindan la flexibilidad y confiabilidad de 
                      las colas, pero permiten que los clientes envíen mensajes a muchos destinatarios. Para 
                      obtener más información sobre suscripciones duraderas, consulte 
                      <a href="jms-concepts003.html#BNCGD">Creación de Suscripciones Duraderas</a>.
                    </p>
                  </div>
                </li>
              </ul>
            </div>
            <div class="paragraph">
              <p>
                Utilice mensajes de publicación/suscripción cuando cualquier número de consumidores (o 
                ninguno) pueda procesar cada mensaje. La <a href="#BNCEE">Figura 48-4</a> ilustra los mensajes 
                de publicación/suscripción.
              </p>
            </div>
            <div id="BNCEE" class="paragraph">
              <div class="title"><strong>Figura 48-4 Mensajería de Publicación/Suscripción</strong></div>
              <p>
                <span class="image">
                  <img src="img/javaeett_dt_029.png" 
                       alt="Diagrama de mensajes de publicación/suscripción, que muestra al Cliente 1 enviando 
                       un mensaje a un tema y el mensaje que se entrega a dos consumidores del tema">
                </span>
              </p>
            </div>
          </div>
        </div>
        <div class="sect2" id="BNCEG">
          <h3 id="message-consumption">Consumo de Mensajes</h3>
          <div class="paragraph">
            <p>
              Los productos de mensajería son inherentemente asincrónicos: no existe una dependencia de tiempo 
              fundamental entre la producción y el consumo de un mensaje. Sin embargo, la especificación JMS 
              usa este término en un sentido más preciso. Los mensajes se pueden consumir de dos maneras.
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>
                  Sincrónicamente: un consumidor obtiene explícitamente el mensaje del destino llamando al 
                  método <code>receive</code>. El método <code>receive</code> puede bloquear hasta que llega 
                  un mensaje o puede expirar si un mensaje no llega dentro de un límite de tiempo 
                  especificado.
                </p>
              </li>
              <li>
                <p>
                  Asíncronamente: un cliente de aplicación o un cliente Java SE puede registrar un detector de 
                  mensajes con un consumidor. Un detector de mensajes es similar a un detector de eventos. 
                  Cada vez que un mensaje llega al destino, el proveedor de JMS entrega el mensaje llamando al 
                  método <code>onMessage</code> del oyente, que actúa sobre el contenido del mensaje. En una 
                  aplicación Java EE, un bean controlado por mensajes sirve como detector de mensajes (también 
                  tiene un método <code>onMessage</code>), pero un cliente no necesita registrarlo con un 
                  consumidor.
                </p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jms-concepts001.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jms-concepts003.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
