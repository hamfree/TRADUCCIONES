<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Enviando una Petición Ajax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-ajax003.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-ajax005.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="GKACE">
      <h2 id="sending-an-ajax-request">Enviando una Petición Ajax</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Para activar la funcionalidad Ajax, la aplicación web debe crear una solicitud Ajax y enviarla al 
            servidor. Luego, el servidor procesa la solicitud.
          </p>
        </div>
        <div class="paragraph">
          <p>
            La aplicación utiliza los atributos de la etiqueta <code>f:ajax</code> enumerados en la 
            <a href="jsf-ajax003.html#GKDER">tabla 13-1</a> para crear la solicitud Ajax. Las siguientes 
            secciones explican el proceso de creación y envío de una solicitud Ajax utilizando algunos de 
            estos atributos.
          </p>
        </div>
        <table class="tableblock frame-all grid-all spread">
          <colgroup>
            <col style="width: 100%;">
          </colgroup>
          <tbody>
            <tr>
              <td class="tableblock halign-left valign-top"><div><div class="paragraph">
                    <p><strong>Nota</strong>:</p>
                  </div>
                  <div class="paragraph">
                    <p>
                      Detrás de escena, el método <code>jsf.ajax.request()</code> de la biblioteca de recursos 
                      de JavaScript recopila los datos proporcionados por la etiqueta <code>f:ajax</code> y 
                      envía la solicitud al ciclo vital de JavaServer Faces.
                    </p>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="paragraph">
          <p>Aquí se tratan los siguientes temas:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p><a href="#GKHVT">Usando el Atributo event</a></p>
            </li>
            <li>
              <p><a href="#GKHUZ">Usando el Atributo execute</a></p>
            </li>
            <li>
              <p><a href="#GKHWM">Usando el Atributo immediate</a></p>
            </li>
            <li>
              <p><a href="#GKHZS">Usando el Atributo listener</a></p>
            </li>
          </ul>
        </div>
        <div class="sect2" id="GKHVT">
          <h3 id="using-the-event-attribute">Usando el Atributo event</h3>
          <div class="paragraph">
            <p>
              El atributo <code>event</code> define el evento que desencadena la acción Ajax. Algunos de los 
              valores posibles para este atributo son <code>click</code>, <code>keyup</code>, 
              <code>mouseover</code>, <code>focus</code>, y <code>blur</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si no se especifica, se aplicará un evento predeterminado basado en el componente principal. El 
              evento predeterminado es <code>action</code> para componentes 
              <code>javax.faces.component.ActionSource</code>, como <code>commandButton</code> y 
              <code>valueChange</code> para componentes <code>javax.faces.component.EditableValueHolder</code>, 
              como <code>inputText</code>. En el siguiente ejemplo, una etiqueta Ajax está asociada con el 
              componente de botón y el evento que desencadena la acción Ajax es un clic del mouse:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;h:commandButton id="submit" value="Submit"&gt;
    &lt;f:ajax event="click" /&gt;
&lt;/h:commandButton&gt;
&lt;h:outputText id="result" value="#{userNumberBean.response}" /&gt;
              </code></pre>
            </div>
          </div>
          <table class="tableblock frame-all grid-all spread">
            <colgroup>
              <col style="width: 100%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <div>
                    <div class="paragraph">
                      <p>Nota:</p>
                    </div>
                    <div class="paragraph">
                      <p>
                        Es posible que haya notado que los eventos enumerados son muy similares a los eventos 
                        de JavaScript. De hecho, se basan en eventos de JavaScript, pero no tienen el prefijo 
                        <code>on</code>.
                      </p>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="paragraph">
            <p>
              Para un botón de comando, el evento predeterminado es <code>click</code>, por lo que en realidad 
              no necesita especificar <code>event="click"</code> para obtener el comportamiento deseado.
            </p>
          </div>
        </div>
        <div class="sect2" id="GKHUZ">
          <h3 id="using-the-execute-attribute">Usando el Atributo execute</h3>
          <div class="paragraph">
            <p>
              El atributo <code>execute</code> define el componente o componentes que se ejecutarán en el 
              servidor. El componente se identifica por su atributo <code>id</code>. Puede especificar más de 
              un componente ejecutable. Si se va a ejecutar más de un componente, especifique una lista de 
              componentes delimitada por espacios.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Cuando se ejecuta un componente, participa en todas las fases del ciclo de vida de procesamiento 
              de solicitudes, excepto en la fase de Respuesta de Procesamiento.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El valor del atributo <code>execute</code> también puede ser una palabra clave, como 
              <code>@all</code>, <code>@none</code>, <code>@this</code>, o <code>@form</code>. El valor 
              predeterminado es <code>@this</code>, que se refiere al componente dentro del cual está anidada 
              la etiqueta <code>f:ajax</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El siguiente código especifica que el componente <code>h:inputText</code> con el valor 
              <code>id</code> de <code>userNo</code> debe ejecutarse cuando se hace clic en el botón:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;h:inputText id="userNo"
             title="Type a number from 0 to 10:"
             value="#{userNumberBean.userNumber}"&gt;
    ...
&lt;/h:inputText&gt;
&lt;h:commandButton id="submit" value="Submit"&gt;
    &lt;f:ajax event="click" execute="userNo" /&gt;
&lt;/h:commandButton&gt;
              </code></pre>
            </div>
          </div>
        </div>
        <div class="sect2" id="GKHWM">
          <h3 id="using-the-immediate-attribute">Usando el Atributo immediate</h3>
          <div class="paragraph">
            <p>
              El atributo <code>immediate</code> indica si las entradas del usuario se procesarán al principio 
              del ciclo de vida de la aplicación o más tarde. Si el atributo se establece en 
              <code>true</code>, los eventos generados a partir de este componente se transmiten durante la 
              fase Aplicar Valores de Solicitud. De lo contrario, los eventos se transmitirán durante la fase 
              de Solicitud de Invocación.
            </p>
          </div>
          <div class="paragraph">
            <p>Si no está definido, el valor predeterminado de este atributo es <code>false</code>.</p>
          </div>
        </div>
        <div class="sect2" id="GKHZS">
          <h3 id="using-the-listener-attribute">Usando el Atributo listener</h3>
          <div class="paragraph">
            <p>
              El atributo <code>listener</code> se refiere a una expresión de método que se ejecuta en el lado 
              del servidor en respuesta a una acción Ajax en el cliente. El método 
              <code>javax.faces.event.AjaxBehaviorListener.processAjaxBehavior</code> del oyente se llama una 
              vez durante la fase de Invocación de la Aplicación del ciclo de vida. En el siguiente código de 
              la aplicación de ejemplo de <code>reservation</code> (ver 
              <a href="jsf-facelets009.html#BABGGIAA">La Aplicación de Ejemplo de reserva</a>), un atributo 
              del <code>listener</code> está definido por una etiqueta <code>f:ajax</code>, que se refiere a 
              un método del bean:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;f:ajax event="change" render="total"
        listener="#{reservationBean.calculateTotal}"/&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Siempre que cambie el precio o la cantidad de boletos solicitados, el método 
              <code>calculateTotal</code> de <code>ReservationBean</code> recalcula el costo total de los 
              boletos y lo muestra en el componente de salida llamado <code>total</code>.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-ajax003.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-ajax005.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
