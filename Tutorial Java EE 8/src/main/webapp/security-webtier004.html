<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Ejemplos: Protección de Aplicaciones Web</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="security-webtier003.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="security-javaee.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BNCBX">
      <h2 id="examples-securing-web-applications">Ejemplos: Protección de Aplicaciones Web</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Se requiere una configuración básica antes de que cualquiera de las aplicaciones de ejemplo se 
            ejecute correctamente.
          </p>
        </div>
        <div class="paragraph">
          <p>Aquí se tratan los siguientes temas:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p><a href="#CHDEBCHG">Descripción General de Ejemplos de Aplicaciones Web Seguras</a></p>
            </li>
            <li>
              <p><a href="#GJJLK">Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad</a></p>
            </li>
            <li>
              <p><a href="#BNCCK">El Ejemplo de hello2-basicauth: Autenticación Básica con un Servlet</a></p>
            </li>
            <li>
              <p>
                <a href="#BNCBY">
                  El Ejemplo hello1-formauth: Autenticación Basada en Formularios con una Aplicación 
                  JavaServer Faces
                </a>
              </p>
            </li>
          </ul>
        </div>
        <div class="sect2" id="CHDEBCHG">
          <h3 id="overview-of-examples-of-securing-web-applications">
            Descripción General de Ejemplos de Aplicaciones Web Seguras
          </h3>
          <div class="paragraph">
            <p>
              Los ejemplos usan anotaciones, seguridad programática y/o seguridad declarativa para demostrar 
              cómo agregar seguridad a las aplicaciones web existentes.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Aquí hay algunas otras ubicaciones donde encontrará ejemplos de cómo proteger varios tipos de 
              aplicaciones:
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>
                  <a href="security-javaee003.html#BNBZK">
                    El Ejemplo de cart-secure: Asegurar un Enterprise Bean con Seguridad Declarativa
                  </a>
                </p>
              </li>
              <li>
                <p>
                  <a href="security-javaee003.html#BNCAA">
                    El ejemplo converter-secure: Asegurar un Enterprise Bean con Seguridad Programática
                  </a>
                </p>
              </li>
              <li>
                <p>
                  Ejemplos de GlassFish: 
                  <code>
                    <a href="https://javaee.github.io/glassfish-samples/" class="bare">
                      https://javaee.github.io/glassfish-samples/
                    </a>
                  </code>
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect2" id="GJJLK">
          <h3 id="to-set-up-your-system-for-running-the-security-examples">
            Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad
          </h3>
          <div class="paragraph">
            <p>
              Para configurar su sistema para ejecutar los ejemplos de seguridad, debe configurar una base de 
              datos de usuarios que la aplicación pueda usar para autenticar a los usuarios. Antes de 
              continuar, siga estos pasos.
            </p>
          </div>
          <div class="olist arabic">
            <ol class="arabic">
              <li>
                <p>
                  Asegúrese de que se haya iniciado el servidor GlassFish (consulte 
                  <a href="usingexamples002.html#BNADI">Arrancando y Parando el Servidor GlassFish</a>).
                </p>
              </li>
              <li>
                <p>
                  Agregue un usuario autorizado al servidor GlassFish. Para los ejemplos de este capítulo y 
                  del 
                  <a href="security-javaee.html#BNBYK">
                    Capítulo 52, "Introducción a la Protección de Aplicaciones Empresariales"
                  </a>, agregue un usuario al dominio <code>file</code> del servidor GlassFish y asigne el 
                  usuario al grupo <code>TutorialUser</code>.
                </p>
              </li>
              <li>
                <p>
                  Desde la Consola de administración, expanda el nodo Configuraciones, luego expanda el nodo 
                  de configuración del servidor.
                </p>
              </li>
              <li>
                <p>Expanda el nodo Seguridad.</p>
              </li>
              <li>
                <p>Expanda el nodo Realms.</p>
              </li>
              <li>
                <p>Seleccione el nodo File.</p>
              </li>
              <li>
                <p>En la página Editar dominio, haga clic en Administrar Usuarios.</p>
              </li>
              <li>
                <p>En la página File Users, haga clic en Nuevo.</p>
              </li>
              <li>
                <p>En el campo ID de usuario, ingrese una ID de usuario.</p>
              </li>
              <li>
                <p>En el campo Lista de grupos, ingresa <code>TutorialUser</code>.</p>
              </li>
              <li>
                <p>En los campos New Password y Confirm New Password, ingrese una contraseña.</p>
              </li>
              <li>
                <p>Haga clic en Aceptar.</p>
                <div class="paragraph">
                  <p>
                    Asegúrese de anotar el nombre de usuario y la contraseña del usuario que cree para que 
                    pueda usarlo para probar las aplicaciones de ejemplo. La autenticación distingue entre 
                    mayúsculas y minúsculas tanto para el nombre de usuario como para la contraseña, así que 
                    anote exactamente el nombre de usuario y la contraseña. Este tema se trata más en 
                    <a href="security-intro005.html#BNBXR">
                      Administrar Usuarios y Grupos en el Servidor GlassFish
                    </a>.
                  </p>
                </div>
              </li>
              <li>
                <p>Configure la asignación predeterminada de principal a rol en el servidor GlassFish.</p>
              </li>
              <li>
                <p>
                  Desde la Consola de administración, expanda el nodo Configuraciones, luego expanda el nodo 
                  de configuración del servidor.
                </p>
              </li>
              <li>
                <p>Seleccione el nodo Seguridad.</p>
              </li>
              <li>
                <p>
                  Seleccione la casilla de verificación Asignación Predeterminada de Principal a Rol 
                  habilitada.
                </p>
              </li>
              <li>
                <p>Haga clic en Guardar.</p>
              </li>
            </ol>
          </div>
        </div>
        <div class="sect2" id="BNCCK">
          <h3 id="the-hello2-basicauth-example-basic-authentication-with-a-servlet">
            El Ejemplo de hello2-basicauth: Autenticación Básica con un Servlet
          </h3>
          <div class="paragraph">
            <p>
              Este ejemplo explica cómo usar la autenticación básica con un servlet. Con la autenticación 
              básica de un servlet, el navegador web presenta un cuadro de diálogo de inicio de sesión 
              estándar que no se puede personalizar. Cuando un usuario envía su nombre y contraseña, el 
              servidor determina si el nombre de usuario y la contraseña son los de un usuario autorizado y 
              envía el recurso web solicitado si el usuario está autorizado para verlo.
            </p>
          </div>
          <div class="paragraph">
            <p>
              En general, los siguientes pasos son necesarios para agregar autenticación básica a un servlet 
              no seguro, como los descritos en el 
              <a href="webapp.html#BNADR">Capítulo 6, "Introducción a las Aplicaciones Web"</a>. En la 
              aplicación de ejemplo incluida en este tutorial, muchos de estos pasos se han completado y se 
              enumeran aquí simplemente para mostrar lo que se debe hacer si desea crear una aplicación 
              similar. Esta aplicación se puede encontrar en el directorio 
              <code><em>tut-install</em>/examples/security/hello2-basicauth/</code>.
            </p>
          </div>
          <div class="olist arabic">
            <ol class="arabic">
              <li>
                <p>
                  Siga los pasos en 
                  <a href="#GJJLK">Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad</a>.
                </p>
              </li>
              <li>
                <p>
                  Cree un módulo web para el ejemplo de servlet, <code>hello2</code>, como se describe en 
                  <a href="webapp.html#BNADR">Capítulo 6, "Introducción a las Aplicaciones Web"</a>.
                </p>
              </li>
              <li>
                <p>
                  Agregue las anotaciones de seguridad adecuadas al servlet. Las anotaciones de seguridad se 
                  describen en 
                  <a href="#GJRMH">
                    Especificación de Seguridad para la Autenticación Básica Mediante Anotaciones
                  </a>.
                </p>
              </li>
              <li>
                <p>
                  Cree, empaquete e implemente la aplicación web siguiendo los pasos en 
                  <a href="#GJQYS">
                    Para Construir, Empaquetar y Desplegar el Ejemplo hello2-basicauth usando el EID NetBeans
                  </a> o 
                  <a href="# GJQZH">
                    Para Construir, Empaquetar, y Desplegar el Ejemplo hello2-basicauth usando Maven
                  </a>.
                </p>
              </li>
              <li>
                <p>
                  Ejecute la aplicación web siguiendo los pasos descritos en 
                  <a href="#GJQZF">Para Ejecutar el Ejemplo hello2-basicauth</a>.
                </p>
              </li>
            </ol>
          </div>
          <div class="sect3" id="GJRMH">
            <h4 id="specifying-security-for-basic-authentication-using-annotations">
              Especificación de Seguridad para la Autenticación Básica Mediante Anotaciones
            </h4>
            <div class="paragraph">
              <p>
                El mecanismo de autenticación predeterminado que utiliza el servidor GlassFish es la 
                autenticación básica. Con la autenticación básica, el servidor GlassFish genera un cuadro de 
                diálogo de inicio de sesión estándar para recopilar datos de nombre de usuario y contraseña 
                para un recurso protegido. Una vez autenticado el usuario, se permite el acceso al recurso 
                protegido.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Para especificar la seguridad de un servlet, utilice la anotación 
                <code>@ServletSecurity</code>. Esta anotación le permite especificar restricciones específicas 
                en los métodos HTTP y restricciones más generales que se aplican a todos los métodos HTTP para 
                los que no se especifica ninguna restricción específica. Dentro de la anotación 
                <code>@ServletSecurity</code>, puede especificar las siguientes anotaciones:
              </p>
            </div>
            <div class="ulist">
              <ul>
                <li>
                  <p>
                    La anotación <code>@HttpMethodConstraint</code>, que se aplica a un método HTTP específico
                  </p>
                </li>
                <li>
                  <p>
                    La anotación más general <code>@HttpConstraint</code>, que se aplica a todos los métodos 
                    HTTP para los que no existe una anotación <code>@HttpMethodConstraint</code> 
                    correspondiente
                  </p>
                </li>
              </ul>
            </div>
            <div class="paragraph">
              <p>
                Tanto las anotaciones <code>@HttpMethodConstraint</code> como <code>@HttpConstraint</code> 
                dentro de la anotación <code>@ServletSecurity</code> pueden especificar lo siguiente:
              </p>
            </div>
            <div class="ulist">
              <ul>
                <li>
                  <p>
                    Un elemento <code>transportGuarantee</code> que especifica los requisitos de protección de 
                    datos (es decir, si se requiere o no SSL/TLS) que deben cumplir las conexiones a las que 
                    llegan las solicitudes. Los valores válidos para este elemento son 
                    <code>NONE</code> y <code>CONFIDENTIAL</code>.
                  </p>
                </li>
                <li>
                  <p>
                    Un elemento <code>rolesAllowed</code> que especifica los nombres de los roles autorizados.
                  </p>
                </li>
              </ul>
            </div>
            <div class="paragraph">
              <p>
                Para la aplicación <code>hello2-basicauth</code>, <code>GreetingServlet</code> tiene las 
                siguientes anotaciones:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
@WebServlet(name = "GreetingServlet", urlPatterns = {"/greeting"})
@ServletSecurity(
@HttpConstraint(transportGuarantee = TransportGuarantee.CONFIDENTIAL,
    rolesAllowed = {"TutorialUser"}))
                  </code>
                </pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Estas anotaciones especifican que solo los usuarios autorizados para acceder a esta URL pueden 
                acceder a la URI de solicitud <code>/greeting</code> porque se ha verificado que tienen el rol 
                <code>TutorialUser</code>. Los datos se enviarán a través de un transporte protegido para 
                evitar que los datos de nombre de usuario y contraseña se lean en tránsito.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Si usa la anotación <code>@ServletSecurity</code>, no necesita especificar la configuración de 
                seguridad en el descriptor de implementación. Utilice el descriptor de implementación para 
                especificar la configuración de los mecanismos de autenticación no predeterminados, para los 
                que no puede utilizar la anotación <code>@ServletSecurity</code>.
              </p>
            </div>
          </div>
          <div class="sect3" id="GJQYS">
            <h4 id="to-build-package-and-deploy-the-hello2-basicauth-example-using-netbeans-ide">
              Para Construir, Empaquetar, y Desplegar el Ejemplo hello2-basicauth Usando el EID NetBeans
            </h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>
                    Siga los pasos en 
                    <a href="#GJJLK">Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad</a>.
                  </p>
                </li>
                <li>
                  <p>En el menú Archivo, elija Abrir proyecto.</p>
                </li>
                <li>
                  <p>En el cuadro de diálogo Abrir proyecto, vaya a:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
tut-install/examples/security
                        </code>
                      </pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>Seleccione la carpeta <code>hello2-basicauth</code>.</p>
                </li>
                <li>
                  <p>Haga clic en Abrir proyecto.</p>
                </li>
                <li>
                  <p>
                    En la pestaña Proyectos, haga clic con el botón derecho en el proyecto 
                    <code>hello2-basicauth</code> y seleccione Construir.
                  </p>
                  <div class="paragraph">
                    <p>
                      Este comando compila e implementa la aplicación de ejemplo en su instancia del 
                      servidor GlassFish.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="GJQZH">
            <h4 id="to-build-package-and-deploy-the-hello2-basicauth-example-using-maven">
              Para Construir, Empaquetar, y Desplegar el Ejemplo hello2-basicauth Usando Maven
            </h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>
                    Siga los pasos en
                     <a href="#GJJLK">Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad</a>.
                  </p>
                </li>
                <li>
                  <p>En una ventana de terminal, vaya a:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
tut-install/examples/security/hello2-basicauth/
                        </code>
                      </pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>Introduzca el siguiente comando:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
mvn install
                        </code>
                      </pre>
                    </div>
                  </div>
                  <div class="paragraph">
                    <p>
                      Este comando construye y empaqueta la aplicación en un archivo WAR, 
                      <code>hello2-basicauth.war</code>, que se encuentra en el directorio 
                      <code>target</code>, luego implementa el archivo WAR.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="GJQZF">
            <h4 id="to-run-the-hello2-basicauth-example">Para Ejecutar el Ejemplo hello2-basicauth</h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>En un navegador web, ingrese la siguiente URL:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
https://localhost:8181/hello2-basicauth/greeting
                        </code>
                      </pre>
                    </div>
                  </div>
                  <div class="paragraph">
                    <p>
                      Es posible que se le solicite que acepte el certificado de seguridad para el servidor. 
                      Si es así, acepte el certificado de seguridad. Si el navegador advierte que el 
                      certificado no es válido porque está autofirmado, agregue una excepción de seguridad 
                      para la aplicación.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>
                      Aparece un cuadro de diálogo de autenticación requerida. Su apariencia varía, 
                      dependiendo del navegador que utilice.
                    </p>
                  </div>
                </li>
                <li>
                  <p>
                    Introduzca una combinación de nombre de usuario y contraseña que corresponda a un usuario 
                    que ya se haya creado en el dominio <code>file</code> del servidor GlassFish y se haya 
                    asignado al grupo <code>TutorialUser</code>; luego haga clic en Aceptar.
                  </p>
                  <div class="paragraph">
                    <p>
                      La autenticación básica distingue entre mayúsculas y minúsculas tanto para el nombre de 
                      usuario como para la contraseña, así que ingrese el nombre de usuario y la contraseña 
                      exactamente como se definió para el servidor GlassFish.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>
                      El servidor devuelve el recurso solicitado si se cumplen todas las condiciones 
                      siguientes:
                    </p>
                  </div>
                  <div class="ulist">
                    <ul>
                      <li>
                        <p>
                          Se define un usuario con el nombre de usuario que ingresó para el servidor 
                          GlassFish.
                        </p>
                      </li>
                      <li>
                        <p>
                          El usuario con el nombre de usuario que ingresó tiene la contraseña que ingresó.
                        </p>
                      </li>
                      <li>
                        <p>
                          La combinación de nombre de usuario y contraseña que ingresó se asigna al grupo 
                          <code>TutorialUser</code> en el servidor GlassFish.
                        </p>
                      </li>
                      <li>
                        <p>
                          El rol de <code>TutorialUser</code>, como se define para la aplicación, se asigna al 
                          grupo <code>TutorialUser</code>, como se define para el servidor GlassFish.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li>
                  <p>Introduzca un nombre en el campo y haga clic en Enviar.</p>
                  <div class="paragraph">
                    <p>
                      Debido a que ya ha sido autorizado, el nombre que ingrese en este paso no tiene ninguna 
                      limitación. Ahora tienes acceso ilimitado a la aplicación.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>La aplicación responde diciendo "Hola" al nombre que ingresaste.</p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
        </div>
        <div class="sect2" id="BNCBY">
          <h3 id="the-hello1-formauth-example-form-based-authentication-with-a-javaserver-faces-application">
            El Ejemplo hello1-formauth: Autenticación Basada en Formularios con una Aplicación JavaServer 
            Faces
          </h3>
          <div class="paragraph">
            <p>
              Este ejemplo explica cómo utilizar la autenticación basada en formularios con una aplicación 
              JavaServer Faces. Con la autenticación basada en formularios, puede personalizar la pantalla de 
              inicio de sesión y las páginas de error que se presentan al cliente web para la autenticación 
              del nombre de usuario y la contraseña. Cuando un usuario envía su nombre y contraseña, el 
              servidor determina si el nombre de usuario y la contraseña son los de un usuario autorizado y, 
              si está autorizado, envía el recurso web solicitado.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Este ejemplo, <code>hello1-formauth</code>, agrega seguridad a la aplicación básica JavaServer 
              Faces que se muestra en 
              <a href="webapp003.html#BNADX">
                Un Módulo Web Que Usa la Tecnología JavaServer Faces: El Ejemplo hello1
              </a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              En general, los pasos necesarios para agregar autenticación basada en formularios a una 
              aplicación JavaServer Faces no segura son similares a los descritos en 
              <a href="#BNCCK">El Ejemplo de hello2-basicauth: Autenticación Básica con un Servlet</a>. La 
              principal diferencia es que debe usar un descriptor de implementación para especificar el uso de 
              la autenticación basada en formularios, como se describe en 
              <a href="#BNCCB">
                Especificación de Seguridad para el Ejemplo de Autenticación Basada en Formularios
              </a>. Además, debe crear una página de formulario de inicio de sesión y una página de error de 
              inicio de sesión, como se describe en 
              <a href="#BNCCA">Crear el Formulario de Inicio de Sesión y la Página de Error</a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Esta aplicación se puede encontrar en el directorio 
              <code><em>tut-install</em>/examples/security/hello1-formauth/</code>.
            </p>
          </div>
          <div class="sect3" id="BNCCA">
            <h4 id="creating-the-login-form-and-the-error-page">
              Crear el Formulario de Inicio de Sesión y la Página de Error
            </h4>
            <div class="paragraph">
              <p>
                Cuando utilice mecanismos de inicio de sesión basados en formularios, debe especificar una 
                página que contenga el formulario que desea utilizar para obtener el nombre de usuario y la 
                contraseña, así como una página para mostrar si falla la autenticación de inicio de sesión. 
                En esta sección se analiza el formulario de inicio de sesión y la página de error utilizada en 
                este ejemplo. 
                <a href="#BNCCB">
                  Especificación de Seguridad para el Ejemplo de Autenticación Basada en Formularios
                </a> muestra cómo se especifican estas páginas en el descriptor de implementación.
              </p>
            </div>
            <div class="paragraph">
              <p>
                La página de inicio de sesión puede ser una página HTML o un servlet, y debe devolver una 
                página HTML que contenga un formulario que cumpla con convenciones de nomenclatura específicas 
                (consulte la especificación Java Servlet 4.0 para obtener más información sobre estos 
                requisitos). Para hacer esto, incluya los elementos que aceptan información de nombre de 
                usuario y contraseña entre las etiquetas <code>&lt;form&gt;&lt;/form&gt;</code> en su página 
                de inicio de sesión. El contenido de una página HTML o servlet para una página de inicio de 
                sesión debe codificarse de la siguiente manera:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;form method="post" action="j_security_check"&gt;
    &lt;input type="text" name="j_username"&gt;
    &lt;input type="password" name= "j_password"&gt;
&lt;/form&gt;
                  </code>
                </pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                El código completo de la página de inicio de sesión utilizada en este ejemplo se puede 
                encontrar en 
                <code>
                  <em>tut-install</em>/examples/security/hello1-formauth/src/main/webapp/login.html
                </code>. Aquí está el código para esta página:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;html lang="es"&gt;
    &lt;head&gt;
        &lt;title&gt;Login Form&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Hello, please log in:&lt;/h2&gt;
        &lt;form method="post" action="j_security_check"&gt;
            &lt;table role="presentation"&gt;
                &lt;tr&gt;
                    &lt;td&gt;Please type your user name: &lt;/td&gt;
                    &lt;td&gt;&lt;input type="text" name="j_username"
                               size="20"/&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;Please type your password: &lt;/td&gt;
                    &lt;td&gt;&lt;input type="password" name="j_password"
                               size="20"/&gt;&lt;/td&gt;
                &lt;/tr&gt;
            &lt;/table&gt;
            &lt;p&gt;&lt;/p&gt;
            &lt;input type="submit" value="Submit"/&gt;
            &amp;nbsp;
            &lt;input type="reset" value="Reset"/&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
                  </code>
                </pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                La página de error de inicio de sesión se muestra si el usuario ingresa una combinación de 
                nombre de usuario y contraseña que no está autorizado para acceder al URI protegido. Para este 
                ejemplo, la página de error de inicio de sesión se puede encontrar en 
                <code>
                  <em>tut-install</em>/examples/security/hello1-formauth/src/main/webapp/error.html
                </code>. Para este ejemplo, la página de error de inicio de sesión explica el motivo por el 
                que se recibe la página de error y proporciona un vínculo que permitirá al usuario volver a 
                intentarlo. Aquí está el código para esta página:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;html lang="es"&gt;
    &lt;head&gt;
        &lt;title&gt;Login Error&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Invalid user name or password.&lt;/h2&gt;
        &lt;p&gt;Please enter a user name or password that is authorized to access
           this application. For this application, this means a user that
           has been created in the &lt;code&gt;file&lt;/code&gt; realm and has been
           assigned to the &lt;em&gt;group&lt;/em&gt; of &lt;code&gt;TutorialUser&lt;/code&gt;.&lt;/p&gt;
        &lt;p&gt;&lt;a href="login.html"&gt;Return to login page&lt;/a&gt;&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
                  </code>
                </pre>
              </div>
            </div>
          </div>
          <div class="sect3" id="BNCCB">
            <h4 id="specifying-security-for-the-form-based-authentication-example">
              Especificación de Seguridad para el Ejemplo de Autenticación Basada en Formularios
            </h4>
            <div class="paragraph">
              <p>
                Este ejemplo toma una aplicación web muy simple basada en servlet y agrega seguridad basada en 
                formularios. Para especificar una autenticación basada en formularios en lugar de básica para 
                un ejemplo de JavaServer Faces, debe usar el descriptor de implementación.
              </p>
            </div>
            <div class="paragraph">
              <p>
                El siguiente código de muestra muestra los elementos de seguridad agregados al descriptor de 
                implementación para este ejemplo, que se pueden encontrar en 
                <code>
                  <em>tut-install</em>/examples/security/hello1-formauth/src/main/webapp/ WEB-INF/web.xml
                </code>:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
    &lt;security-constraint&gt;
        &lt;display-name&gt;Constraint1&lt;/display-name&gt;
        &lt;web-resource-collection&gt;
            &lt;web-resource-name&gt;wrcoll&lt;/web-resource-name&gt;
            &lt;description/&gt;
            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
        &lt;/web-resource-collection&gt;
        &lt;auth-constraint&gt;
            &lt;description/&gt;
            &lt;role-name&gt;TutorialUser&lt;/role-name&gt;
        &lt;/auth-constraint&gt;
    &lt;/security-constraint&gt;
    &lt;login-config&gt;
        &lt;auth-method&gt;FORM&lt;/auth-method&gt;
        &lt;realm-name&gt;file&lt;/realm-name&gt;
        &lt;form-login-config&gt;
            &lt;form-login-page&gt;/login.xhtml&lt;/form-login-page&gt;
            &lt;form-error-page&gt;/error.xhtml&lt;/form-error-page&gt;
        &lt;/form-login-config&gt;
    &lt;/login-config&gt;
    &lt;security-role&gt;
        &lt;description/&gt;
        &lt;role-name&gt;TutorialUser&lt;/role-name&gt;
    &lt;/security-role&gt;
                  </code>
                </pre>
              </div>
            </div>
          </div>
          <div class="sect3" id="GJRBA">
            <h4 id="to-build-package-and-deploy-the-hello1-formauth-example-using-netbeans-ide">
              Para Construir, Empaquetar, y Desplegar el Ejemplo hello1-formauth Usando el EID NetBeans
            </h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>
                    Siga los pasos en 
                    <a href="#GJJLK">Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad</a>.
                  </p>
                </li>
                <li>
                  <p>En el menú Archivo, elija Abrir proyecto.</p>
                </li>
                <li>
                  <p>En el cuadro de diálogo Abrir proyecto, vaya a:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
tut-install/examples/security
                        </code>
                      </pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>Seleccione la carpeta <code>hello1-formauth</code>.</p>
                </li>
                <li>
                  <p>Haga clic en Abrir proyecto.</p>
                </li>
                <li>
                  <p>
                    En la pestaña Proyectos, haga clic con el botón derecho en el proyecto 
                    <code>hello1-formauth</code> y seleccione Ejecutar.
                  </p>
                  <div class="paragraph">
                    <p>
                      Este comando compila e implementa la aplicación de ejemplo en su instancia del servidor 
                      GlassFish y luego la abre en un navegador.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="GJRAZ">
            <h4 id="to-build-package-and-deploy-the-hello1-formauth-example-using-maven-and-the-asadmin-command">
              Para Construir, Empaquetar, y Desplegar el Ejemplo hello1-formauth Usando Maven y el Comando 
              asadmin
            </h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>
                    Siga los pasos en 
                    <a href="#GJJLK">Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad</a>.
                  </p>
                </li>
                <li>
                  <p>En una ventana de terminal, vaya a:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
tut-install/examples/security/hello1-formauth/
                        </code>
                      </pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>Ingrese el siguiente comando en la ventana de terminal o en el símbolo del sistema:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
mvn install
                        </code>
                      </pre>
                    </div>
                  </div>
                  <div class="paragraph">
                    <p>
                      Este comando construye y empaqueta la aplicación en un archivo WAR, 
                      <code>hello1-formauth.war</code>, que se encuentra en el directorio <code>target</code>, 
                      luego implementa el archivo WAR en el servidor GlassFish.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="GJRAL">
            <h4 id="to-run-the-hello1-formauth-example">Para Ejecutar el Ejemplo hello1-formauth</h4>
            <div class="paragraph">
              <p>Para ejecutar el cliente web para <code>hello1-formauth</code>, sigue estos pasos.</p>
            </div>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>Abra un navegador web en la siguiente URL:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
http://localhost:8080/hello1-formauth/
                        </code>
                      </pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>
                    En el formulario de inicio de sesión, ingrese una combinación de nombre de usuario y 
                    contraseña que corresponda a un usuario que ya se haya creado en el dominio 
                    <code>file</code> del serivdor GlassFish y se haya asignado al grupo 
                    <code>TutorialUser</code>.
                  </p>
                  <div class="paragraph">
                    <p>
                      La autenticación basada en formularios distingue entre mayúsculas y minúsculas tanto 
                      para el nombre de usuario como para la contraseña, así que ingrese el nombre de usuario 
                      y la contraseña exactamente como se definió para el servidor GlassFish.
                    </p>
                  </div>
                </li>
                <li>
                  <p>Haga clic en Enviar.</p>
                  <div class="paragraph">
                    <p>
                      Si ingresó <code>My_Name</code> como nombre y <code>My_Pwd</code> como contraseña, el 
                      servidor devuelve el recurso solicitado si se cumplen todas las condiciones siguientes. 
                      * Se define un usuario con el nombre de usuario <code>My_Name</code> para el servidor 
                      GlassFish. * El usuario con el nombre de usuario <code>My_Name</code> tiene una 
                      contraseña <code>My_Pwd</code> definida para el servidor GlassFish. * El usuario 
                      <code>My_Name</code> con la contraseña <code>My_Pwd</code> está asignado al grupo 
                      <code>TutorialUser</code> en el servidor GlassFish. * El rol <code>TutorialUser</code>, 
                      como se define para la aplicación, se asigna al grupo <code>TutorialUser</code>, como se 
                      define para el servidor GlassFish.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>
                      + Cuando se cumplen estas condiciones y el servidor ha autenticado al usuario, aparece 
                      la aplicación.
                    </p>
                  </div>
                </li>
                <li>
                  <p>Ingrese su nombre y haga clic en Enviar.</p>
                  <div class="paragraph">
                    <p>
                      Debido a que ya ha sido autorizado, el nombre que ingrese en este paso no tiene ninguna 
                      limitación. Ahora tienes acceso ilimitado a la aplicación.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>La aplicación responde diciendo "Hola".</p>
                  </div>
                </li>
              </ol>
            </div>
            <div class="paragraph">
              <p>Pasos Siguientes</p>
            </div>
            <div class="paragraph">
              <p>
                Para realizar pruebas adicionales y ver la página de error de inicio de sesión generada, 
                cierre y vuelva a abrir su navegador, ingrese la URL de la aplicación e ingrese un nombre de 
                usuario y una contraseña que no estén autorizados
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="security-webtier003.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="security-javaee.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
