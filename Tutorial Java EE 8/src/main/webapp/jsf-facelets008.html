<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Contratos de Biblioteca de Recursos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-facelets007.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-facelets009.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="">
      <h2 id="resource-library-contracts">Contratos de Biblioteca de Recursos</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Los contratos de biblioteca de recursos le permiten definir una apariencia diferente para 
            diferentes partes de una o más aplicaciones, en lugar de tener que usar la misma apariencia para 
            todas o tener que especificar una apariencia diferente página por página.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Para hacer esto, crea una sección de <code>contratos</code> de su aplicación web. Dentro de la 
            sección <code>contratos</code>, puede especificar cualquier número de áreas nombradas, cada una de 
            las cuales se denomina contrato. Dentro de cada contrato, puede especificar recursos como archivos 
            de plantilla, hojas de estilo, archivos JavaScript e imágenes.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Por ejemplo, podría especificar dos contratos llamados <code>c1</code> y <code>c2</code>, cada uno 
            de los cuales usa una plantilla y otros archivos:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
src/main/webapp
    WEB-INF/
    contracts
        c1
            template.xhtml
            style.css
            myImg.gif
            myJS.js
        c2
            template.xhtml
            style2.css
            img2.gif
            JS2.js
    index.xhtml
    ...
              </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Una parte de la aplicación puede usar <code>c1</code>, mientras que otra puede usar 
            <code>c2</code>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Otra forma de utilizar los contratos es especificar un único contrato que contenga varias 
            plantillas:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
src/main/webapp
    contracts
        myContract
            template1.xhtml
            template2.xhtml
            style.css
            img.png
            img2.png
              </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Puede empaquetar un contrato de biblioteca de recursos en un archivo JAR para reutilizarlo en 
            diferentes aplicaciones. Si lo hace, los contratos deben ubicarse en 
            <code>META-INF/contract</code>. A continuación, puede colocar el archivo JAR en el directorio 
            <code>WEB-INF/lib</code> de una aplicación. Esto significa que la aplicación se organizaría de la 
            siguiente manera:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
src/main/webapp/
    WEB-INF/lib/myContract.jar
    ...
              </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Puede especificar el uso del contrato dentro del archivo <code>faces-config.xml</code> de una 
            aplicación, bajo el elemento <code>resource-library-contract</code>. Sin embargo, solo debe usar 
            este elemento si su aplicación usa más de un contrato.
          </p>
        </div>
        <div class="sect2" id="sthref32">
          <h3 id="the-hello1-rlc-example-application">La Aplicación de Ejemplo hello1-rlc</h3>
          <div class="paragraph">
            <p>
              El ejemplo <code>hello1-rlc</code> modifica el ejemplo simple <code>hello1</code> de 
              <a href="webapp003.html#BNADX">Un módulo web que utiliza la tecnología JavaServer Faces: el 
                ejemplo hello1 </a> para utilizar dos contratos de biblioteca de recursos. Cada una de las dos 
              páginas de la aplicación utiliza un contrato diferente.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El bean administrado para <code>hello1-rlc</code>, <code>Hello.java</code>, es idéntico al de 
              <code>hello1</code> (excepto que reemplaza las anotaciones <code>Named</code> y 
              <code>@RequestScoped</code> con <code>@Model</code>).
            </p>
          </div>
          <div class="paragraph">
            <p>
              El código fuente de esta aplicación se encuentra en el directorio 
              tut-install`/examples/web/jsf/hello1-rlc/`.
            </p>
          </div>
          <div class="paragraph">
            <p>Aquí se tratan los siguientes temas:</p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p><a href="#BABGEDEB">Configurando el Ejemplo hello1-rlc</a></p>
              </li>
              <li>
                <p><a href="#BABDHCFG">Las Páginas Facelets para el Ejemplo hello1-rlc</a></p>
              </li>
              <li>
                <p>
                  <a href="#BABBGFFF">
                    Para Construir, Empaquetar, y Desplegar el  Ejemplo hello1-rlc Usando el EID NetBeans
                  </a>
                </p>
              </li>
              <li>
                <p>
                  <a href="#BABJAGFB">
                    Para Construir, Empaquetar, y Desplegar el Ejemplo hello1-rlc Usando Maven
                  </a>
                </p>
              </li>
              <li>
                <p><a href="#BABFCHEB">Para Ejecutar el Ejemplo hello1-rlc</a></p>
              </li>
            </ul>
          </div>
          <div class="sect3" id="BABGEDEB">
            <h4 id="configuring-the-hello1-rlc-example">Configurando el Ejemplo hello1-rlc</h4>
            <div class="paragraph">
              <p>
                El archivo <code>faces-config.xml</code> para el ejemplo <code>hello1-rlc</code> contiene los 
                siguientes elementos:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;resource-library-contracts&gt;
    &lt;contract-mapping&gt;
        &lt;url-pattern&gt;/reply/*&lt;/url-pattern&gt;
        &lt;contracts&gt;reply&lt;/contracts&gt;
    &lt;/contract-mapping&gt;
    &lt;contract-mapping&gt;
        &lt;url-pattern&gt;*&lt;/url-pattern&gt;
        &lt;contracts&gt;hello&lt;/contracts&gt;
    &lt;/contract-mapping&gt;
&lt;/resource-library-contracts&gt;
                  </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Los elementos <code>contract-mapping</code> dentro del elemento 
                <code>resource-library-contracts</code> asignan cada contrato a un conjunto diferente de 
                páginas dentro de la aplicación. Un contrato, llamado <code>reply</code>, se utiliza para 
                todas las páginas del área <code>reply</code> de la aplicación (<code>/reply/* </code>). El 
                otro contrato, <code>hello</code>, se utiliza para todas las demás páginas de la aplicación 
                (<code>*</code>).
              </p>
            </div>
            <div class="paragraph">
              <p>La aplicación está organizada de la siguiente manera:</p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
hello1-rlc
    pom.xml
    src/main/java/javaeetutorial/hello1rlc/Hello.java
    src/main/webapp
        WEB-INF
            faces-config.xml
            web.xml
        contracts
            hello
                default.css
                duke.handsOnHips.gif
                template.xhtml
            reply
                default.css
                duke.thumbsup.gif
                template.xhtml
        reply
            response.xhtml
        greeting.xhtml
                  </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                El archivo <code>web.xml</code> especifica el <code>archivo de bienvenida</code> como 
                <code>greeting.xhtml</code>. Debido a que no se encuentra en 
                <code>src/main/webapp/reply</code>, esta página de Facelets usa el contrato <code>hello</code>, 
                mientras que <code>src/main/webapp/reply/response.xhtml</code> utiliza el contrato de 
                <code>reply</code>.
              </p>
            </div>
          </div>
          <div class="sect3" id="BABDHCFG">
            <h4 id="the-facelets-pages-for-the-hello1-rlc-example">
              Las Páginas Facelets para el Ejemplo hello1-rlc
            </h4>
            <div class="paragraph">
              <p>
                Las páginas <code>greeting.xhtml</code> y <code>response.xhtml</code> tienen una llamada de 
                código idéntica en sus plantillas:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight">
                  <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;ui:composition template="/template.xhtml"&gt;
                  </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Los archivos <code>template.xhtml</code> en los contratos <code>hello</code> y 
                <code>reply</code> difieren solo en dos aspectos: el texto del marcador de posición para el 
                elemento <code>title</code> ("Plantilla de saludo" y "Plantilla de respuesta") y el gráfico 
                que especifica cada uno.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Las hojas de estilo <code>default.css</code> en los dos contratos difieren solo en un 
                aspecto: el color de fondo especificado para el elemento <code>body</code>.
              </p>
            </div>
          </div>
          <div class="sect3" id="BABBGFFF">
            <h4 id="to-build-package-and-deploy-the-hello1-rlc-example-using-netbeans-ide">
              Para Construir, Empaquetar, y Desplegar el Ejemplo hello1-rlc Usando el EID NetBeans
            </h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>
                    Asegúrese de que el Servidor GlassFish se haya iniciado (consulte 
                    <a href="usingexamples002.html#BNADI">Iniciar y detener el Servidor GlassFish</a>).
                  </p>
                </li>
                <li>
                  <p>En el menú Archivo, elija Abrir proyecto.</p>
                </li>
                <li>
                  <p>En el cuadro de diálogo Abrir proyecto, navegue hasta:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
tut-install/examples/web/jsf
                        </code></pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>Seleccione la carpeta <code>hello1-rlc</code>.</p>
                </li>
                <li>
                  <p>Haga clic en Abrir proyecto.</p>
                </li>
                <li>
                  <p>
                    En la pestaña Proyectos, haga clic con el botón derecho en el proyecto 
                    <code> hello1-rlc</code> y seleccione Compilar. 
                  </p>
                  <div class="paragraph">
                    <p>
                      Esta opción crea la aplicación de ejemplo y la implementa en su instancia de GlassFish 
                      Server.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="BABJAGFB">
            <h4 id="to-build-package-and-deploy-the-hello1-rlc-example-using-maven">
              Para Construir, Empaquetar, y Desplegar el Ejemplo hello1-rlc Usando Maven
            </h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>
                    Asegúrese de que el Servidor GlassFish se haya iniciado (consulte 
                    <a href="usingexamples002.html#BNADI">Iniciar y detener el Servidor GlassFish</a>).
                  </p>
                </li>
                <li>
                  <p>En una ventana de terminal, vaya a:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
tut-install/examples/web/jsf/hello1-rlc/
                        </code></pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>Ingrese el siguiente comando:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
mvn install
                        </code></pre>
                    </div>
                  </div>
                  <div class="paragraph">
                    <p>
                      Este comando compila y empaqueta la aplicación en un archivo WAR, 
                      <code>hello1-rlc.war</code>, que se encuentra en el directorio <code>target</code>. 
                      Luego lo implementa en su instancia de el Servidor GlassFish.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
          <div class="sect3" id="BABFCHEB">
            <h4 id="to-run-the-hello1-rlc-example">Para Ejecutar el Ejemplo hello1-rlc</h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>Ingrese la siguiente URL en su navegador web:</p>
                  <div class="listingblock">
                    <div class="content">
                      <pre class="prettyprint highlight">
                        <code class="language-oac_no_warn" data-lang="oac_no_warn">
http://localhost:8080/hello1-rlc
                        </code></pre>
                    </div>
                  </div>
                </li>
                <li>
                  <p>
                    La página <code>greeting.xhtml</code> se parece a la de <code>hello1</code> excepto por el 
                    color de fondo y el gráfico.
                  </p>
                </li>
                <li>
                  <p>En el campo de texto, ingrese su nombre y haga clic en Enviar.</p>
                </li>
                <li>
                  <p>
                    La página de respuesta también se parece a la de <code>hello1</code> excepto por el color 
                    de fondo y el gráfico.
                  </p>
                  <div class="paragraph">
                    <p>
                      La página muestra el nombre que envió. Haga clic en Atrás para volver a la página 
                      <code>greeting.xhtml</code>.
                    </p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-facelets007.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-facelets009.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
