<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Empezando</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="cdi-basic.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-basic002.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BABJDJGA">
      <h2 id="getting-started">Empezando</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Contexts and Dependency Injection (CDI), en español sería Contextos e Inyección de Dependencias 
            (CID), permite que sus objetos tengan sus dependencias automáticamente, en lugar de crearlos o 
            recibirlos como parámetros. CDI también administra el ciclo de vida de esas dependencias por usted.
          </p>
        </div>
        <div class="paragraph">
          <p>Por ejemplo, considere el siguiente servlet:</p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
@WebServlet("/cdiservlet")
public class NewServlet extends HttpServlet {
    private Message message;
    @Override
    public void init() {
        message = new MessageB();
    }
    @Override
    public void doGet(HttpServletRequest request, HttpServletResponse response)
                  throws IOException {
        response.getWriter().write(message.get());
    }
}
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Este servlet necesita una instancia de un objeto que implemente la interfaz <code>Message</code>:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
public interface Message {
    public String get();
}
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>El servlet se crea a sí mismo una instancia del siguiente objeto:</p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
public class MessageB implements Message {
    public MessageB() { }
    @Override
    public String get() {
        return "mensaje B";
    }
}
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Usando CDI, este servlet puede declarar su dependencia en una instancia de <code>Message</code> y 
            hacer que el tiempo de ejecución de CDI lo inyecte automáticamente. El nuevo código del servlet es 
            el siguiente:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
@WebServlet("/cdiservlet")
public class NewServlet extends HttpServlet {
    @Inject private Message message;
    @Override
    public void doGet(HttpServletRequest request, HttpServletResponse response)
                  throws IOException {
        response.getWriter().write(message.get());
    }
}
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            El tiempo de ejecución de CDI busca clases que implementen la interfaz <code>Message</code>, 
            encuentra la clase <code>MessageB</code>, crea una nueva instancia de la misma y la inyecta en el 
            servlet en tiempo de ejecución. Para administrar el ciclo de vida de la nueva instancia, el tiempo 
            de ejecución de CDI necesita saber cuál debe ser el alcance de la instancia. En este ejemplo, el 
            servlet solo necesita la instancia para procesar una solicitud HTTP; la instancia puede luego ser 
            recolectada como basura. Esto se especifica mediante la anotación 
            <code>javax.enterprise.context.RequestScoped</code>:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
@RequestScoped
public class MessageB implements Message { ... }
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Para obtener más información sobre los ámbitos, consulte 
            <a href="cdi-basic008.html#GJBBK">Usando Ámbitos</a>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            La clase <code>MessageB</code> es un bean CDI. Los beans CDI son clases que CDI puede instanciar, 
            administrar e inyectar automáticamente para satisfacer las dependencias de otros objetos. CDI 
            puede administrar e inyectar casi cualquier clase de Java. Para obtener más información sobre los 
            beans, consulte <a href="cdi-basic003.html#GJEBJ">Sobre los beans</a>. Un archivo JAR o WAR que 
            contiene un bean CDI es un archivo de bean. Para obtener más información sobre cómo empaquetar 
            archivos de beans, consulte <a href="cdi-basic013.html#GJBNZ">Configurando una Aplicación CDI</a> 
            en este capítulo y <a href="cdi-adv001.html#CACDCFDE">Empaquetando Aplicaciones CDI</a> en 
            <a href="cdi-adv.html#GJEHI">
              Capítulo 27, "Contextos e Inyección de Dependencias para Java EE: Temas Avanzados"
            </a>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            En este ejemplo, <code>MessageB</code> es la única clase que implementa la interfaz 
            <code>Message</code>. Si una aplicación tiene más de una implementación de una interfaz, CDI 
            proporciona mecanismos que puede usar para seleccionar qué implementación inyectar. Para obtener 
            más información, consulte <a href="cdi-basic006.html#GJBCK">Usando Calificadores</a> en este 
            capítulo y <a href="cdi-adv002.html#GJSDF">Usando Alternativas en Aplicaciones CDI</a> en 
            <a href="cdi-adv.html#GJEHI">
              Capítulo 27, "Contextos e Inyección de Dependencias para Java EE: Temas Avanzados"
            </a>.
          </p>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="cdi-basic.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-basic002.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
