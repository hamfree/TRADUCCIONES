<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Errores de Consistencia en Memoria (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; Concurrencia)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div> 
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Concurrencia</a></div>
                <div class="linkAHEAD"><a href="procthread.html">Procesos e Hilos</a></div>
                <div class="linkAHEAD"><a href="threads.html">Objetos Hilo</a></div>
                <div class="linkBHEAD"><a href="runthread.html">Definiendo e Iniciando un Hilo</a></div>
                <div class="linkBHEAD"><a href="sleep.html">Pausando la Ejecución con Sleep</a></div>
                <div class="linkBHEAD"><a href="interrupt.html">Interrupciones</a></div>
                <div class="linkBHEAD"><a href="join.html">Uniones</a></div>
                <div class="linkBHEAD"><a href="simple.html">El Ejemplo SimpleThreads</a></div>
                <div class="linkAHEAD"><a href="sync.html">Sincronización</a></div>
                <div class="linkBHEAD"><a href="interfere.html">Interferencias entre Hilos</a></div>
                <div class="nolinkBHEAD">Errores de Consistencia en Memoria</div>
                <div class="linkBHEAD"><a href="syncmeth.html">Métodos Sincronizados</a></div>
                <div class="linkBHEAD"><a href="locksync.html">Bloqueos Intrínsecos y Sincronización</a></div>
                <div class="linkBHEAD"><a href="atomic.html">Acceso Atómico</a></div>
                <div class="linkAHEAD"><a href="liveness.html">Tiempo de vida</a></div>
                <div class="linkBHEAD"><a href="deadlock.html">Bloqueo Mutuo</a></div>
                <div class="linkBHEAD"><a href="starvelive.html">Inanición y Livelock</a></div>
                <div class="linkAHEAD"><a href="guardmeth.html">Bloques Vigilados</a></div>
                <div class="linkAHEAD"><a href="immutable.html">Objetos Inmutables</a></div>
                <div class="linkBHEAD"><a href="syncrgb.html">Un Ejemplo de Clase Sincronizada</a></div>
                <div class="linkBHEAD"><a href="imstrat.html">Una Estrategia para Definir Objetos Inmutables</a></div>
                <div class="linkAHEAD"><a href="highlevel.html">Objetos con Alto Nivel de Concurrencia</a></div>
                <div class="linkBHEAD"><a href="newlocks.html">Objetos de Bloqueo</a></div>
                <div class="linkBHEAD"><a href="executors.html">Ejecutores</a></div>
                <div class="linkCHEAD"><a href="exinter.html">Interfaces del Ejecutor</a></div>
                <div class="linkCHEAD"><a href="pools.html">Agrupaciones de Hilos</a></div>
                <div class="linkCHEAD"><a href="forkjoin.html">Fork/Join</a></div>
                <div class="linkBHEAD"><a href="collections.html">Colecciones Concurrentes</a></div>
                <div class="linkBHEAD"><a href="atomicvars.html">Variables Atómicas</a></div>
                <div class="linkBHEAD"><a href="threadlocalrandom.html">Números Aleatorios Concurrentes</a></div>
                <div class="linkAHEAD"><a href="further.html">Lecturas Adicionales</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> Concurrencia<br />
                <b>Sección:</b> Sincronización
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Concurrencia</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="interfere.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="syncmeth.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Errores de Consistencia en Memoria</h1>
            </div>
            <div id="PageContent">
                <p>
                    Los <i>errores de consistencia en memoria</i> ocurren cuando diferentes hilos tienen vistas inconsistentes de lo
                    que deberíam ser los mismos datos. Las causas de los errores de consistencia de memoria son complejos y están
                    más alla del alcance de este tutorial. Afortunadamente, el programador no necesita un entendimiento detallado de
                    estas causas. Todos lo que se necesita es una estrategia para evitarlas.
                </p>
                <p>
                    La clave para evitar los errores de consistencia en memoria es entender la relación <i>sucede-antes</i>. Esta
                    relación es simplemente una garantía de que la memoria escrita por una sentencia específica es visible para otra
                    sentencia específica. Para ver esto, considere el siguiente ejemplo. Suponga un campo simple <code>int</code>
                    que es definido e inicializado:
                </p>
                <div class="codeblock">
                    <pre>
int contador = 0;
                    </pre>
                </div>
                <p>
                    El campo <code>contador</code> es compartido entre dos hilos, A y B. Suponga que el hilo A incrementa
                    <code>contador</code>:
                </p>
                <div class="codeblock">
                    <pre>
contador++;
                    </pre>
                </div>
                <p>
                    Entonces, poco después, el hilo B imprime <code>contador</code>:
                </p>
                <div class="codeblock">
                    <pre>
System.out.println(contador);
                    </pre>
                </div>
                <p>
                    Si las dos sentencias hubieran sido ejecutadadas en el mismo hilo, sería seguro asumir que el valor impreso
                    sería  &quot;1&quot;. Pero si las dos sentencias son ejecutadas en hilos separados, el valor impreso podría ser
                    &quot;0&quot;, porque no hay garantía de que el cambio de hilo A a <code>contador</code> sea visible al hilo B
                    &mdash; a menos que el programador haya establecido una relación sucede-antes entre estas dos sentencias.
                </p>
                <p>
                    Hay varias acciones que crean relaciones sucede-antes. Una de elleas es la sincronización, como veremos en las
                    siguientes secciones.
                </p>
                <p>
                    Hemos vista ya dos acciones que crean relaciones sucede-antes.
                </p>
                <ul>
                    <li>
                        Cuando una sentencia invoca <code>Thread.start</code>, cada sentenciea que tiene una relación sucede-antes
                        con esa sentencia también tiene una relación sucede-antes con cada sentencia ejecutada por el nuevo hilo.
                        Los efectos del código que condujo a la creación del nuevo hilo son visibles para el nuevo hilo.
                    </li>
                    <li>
                        Cuando un hilo termina y causa que un <code>Thread.join</code> en otro hilo vuelva, entonces todas las
                        sentencias ejecutadas por el hilo terminado tienen una relación sucede-antes con todas las sentencias
                        siguientes al join exitoso. Los efectos del código en el hilo son ahora visibles al hilo que ejecutó el
                        join.
                    </li>
                </ul>
                <p>
                    Para una lista de acciones que crean relaciones sucede-antes, refiérase a la
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html#MemoryVisibility">
                        página Sumario del paquete <code>java.util.concurrent</code></a>.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="interfere.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="syncmeth.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta </a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Interferencias entre Hilos<br />
            <b>Página Siguiente:</b> Métodos Sincronizados
        </div>
    </body>
</html> 