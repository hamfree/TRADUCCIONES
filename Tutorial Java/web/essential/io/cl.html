<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            E/S desde la Línea de Comandos (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; E/S Básica)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link type="text/css" rel="stylesheet" href="../../indice.css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">E/S Básica</a></div>
                <div class="linkAHEAD"><a href="streams.html">Flujos E/S</a></div>
                <div class="linkBHEAD"><a href="bytestreams.html">Flujos de Bytes</a></div>
                <div class="linkBHEAD"><a href="charstreams.html">Flujos de Caracteres</a></div>
                <div class="linkBHEAD"><a href="buffers.html">Flujos Cacheados</a></div>
                <div class="linkBHEAD"><a href="scanfor.html">Escaneando y Formateando</a></div>
                <div class="linkCHEAD"><a href="scanning.html">Escaneando</a></div>
                <div class="linkCHEAD"><a href="formatting.html">Formateando</a></div>
                <div class="nolinkBHEAD">E/S desde la Línea de Comandos</div>
                <div class="linkBHEAD"><a href="datastreams.html">Flujos de Datos</a></div>
                <div class="linkBHEAD"><a href="objectstreams.html">Flujos de Objetos</a></div>
                <div class="linkAHEAD"><a href="fileio.html">E/S de Ficheros (caracterizando NIO.2)</a></div>
                <div class="linkBHEAD"><a href="path.html">¿Qué es un Path? (Y Otros Hechos del Sistema del Ficheros)</a></div>
                <div class="linkBHEAD"><a href="pathClass.html">La Clase Path</a></div>
                <div class="linkCHEAD"><a href="pathOps.html">Operaciones con Path</a></div>
                <div class="linkBHEAD"><a href="fileOps.html">Operaciones con Ficheros</a></div>
                <div class="linkBHEAD"><a href="check.html">Comprobando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="delete.html">Borrando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="copy.html">Copiando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="move.html">Moviendo un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="fileAttr.html">Gestionando Metadatos (Fichero y Almacenamiento de Atributos del Fichero)</a></div>
                <div class="linkBHEAD"><a href="file.html">Leyendo, Escribiendo y Creando Ficheros</a></div>
                <div class="linkBHEAD"><a href="rafs.html">Acceso Aleatorio a Ficheros</a></div>
                <div class="linkBHEAD"><a href="dirs.html">Creando y Leyendo Directorios</a></div>
                <div class="linkBHEAD"><a href="links.html">Enlaces, Simbólicos o Inversos</a></div>
                <div class="linkBHEAD"><a href="walk.html">Recorriendo el Árbol de Ficheros</a></div>
                <div class="linkBHEAD"><a href="find.html">Encontrando Ficheros</a></div>
                <div class="linkBHEAD"><a href="notification.html">Monitorizando un Directorio en busca de Cambios</a></div>
                <div class="linkBHEAD"><a href="misc.html">Otros Métodos Útiles</a></div>
                <div class="linkBHEAD"><a href="legacy.html">Código de E/S de Ficheros Heredado</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> E/S Básica<br />
                <b>Sección:</b> Flujos E/S
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">E/S Básica</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="formatting.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="datastreams.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>E/S desde la Línea de Comandos</h1>
            </div>
            <div id="PageContent">
                <p>
                    Un programa es a menudo ejecutado desde la línea de comandos e interactúa con el usuario en el entorno de la
                    línea de comandos. La plataforma Java soporta esta clase de interacción de dos formas: a través de los Flujos
                    Estándar y a través de Console.
                </p>
                <h2>Flujos Estándar</h2>
                <p>
                    Los Flujos Estándar son una característica de muchos sistemas operativos. Por defecto, la lectura de la entrada
                    es desde el teclado y la salida escrita es hacia la pantalla. También soportan E/S sobre ficheros y entre
                    programas, pero esas características están controladas por el intérprete de la línea de comandos, no el programa.
                </p>
                <p>
                    La plataforma de Java soporta tres Flujos Estándar: La <em>Entrada Estándar</em>, accedida a través de
                    <code>System.in</code>; La <em>Salida Estándar</em>, accedida a través de <code>System.out</code>; y el
                    <em>Error Estándar</em>, accedido a través de <code>System.err</code>. Estos objetos están definidos
                    automáticamente y no necesitan ser abiertos. La Salida Estándar y el Error Estándar son ambos de salida; tener
                    la salida de errores separada permite al usuario desviar la salida regular a un fichero y aún ser capaz de
                    leer los mensajes de error. Para obtener más información, refíerase a la documentación de su intérprete de
                    línea de comandos.
                </p>
                <p>
                    Podría esperar que los Flujos Estándar fueran flujos de caracteres, pero, por razones históricas, son flujos de
                    bytes. <code>System.out</code> y <code>System.err</code> están definidos como objetos
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html">
                        <code>PrintStream</code></a>. Aunque es técnicamente un flujo de bytes, <code>PrintStream</code> usa un
                    objeto interno de flujo de caracteres para emular muchas de las características de los flujos de caracteres.
                </p>
                <p>
                    Por contraste, <code>System.in</code> es un flujo de bytes sin características de flujo de caracteres. Para usar
                    la Entrada Estándar como un flujo de caracteres, envuelva <code>System.in</code> en un
                    <code>InputStreamReader</code>.
                </p>
                <div class="codeblock">
                    <pre>
InputStreamReader cin = new InputStreamReader(System.in);
                    </pre>
                </div>
                <h2>La Consola</h2>
                <p>
                    Una alternativa más avanzada a los Flujos Estándar es la Consola. Este es un objeto único, predefinido del
                    tipo
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/Console.html"><code>Console</code></a> que tiene la
                    mayoría de las capacidades ofrecidas por los Flujos Estańdar, y otras además. Console es particularmente
                    útil para la entrada segura de contraseñas. El objeto Console también ofrece flujos de entrada y salida que son
                    flujos reales de caracteres, a través de sus métodos <code>reader</code> y <code>writer</code>.
                </p>
                <p>
                    Antes de que un programa puede usar Console, debe intentar recuperar el objeto Console invocando
                    <code>System.console()</code>. Si el objeto Console está disponible, este método lo devolverá. Si
                    <code>System.console</code> devuelve <code>NULL</code>, entonces las operaciones de Console no están permitidas,
                    porque el SO no las soporta o porque el programa fue lanzado en un entorno no interactivo.
                </p>
                <p>
                    El objeto Console soporta la entrada segura de contraseñas a través de su método <code>readPassword</code>. Este
                    método ayuda en la entrada segura de contraseñas en dos formas. Primero, suprime el eco en pantalla, de forma
                    que la contraseña no es visible en la pantalla del usuario. Segundo, <code>readPassword</code> devuelve una
                    matriz de caracteres, no una <code>String</code>, de forma que la contraseña puede ser sobrescrita, borrada de
                    la memoria tan pronto como ya no se necesite.
                </p>
                <p>
                    El ejemplo
                    <a class="SourceLink" target="_blank" href="examples/Contraseña.java"
                       onclick="showCode('../../displayCode.html', 'examples/Contraseña.java'); return false;">
                        <code>Contraseña</code></a> es un programa prototipo para cambiar la contraseña de un usuario. Demuestra
                    varios métodos de <code>Console</code>.
                </p>
                <div class="codeblock">
                    <pre>
import java.io.Console;
import java.util.Arrays;
import java.io.IOException;

// fuente original: Password.java
public class Contraseña {

    public static void main (String args[]) throws IOException {

        Console c = System.console();
        if (c == null) {
            System.err.println("Sin consola.");
            System.exit(1);
        }

        String usuario = c.readLine("Introduzca su usuario: ");
        char [] contraseñaVieja = c.readPassword("Introduzca su contraseña antigua: ");

        if (verifica(usuario, contraseñaVieja)) {
            boolean noCoinciden;
            do {
                char [] nuevaContraseña1 = c.readPassword("Introduzca su nueva contraseña: ");
                char [] nuevaContraseña2 = c.readPassword("Introduzca su nueva contraseña de nuevo: ");
                noCoinciden = ! Arrays.equals(nuevaContraseña1, nuevaContraseña2);
                if (noCoinciden) {
                    c.format("Las contraseñas no coinciden. Inténtenlo de nuevo.%n");
                } else {
                    cambia(usuario, nuevaContraseña1);
                    c.format("La contraseña para %s fue cambiada.%n", usuario);
                }
                Arrays.fill(nuevaContraseña1, ' ');
                Arrays.fill(nuevaContraseña2, ' ');
            } while (noCoinciden);
        }

        Arrays.fill(contraseñaVieja, ' ');
    }

    // Método de verificación tonto
    static boolean verifica(String usuario, char[] contraseña) {
        // Este método siempre devuelve
        // verdadero en este ejemplo.
        // Modifique este método para verificar
        // la contraseña de acuerdo a sus reglas.
        return true;
    }

    // Método de cambio tonto.
    static void cambia(String usuario, char[] contraseña) {
        // Modifique este método para cmabiar
        // la contraseña de acuerdo a sus reglas.
    }
}
                    </pre>
                </div>
                <p>
                    La clase <code>Contraseña</code> sigue estos pasos:
                </p>
                <ol>
                    <li>
                        Intenta recuperar el objeto Console. Si el objeto no está disponible, aborta.
                    </li>
                    <li>
                        Invoca <code>Console.readLine</code> para preguntar por un nombre de login y lee el nombre del usuario.
                    </li>
                    <li>
                        Invoca <code>Console.readPassword</code> para preguntar y leer la contraseña actual del usuario.
                    </li>
                    <li>
                        Invoca <code>verifica</code> para confirmar que el usuario está autorizado a cambiar la contraseña. (En este
                        ejemplo <code>verifica</code> es un método tonto que siempre devuelve <code>verdadero</code>).
                    </li>
                    <li>
                        Repite los siguientes pasos hasta que el usuario introduce la misma contraseña dos veces:
                        <ol style="list-style-type: lower-alpha">
                            <li>
                                Invoca <code>Console.readPassword</code> dos veces para preguntar y leer una nueva contraseña.
                            </li>
                            <li>
                                Si el usuario introdujo la misma contraseña ambas veces, invoca <code>cambia</code> para cambiarla.
                                (De nuevo, <code>cambia</code> es un método tonto que no hace nada).
                            </li>
                            <li>
                                Sobreescribe ambas contraseñas con espacios.
                            </li>
                        </ol>
                    </li>
                    <li>
                        Sobreescribe la contraseña vieja con blancos.
                    </li>
                </ol>
            </div>
            <div class="NavBit">
                <a target="_top" href="formatting.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="datastreams.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>
                            .
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Formateando<br />
            <b>Página Siguiente:</b> Flujos de Datos
        </div>
    </body>
</html>