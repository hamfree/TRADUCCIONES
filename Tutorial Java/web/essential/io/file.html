<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Leyendo, Escribiendo y Creando Ficheros (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; E/S Básica)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link type="text/css" rel="stylesheet" href="../../indice.css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">E/S Básica</a></div>
                <div class="linkAHEAD"><a href="streams.html">Flujos E/S</a></div>
                <div class="linkBHEAD"><a href="bytestreams.html">Flujos de Bytes</a></div>
                <div class="linkBHEAD"><a href="charstreams.html">Flujos de Caracteres</a></div>
                <div class="linkBHEAD"><a href="buffers.html">Flujos Cacheados</a></div>
                <div class="linkBHEAD"><a href="scanfor.html">Escaneando y Formateando</a></div>
                <div class="linkCHEAD"><a href="scanning.html">Escaneando</a></div>
                <div class="linkCHEAD"><a href="formatting.html">Formateando</a></div>
                <div class="linkBHEAD"><a href="cl.html">E/S desde la Línea de Comandos</a></div>
                <div class="linkBHEAD"><a href="datastreams.html">Flujos de Datos</a></div>
                <div class="linkBHEAD"><a href="objectstreams.html">Flujos de Objetos</a></div>
                <div class="linkAHEAD"><a href="fileio.html">E/S de Ficheros (caracterizando NIO.2)</a></div>
                <div class="linkBHEAD"><a href="path.html">¿Qué es un Path? (Y Otros Hechos del Sistema del Ficheros)</a></div>
                <div class="linkBHEAD"><a href="pathClass.html">La Clase Path</a></div>
                <div class="linkCHEAD"><a href="pathOps.html">Operaciones con Path</a></div>
                <div class="linkBHEAD"><a href="fileOps.html">Operaciones con Ficheros</a></div>
                <div class="linkBHEAD"><a href="check.html">Comprobando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="delete.html">Borrando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="copy.html">Copiando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="move.html">Moviendo un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="fileAttr.html">Gestionando Metadatos (Fichero y Almacenamiento de Atributos del Fichero)</a></div>
                <div class="nolinkBHEAD">Leyendo, Escribiendo y Creando Ficheros</div>
                <div class="linkBHEAD"><a href="rafs.html">Acceso Aleatorio a Ficheros</a></div>
                <div class="linkBHEAD"><a href="dirs.html">Creando y Leyendo Directorios</a></div>
                <div class="linkBHEAD"><a href="links.html">Enlaces, Simbólicos o Inversos</a></div>
                <div class="linkBHEAD"><a href="walk.html">Recorriendo el Árbol de Ficheros</a></div>
                <div class="linkBHEAD"><a href="find.html">Encontrando Ficheros</a></div>
                <div class="linkBHEAD"><a href="notification.html">Monitorizando un Directorio en busca de Cambios</a></div>
                <div class="linkBHEAD"><a href="misc.html">Otros Métodos Útiles</a></div>
                <div class="linkBHEAD"><a href="legacy.html">Código de E/S de Ficheros Heredado</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> E/S Básica<br />
                <b>Sección:</b> E/S de Ficheros (caracterizando NIO.2)
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">E/S Básica</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="fileAttr.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="rafs.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle"><h1>Leyendo, Escribiendo y Creando Ficheros</h1></div>
            <div id="PageContent">
                <p>
                    Esta página describe los detalles de leer, escribir, crear, y abrir ficheros. Hay una amplia matriz de métodos
                    de E/S de fichero para elegir. Para ayudar a darle sentido a la IPA, el siguiente diagrama organiza los métodos
                    de E/S de fichero por complejidad.
                </p>
                <p style="text-align: center">
                    <img src="../../figures/essential/io-fileiomethods.gif" width="455" height="236"
                         alt="Dibujo lineal con los métodos de E / S de archivos organizados desde los menos complejos (a la
                         izquierda) hasta los más complejos (a la derecha)." />
                </p>
                <p class="FigureCaption">
                    Métodos de E/S de Ficheros Organizados de Menor Complejidad a Mayor Complejidad
                </p>
                <p>
                    En el extremo izquierdo del diagrama están los métodos de utilidad <code>readAllBytes</code>,
                    <code>readAllLines</code>, y <code>write</code>, diseñados para casos comunes y simples. A la derecha de estos
                    están los métodos usados para iterar sobre un flujo o líneas de texto, tales como <code>newBufferedReader</code>,
                    <code>newBufferedWriter</code>, después <code>newInputStream</code> y <code>newOutputStream</code>. Estos
                    métodos son interoperables con el paquete <code>java.io</code>. A la derecha de estos están los métodos para
                    tratar con los <code>ByteChannels</code>, <code>SeekableByteChannels</code>, y <code>ByteBuffers</code>, tales
                    como el método <code>newByteChannel</code>. Finalmente, en el extremo derecho están los métodos que usan
                    <code>FileChannel</code> para aplicaciones avanzadas que necesitan el bloqueo de ficheros o E/S
                    mapeada-en-memoria.
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Los métodos para crear un nuevo fichero le habilitan a especificar un conjunto
                    opcional de atributos iniciales para el fichero. Por ejemplo, en los sistemas de ficheros que soportan el
                    conjunto POSIX de estándares (tal como UNIX), puede especificar un propietario de fichero, un grupo propietario,
                    o permisos de fichero a la vez que se crea el fichero. La página
                    <a class="TutorialLink" target="_top" href="fileAttr.html">Gestionando Metadatos</a> explica los atributos de
                    fichero, y cómo acceder o fijarlos.
                    <hr />
                </div>
                <p>
                    Esta página tiene los siguientes temas:
                </p>
                <ul>
                    <li>
                        <a href="#openOptions">El Parámetro <code>OpenOptions</code></a>
                    </li>
                    <li>
                        <a href="#common">Métodos Usados Comunmente para Ficheros Pequeños</a>
                    </li>
                    <li>
                        <a href="#textfiles">Métodos Cacheados de E/S para Ficheros de Texto</a>
                    </li>
                    <li>
                        <a href="#streams">Métodos para Flujos No Cacheados e Interoperables con IPA <code>java.io</code></a>
                    </li>
                    <li>
                        <a href="#channels">Métodos para Canales y <code>ByteBuffers</code></a>
                    </li>
                    <li>
                        <a href="#creating">Métodos para Crear Ficheros Regulares y Temporales</a>
                    </li>
                </ul>
                <hr />
                <h2>
                    <a id="openOptions">El Parámetro <code>OpenOptions</code></a>
                </h2>
                <p>
                    Varios de los métodos en esta sección toman un parámetro opcional <code>OpenOptions</code>. Este parámetro es
                    opcional y la IPA le dice cuál es el comportamiento predeterminado para el método cuando no se especifica
                    ninguno.
                </p>
                <p>
                    Las siguientes enumeraciones <code>StandardOpenOptions</code> están soportadas:
                </p>
                <ul>
                    <li>
                        <code>WRITE</code> &ndash; Abre el fichero para acceso de escritura.
                    </li>
                    <li>
                        <code>APPEND</code> &ndash; Añade los nuevos datos al final del fichero. Esta opción es usada con las
                        opciones <code>WRITE</code> o <code>CREATE</code>.
                    </li>
                    <li>
                        <code>TRUNCATE_EXISTING</code> &ndash; Trunca el archivo dejándolo vacío. Esta opción es usada con la opción
                        <code>WRITE</code>.
                    </li>
                    <li>
                        <code>CREATE_NEW</code> &ndash; Crea un nuevo fichero y lanza una excepción si el fichero ya existe.
                    </li>
                    <li>
                        <code>CREATE</code> &ndash; Abre el fichero si éste existe o crea un nuevo fichero si no existe.
                    </li>
                    <li>
                        <code>DELETE_ON_CLOSE</code> &ndash; Borra el fichero cuando el flujo se cierra. Esta opción es útil para
                        ficheros temporales.
                    </li>
                    <li>
                        <code>SPARSE</code> &ndash; Indica que el archivo recién creado sea del tipo 'sparse'. Esta opción avanzada
                        es soportada en algunos sistemas de ficheros, como NTFS, donde los ficheros grandes con zonas vacías de
                        datos pueden ser almacenados de una manera más eficiente donde esas zonas vacías no consumen espacio en
                        disco.
                    </li>
                    <li>
                        <code>SYNC</code> &ndash; Mantiene el fichero (tanto el contenido como los metadatos) sincronizados con el
                        dispositivo de almacenamiento subyacente.
                    </li>
                    <li>
                        <code>DSYNC</code> &ndash; Mantiene el contenido del fichero sincronizado con el dispositivo de
                        almacenamiento subyacente.
                    </li>
                </ul>
                <hr />
                <h2>
                    <a id="common">Métodos Usados Comunmente para Ficheros Pequeños</a>
                </h2>
                <h3>
                    <a id="readAllLines">Leer Todos Los Bytes o Líneas de un Fichero</a>
                </h3>
                <p>
                    Si usted tiene un fichero pequeño y le gustaría leer su contenido entero en un solo paso, puede usar el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllBytes-java.nio.file.Path-">
                        <code>readAllBytes(Path)</code></a> o el método
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-java.nio.charset.Charset-">
                        <code>readAllLines(Path, Charset)</code></a>. Estos métodos se encargan de la mayor parte del trabajo por
                    usted, tal como abrir y cerrar el flujo, pero no están destinados a abrir archivos grandes. El siguiente
                    código le muestra cómo usar el método <code>readAllBytes</code>:
                </p>
                <div class="codeblock">
                    <pre>
Path file = ...;
byte[] fileArray;
fileArray = Files.readAllBytes(file);
                    </pre>
                </div>
                <h3>
                    <a id="writeAllLines">Escribir Todos Los Bytes o Líneas a un Fichero</a>
                </h3>
                <p>
                    Puede usar uno de los métodos de escritura para escribir bytes, o líneas, a un fichero.
                </p>
                <ul>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-byte:A-java.nio.file.OpenOption...-">
                            <code>write(Path, byte[], OpenOption...)</code></a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-java.lang.Iterable-java.nio.charset.Charset-java.nio.file.OpenOption...-">
                            <code>write(Path, Iterable&lt; extends CharSequence&gt;, Charset, OpenOption...)</code></a>
                    </li>
                </ul>
                <p>
                    El siguiente trozo de código muestra cómo usar un método <code>write</code>.
                </p>
                <div class="codeblock">
                    <pre>
Path file = ...;
byte[] buf = ...;
Files.write(file, buf);

                    </pre>
                </div>
                <hr />
                <h2>
                    <a id="textfiles">Métodos Cacheados de E/S para Ficheros de Texto</a>
                </h2>
                <p>
                    El paquete <code>java.nio.file</code> soporta E/S de canales, los cuales mueven los datos en buffers, sáltandose
                    algunas de las capas que pueden embotellar la E/S de flujos.
                </p>
                <h3>
                    <a id="readBufferedStream">Leer un Fichero Usando Flujos Cacheados de E/S</a>
                </h3>
                <p>
                    El método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedReader-java.nio.file.Path-java.nio.charset.Charset-">
                        <code>newBufferedReader(Path, Charset)</code></a> abre un fichero para lectura, devolviendo un
                    <code>BufferedReader</code> que puede ser usado para leer texto de un fichero de una manera eficiente.
                </p>
                <p>
                    El siguiente trozo de código muestra cómo usar el método <code>newBufferedReader</code> para leer un fichero. El
                    fichero está codificado en &quot;US-ASCII.&quot;
                </p>
                <div class="codeblock">
                    <pre>
Charset charset = Charset.forName("US-ASCII");
try (BufferedReader reader = Files.newBufferedReader(file, charset)) {
    String line = null;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}
                    </pre>
                </div>
                <h3>
                    <a id="writeBufferedStream">Escribir en un Fichero Usando Flujos Cacheados de E/S</a>
                </h3>
                <p>Puede usar el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedWriter-java.nio.file.Path-java.nio.charset.Charset-java.nio.file.OpenOption...-">
                        <code>newBufferedWriter(Path, Charset, OpenOption...)</code></a> para escribir en un fichero usando un
                    <code>BufferedWriter</code>.
                </p>
                <p>
                    El siguiente trozo de código muestra cómo crear un fichero codificado en &quot;US-ASCII&quot; usando éste
                    método:
                </p>
                <div class="codeblock">
                    <pre>
Charset charset = Charset.forName("US-ASCII");
String s = ...;
try (BufferedWriter writer = Files.newBufferedWriter(file, charset)) {
    writer.write(s, 0, s.length());
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}
                    </pre>
                </div>
                <hr />
                <h2>
                    <a id="streams">
                        Métodos para Flujos No Cacheados e Interoperables con IPA <code>java.io</code>
                    </a>
                </h2>
                <h3>
                    <a id="readStream">Leer un Fichero Usando Flujos E/S</a>
                </h3>
                <p>
                    Para abrir un fichero para leerlo, puede usar el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newInputStream-java.nio.file.Path-java.nio.file.OpenOption...-">
                        <code>newInputStream(Path, OpenOption...)</code></a>. Este método devuelve un flujo de entrada no cacheado
                    para leer bytes del fichero.
                </p>
                <div class="codeblock">
                    <pre>
Path file = ...;
try (InputStream in = Files.newInputStream(file);
    BufferedReader reader =
      new BufferedReader(new InputStreamReader(in))) {
    String line = null;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException x) {
    System.err.println(x);
}
                    </pre>
                </div>
                <h3>
                    <a id="createStream">Crear y Escribir un Fichero Usando Flujos de E/S</a>
                </h3>
                <p>
                    Puede crear un fichero, añadir a un fichero, o escribir en un fichero usando el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newOutputStream-java.nio.file.Path-java.nio.file.OpenOption...-">
                        <code>newOutputStream(Path, OpenOption...)</code></a>. Este método abre o crea un fichero para escribir
                    bytes y devuelve un flujo de salida no cacheado.
                </p>
                <p>
                    El método toma un parámetro opcional <code>OpenOption</code>. Si no se epscifica ninguna opción de apertura, y
                    el fichero no existe, un nuevo fichero será creado. Si el fichero existe, será truncado. Esta opción es
                    equivalente a invocar el método con las opciones <code>CREATE</code> y <code>TRUNCATE_EXISTING</code>.
                </p>
                <p>
                    El siguiente ejemplo abre un fichero de trazas. Si el fichero no existe, será creado. Si el fichero existe, será
                    abierto para añadir.
                </p>
                <div class="codeblock">
                    <pre>
import static java.nio.file.StandardOpenOption.*;
import java.nio.file.*;
import java.io.*;

public class LogFileTest {

  public static void main(String[] args) {

    // Convert the string to a
    // byte array.
    String s = "Hello World! ";
    byte data[] = s.getBytes();
    Path p = Paths.get("./logfile.txt");

    try (OutputStream out = new BufferedOutputStream(
      Files.newOutputStream(p, CREATE, APPEND))) {
      out.write(data, 0, data.length);
    } catch (IOException x) {
      System.err.println(x);
    }
  }
}
                    </pre>
                </div>
                <hr />
                <h2>
                    <a id="channels">Métodos para Canales y <code>ByteBuffers</code></a>
                </h2>
                <h3>
                    <a id="channelio">Leer y Escribir Ficheros Usando Canales de E/S</a>
                </h3>
                <p>
                    Mientras la E/S de flujos lee un carácter a la vez, la E/S de canales lee un buffer a la vez. El interfaz
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ByteChannel.html">
                        <code>ByteChannel</code></a> establece la funcionalidad básica de <code>lectura</code> y
                    <code>escritura</code>. Un
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SeekableByteChannel.html">
                        <code>SeekableByteChannel</code></a> es un <code>ByteChannel</code> que tiene la capacidad de mantener una
                    posición en el canal y cambiar esa posición. Un <code>SeekableByteChannel</code> también soporta el truncado
                    del fichero asociado con el canal y el preguntar al fichero por su tamaño.
                </p>
                <p>
                    La capacidad de moverse a diferentes puntos en el fichero y leer o escribir en esa localización hace el acceso
                    aleatorio de un fichero posible. Vea
                    <a class="TutorialLink" target="_top" href="rafs.html">Acceso Aleatorio a Ficheros</a> para obtener más
                    información.
                </p>
                <p>
                    Hay dos métodos para leer y escribir en canales de E/S.
                </p>
                <ul>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newByteChannel-java.nio.file.Path-java.nio.file.OpenOption...-">
                            <code>newByteChannel(Path, OpenOption...)</code></a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newByteChannel-java.nio.file.Path-java.util.Set-java.nio.file.attribute.FileAttribute...-">
                            <code>newByteChannel(Path, Set&lt;? extends OpenOption&gt;, FileAttribute&lt;?&gt;...)</code></a>
                    </li>
                </ul>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Los métodos <code>newByteChannel</code> devuelven una instancia de un
                    <code>SeekableByteChannel</code>. Con un sistema de ficheros por defecto, puede moldear este canal de bytes
                    buscable a un
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html">
                        <code>FileChannel</code></a> que ofrece acceso a características más avanzadas como la asignación de una región
                    del fichero directamente en memoria para un acceso más rápido, el bloqueo de una región del fichero de forma
                    que otros procesos no puedan acceder, o leer y escribir bytes desde una posición absoluta sin afectar a la
                    posición actual del canal.
                    <hr />
                </div>
                <p>
                    Ambos métodos <code>newByteChannel</code> le capacitan a especificar una lista de opciones
                    <code>OpenOption</code>. Las mismas <a href="#openOptions">opciones de apertura</a> usadas por los métodos
                    <code>newOutputStream</code> están soportadas, en adicción de una opción más: <code>READ</code> es requerida
                    porque <code>SeekableByteChannel</code> soporta tanto lectura como escritura.
                </p>
                <p>
                    Especificar <code>READ</code> abre el canal para lectura. Especificar <code>WRITE</code> o <code>APPEND</code>
                    abre el canal para escritura. Si ninguna de estas opciones es especificada, el canal es abierto para lectura.
                </p>
                <p>
                    El siguiente trozo de código lee un fichero y lo imprime en la salida estándar:
                </p>
                <div class="codeblock">
                    <pre>
// Por defecto es READ
try (SeekableByteChannel sbc = Files.newByteChannel(file)) {
    ByteBuffer buf = ByteBuffer.allocate(10);

    // Lee los bytes con la codificación apropiada para esta plataforma. Si
    // usted se salta este paso, podría ver algo que parece como
    // caracteres chinos cuando espera caracteres de estilo-latino.
    String encoding = System.getProperty("file.encoding");
    while (sbc.read(buf) > 0) {
        buf.rewind();
        System.out.print(Charset.forName(encoding).decode(buf));
        buf.flip();
    }
} catch (IOException x) {
    System.out.println("capturada excepción: " + x);
                    </pre>
                </div>
                <p>
                    El siguiente ejemplo, escrito para UNIX y otros sistemas de ficheros POSIX, crea un fichero de trazas con un
                    conjunto específico de permisos de fichero. Este código crea un un fichero de trazas o añade a un fichero de
                    trazas si ya existe. El fichero de trazas es creado con permisos de lectura/escritura para el propietario y
                    permisos de sólo lectura para el grupo.
                </p>
                <div class="codeblock">
                    <pre>
import static java.nio.file.StandardOpenOption.*;
import java.nio.*;
import java.nio.channels.*;
import java.nio.file.*;
import java.nio.file.attribute.*;
import java.io.*;
import java.util.*;

public class LogFilePermissionsTest {

  public static void main(String[] args) {
  
    // Crea el conjunto de opciones para añadir al fichero.
    Set&lt;OpenOption&gt; options = new HashSet&lt;OpenOption&gt;();
    options.add(APPEND);
    options.add(CREATE);

    // Crea el atributo de permisos personalizados.
    Set&lt;PosixFilePermission&gt; perms =
      PosixFilePermissions.fromString("rw-r-----");
    FileAttribute&lt;Set&lt;PosixFilePermission&gt;&gt; attr =
      PosixFilePermissions.asFileAttribute(perms);

    // Convierte la cadena en un ByteBuffer.
    String s = "¡Hola Mundo! ";
    byte data[] = s.getBytes();
    ByteBuffer bb = ByteBuffer.wrap(data);
    
    Path file = Paths.get("./permisos.log");

    try (SeekableByteChannel sbc =
      Files.newByteChannel(file, options, attr)) {
      sbc.write(bb);
    } catch (IOException x) {
      System.out.println("Excepción lanzada: " + x);
    }
  }
}
                    </pre>
                </div>
                <hr />
                <h2>
                    <a id="creating">Métodos para Crear Ficheros Regulares y Temporales</a>
                </h2>
                <h3>
                    <a id="createFile">Crear Ficheros</a>
                </h3>
                <p>
                    Puede crear un fichero vacío con un conjunto inicial de atributos usando el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createFile-java.nio.file.Path-java.nio.file.attribute.FileAttribute...-">
                        <code>createFile(Path, FileAttribute&lt;?&gt;)</code></a>. Por ejemplo, si, en el tiempo de creación, quiere
                    un fichero que tenga un conjunto particular de permisos de fichero, use el método <code>createFile</code>
                    para hacerlo. Si no especifica ningún atributo, el fichero será creado con los atributos por defecto. Si el
                    fichero ya existe, <code>createFile</code> lanzará una excepción.
                </p>
                <p>
                    En una operación atómica única, el método <code>createFile</code> comprueba por la existencia del fichero y crea
                    ese fichero con los atributos especificados, lo cual hace el proceso más seguro contra código malicioso.
                </p>
                <p>
                    El siguiente trozo de código crea un fichero con atributos por defecto:
                </p>
                <div class="codeblock">
                    <pre>
Path file = ...;
try {
    // Crea el fichero vacío con permisos por defecto, etc.
    Files.createFile(file);
} catch (FileAlreadyExistsException x) {
    System.err.format("el fichero nombrado %s" +
        " ya existe%n", file);
} catch (IOException x) {
    // Alguna otra clase de fallo, tal como permisos.
    System.err.format("error en createFile: %s%n", x);
}
                    </pre>
                </div>
                <p>
                    <a class="TutorialLink" target="_top" href="fileAttr.html#posix">
                        Permisos de Fichero POSIX</a> tiene un ejemplo que usa <code>createFile(Path, FileAttribute&lt;?&gt;)</code>
                    para crear un fichero con permisos pre-fijados.
                </p>
                <p>
                    Puede también crear un fichero nuevo usando los métodos <code>newOutputStream</code>, como se describieron en
                    <a class="TutorialLink" target="_top" href="file.html#createStream">
                        Leyendo, Escribiendo y Creando Ficheros</a>. Si abre un flujo de salida nuevo y lo cierra inmediatamente,
                    un fichero vacío es creado.
                </p>
                <h3>
                    <a id="createTempFile">Crear Ficheros Temporales</a>
                </h3>
                <p>
                    Puede crear un fichero temporal usando uno de los siguientes métodos <code>createTempFile</code>:
                </p>
                <ul>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createTempFile-java.nio.file.Path-java.lang.String-java.lang.String-java.nio.file.attribute.FileAttribute...-">
                            <code>createTempFile(Path, String, String, FileAttribute&lt;?&gt;)</code></a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createTempFile-java.lang.String-java.lang.String-java.nio.file.attribute.FileAttribute...-">
                            <code>createTempFile(String, String, FileAttribute&lt;?&gt;)</code></a>
                    </li>
                </ul>
                <p>
                    El primer método permite al código especificar un directorio para el fichero temporal y el segundo método crea
                    un fichero nuevo en el directorio temporal por defecto. Ambos métodos le permiten especificar un sufijo para el
                    nombre del fichero y el primer método le permite también especificar un prefijo. El trozo de código siguiente
                    da un ejemplo del segundo método:
                </p>
                <div class="codeblock">
                    <pre>
try {
    Path tempFile = Files.createTempFile(null, ".miapli");
    System.out.format("El fichero temporal" +
        " ha sido creado: %s%n", tempFile)
;
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}
                    </pre>
                </div>
                <p>
                    El resultado de ejecutar este fichero sería algo como lo siguiente:
                </p>
                <div class="codeblock">
                    <pre>
El fichero temporal ha sido creado: /tmp/509668702974537184.miapli
                    </pre>
                </div>
                <p>
                    El formato específico del fichero temporal es específico de la plataforma.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="fileAttr.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="rafs.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>
                            .
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Gestionando Metadatos (Fichero y Almacenamiento de Atributos del Fichero)<br />
            <b>Página Siguiente:</b> Acceso Aleatorio a Ficheros
        </div>
    </body>
</html>