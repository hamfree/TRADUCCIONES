<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Flujos de Objetos (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; E/S Básica)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link type="text/css" rel="stylesheet" href="../../indice.css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">E/S Básica</a></div>
                <div class="linkAHEAD"><a href="streams.html">Flujos E/S</a></div>
                <div class="linkBHEAD"><a href="bytestreams.html">Flujos de Bytes</a></div>
                <div class="linkBHEAD"><a href="charstreams.html">Flujos de Caracteres</a></div>
                <div class="linkBHEAD"><a href="buffers.html">Flujos Cacheados</a></div>
                <div class="linkBHEAD"><a href="scanfor.html">Escaneando y Formateando</a></div>
                <div class="linkCHEAD"><a href="scanning.html">Escaneando</a></div>
                <div class="linkCHEAD"><a href="formatting.html">Formateando</a></div>
                <div class="linkBHEAD"><a href="cl.html">E/S desde la Línea de Comandos</a></div>
                <div class="linkBHEAD"><a href="datastreams.html">Flujos de Datos</a></div>
                <div class="nolinkBHEAD">Flujos de Objetos</div>
                <div class="linkAHEAD"><a href="fileio.html">E/S de Ficheros (caracterizando NIO.2)</a></div>
                <div class="linkBHEAD"><a href="path.html">¿Qué es un Path? (Y Otros Hechos del Sistema del Ficheros)</a></div>
                <div class="linkBHEAD"><a href="pathClass.html">La Clase Path</a></div>
                <div class="linkCHEAD"><a href="pathOps.html">Operaciones con Path</a></div>
                <div class="linkBHEAD"><a href="fileOps.html">Operaciones con Ficheros</a></div>
                <div class="linkBHEAD"><a href="check.html">Comprobando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="delete.html">Borrando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="copy.html">Copiando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="move.html">Moviendo un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="fileAttr.html">Gestionando Metadatos (Fichero y Almacenamiento de Atributos del Fichero)</a></div>
                <div class="linkBHEAD"><a href="file.html">Leyendo, Escribiendo y Creando Ficheros</a></div>
                <div class="linkBHEAD"><a href="rafs.html">Acceso Aleatorio a Ficheros</a></div>
                <div class="linkBHEAD"><a href="dirs.html">Creando y Leyendo Directorios</a></div>
                <div class="linkBHEAD"><a href="links.html">Enlaces, Simbólicos o Inversos</a></div>
                <div class="linkBHEAD"><a href="walk.html">Recorriendo el Árbol de Ficheros</a></div>
                <div class="linkBHEAD"><a href="find.html">Encontrando Ficheros</a></div>
                <div class="linkBHEAD"><a href="notification.html">Monitorizando un Directorio en busca de Cambios</a></div>
                <div class="linkBHEAD"><a href="misc.html">Otros Métodos Útiles</a></div>
                <div class="linkBHEAD"><a href="legacy.html">Código de E/S de Ficheros Heredado</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> E/S Básica<br />
                <b>Sección:</b> Flujos E/S
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">E/S Básica</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="datastreams.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="fileio.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Flujos de Objetos</h1>
            </div>
            <div id="PageContent">
                <p>
                    Así como los flujos de datos soportan E / S de tipos de datos primitivos, los flujos de objetos admiten E / S
                    de objetos. La mayoría, pero no todas las clases estándar soportan la serialización de sus objetos. Aquellos que
                    implementan la interfaz de marcadores
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html">
                        <code>Serializable</code></a>.
                </p>
                <p>
                    Las clases de flujos de objetos son 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html">
                        <code>ObjectInputStream</code></a> y
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/ObjectOutputStream.html">
                        <code>ObjectOutputStream</code></a>. Estas clases implementan
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/ObjectInput.html">
                        <code>ObjectInput</code></a> y
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/ObjectOutput.html">
                        <code>ObjectOutput</code></a>, que son subinterfaces de <code>DataInput</code> y
                    <code>DataOutput</code>. Esto significa que todos los métodos de E/S de datos primitivos cubiertos en los
                    <a href="datastreams.html">Flujos de Datos</a> están también implementados en los flujos de objetos. Así que un
                    flujo de objetos puede contener una mezcla de valores primitivos y de objetos. El ejemplo
                    <a class="SourceLink" target="_blank" href="examples/FlujosDeObjetos.java"
                       onclick="showCode('../../displayCode.html', 'examples/FlujosDeObjetos.java'); return false;">
                        <code>FlujosDeObjetos</code></a> ilustra esto. <code>ObjectStreams</code> crea la misma aplicación que
                    <code>DataStreams</code>, con un par de cambios. Primero, los precios son ahora objetos
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html"><code>BigDecimal</code></a>
                    , para representar mejor los valores fraccionales. Segundo, un objeto
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html"><code>Calendar</code></a> es
                    escrito en el fichero de datos, indicando una fecha de factura.
                </p>
                <p>
                    Si <code>readObject()</code> no devuelve el tipo de objeto esperado, intentar moldearlo a su tipo correcto puede
                    lanzar una
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html">
                        <code>ClassNotFoundException</code></a>. En este ejemplo simple, eso no puede ocurrir, así que no 
                    intentaremos capturar la excepción. En su lugar, notificamos al compilador que estamos al tanto del problema
                    añadidiendo una cláusula <code>throws</code> <code>ClassNotFoundException</code> al método 
                    <code>main</code>.
                </p>
                <h2>Salida y Entrada de Objetos Complejos</h2>
                <p>
                    Los métodos <code>writeObject</code> y <code>readObject</code> son simples de usar, pero contienen alguna lógica
                    muy sofisticada de gestión de objetos. Esto no es importante para una clase como Calendar, la cual sólo 
                    encapsula valores primitivos. Pero muchos objetos contienen referencias a otros objetos. Si 
                    <code>readObject</code> va a reconstruir un objeto de un flujo, debe ser capaz de reconstruir todos los objetos
                    a los que el objeto original referenciaba. Estos objetos adicionales podrían tener sus propias referencias,
                    etcétera. En esta situación, <code>writeObject</code> atraviesa toda la red de referencias de objetos y escribe
                    todos los objetos en esa red hacia el flujo. Así que una única invocación de <code>writeObject</code> puede
                    causar que un gran número de objetos sean grabados en el flujo.
                </p>
                <p>
                    Esto se demuestra en la siguiente figura, donde <code>writeObject</code> es invocado para escribir un único
                    objeto nombrado <b>a</b>. Este objeto contiene referencias a los objetos <b>b</b> y <b>c</b>, mientras que
                    <b>b</b> contiene referencias a <b>d</b> y <b>e</b>. Invocar <code>writeobject(a)</code> no escribe sólo
                    <b>a</b>, sino todos los objetos necesarios para reconstruir <b>a</b>, así que los otros cuatro objetos en esta
                    red son escritos también. Cuando <b>a</b> es leída de vuelta por <code>readObject</code>, los otros cuatro
                    objetos son leídos de vuelta también, y todas las referencias del objeto original son preservadas.
                </p>
                <p style="text-align: center">
                    <img src="../../figures/essential/io-trav.gif" width="456" height="195"
                         alt="E/S de múltiples objetos referenciados" />
                </p>
                <p class="FigureCaption">
                    E/S de múltiples objetos referenciados
                </p>
                <p>
                    Podría preguntarse qué ocurre si dos objetos en el mismo flujo contienen referencias a un único objeto. ¿Se
                    referirán ambos al objeto único cuando sean leídos de vuelta? La respuesta es &quot;sí.&quot; Un flujo puede
                    sólo contener una copia de un objeto, aunque puede contener cualquier número de referencias a él. Así si usted
                    explícitamente escribe un objeto a un flujo dos veces, usted realmente está escribiendo sólo la referencia dos
                    veces. Por ejemplo, si el siguiente código escribe un objeto <code>ob</code> dos veces a un flujo:
                </p>
                <div class="codeblock">
                    <pre>
Object ob = new Object();
out.writeObject(ob);
out.writeObject(ob);
                    </pre>
                </div>
                <p>
                    Cada <code>writeObject</code> tiene que coincidir con su <code>readObject</code>, así que el código que lea el
                    flujo de vuelta se parecerá a algo como esto:
                </p>
                <div class="codeblock">
                    <pre>
Object ob1 = in.readObject();
Object ob2 = in.readObject();
                    </pre>
                </div>
                <p>
                    Estos resulta en dos variables, <code>ob1</code> y <code>ob2</code>, que son referencias al único objeto.
                </p>
                <p>
                    Sin embargo, si un objeto único es escrito a dos diferentes flujos, es efectivamente duplicado &mdash; un único
                    programa leyendo de vuelta ambos flujos verá dos objetos distintos.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="datastreams.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="fileio.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>
                            .
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Flujos de Datos<br />
            <b>Página Siguiente:</b> E/S de Ficheros (caracterizando NIO.2)
        </div>
    </body>
</html>