<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Operaciones con Ficheros (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; E/S Básica)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link type="text/css" rel="stylesheet" href="../../indice.css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">E/S Básica</a></div>
                <div class="linkAHEAD"><a href="streams.html">Flujos E/S</a></div>
                <div class="linkBHEAD"><a href="bytestreams.html">Flujos de Bytes</a></div>
                <div class="linkBHEAD"><a href="charstreams.html">Flujos de Caracteres</a></div>
                <div class="linkBHEAD"><a href="buffers.html">Flujos Cacheados</a></div>
                <div class="linkBHEAD"><a href="scanfor.html">Escaneando y Formateando</a></div>
                <div class="linkCHEAD"><a href="scanning.html">Escaneando</a></div>
                <div class="linkCHEAD"><a href="formatting.html">Formateando</a></div>
                <div class="linkBHEAD"><a href="cl.html">E/S desde la Línea de Comandos</a></div>
                <div class="linkBHEAD"><a href="datastreams.html">Flujos de Datos</a></div>
                <div class="linkBHEAD"><a href="objectstreams.html">Flujos de Objetos</a></div>
                <div class="linkAHEAD"><a href="fileio.html">E/S de Ficheros (caracterizando NIO.2)</a></div>
                <div class="linkBHEAD"><a href="path.html">¿Qué es un Path? (Y Otros Hechos del Sistema del Ficheros)</a></div>
                <div class="linkBHEAD"><a href="pathClass.html">La Clase Path</a></div>
                <div class="linkCHEAD"><a href="pathOps.html">Operaciones con Path</a></div>
                <div class="nolinkBHEAD">Operaciones con Ficheros</div>
                <div class="linkBHEAD"><a href="check.html">Comprobando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="delete.html">Borrando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="copy.html">Copiando un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="move.html">Moviendo un Fichero o Directorio</a></div>
                <div class="linkBHEAD"><a href="fileAttr.html">Gestionando Metadatos (Fichero y Almacenamiento de Atributos del Fichero)</a></div>
                <div class="linkBHEAD"><a href="file.html">Leyendo, Escribiendo y Creando Ficheros</a></div>
                <div class="linkBHEAD"><a href="rafs.html">Acceso Aleatorio a Ficheros</a></div>
                <div class="linkBHEAD"><a href="dirs.html">Creando y Leyendo Directorios</a></div>
                <div class="linkBHEAD"><a href="links.html">Enlaces, Simbólicos o Inversos</a></div>
                <div class="linkBHEAD"><a href="walk.html">Recorriendo el Árbol de Ficheros</a></div>
                <div class="linkBHEAD"><a href="find.html">Encontrando Ficheros</a></div>
                <div class="linkBHEAD"><a href="notification.html">Monitorizando un Directorio en busca de Cambios</a></div>
                <div class="linkBHEAD"><a href="misc.html">Otros Métodos Útiles</a></div>
                <div class="linkBHEAD"><a href="legacy.html">Código de E/S de Ficheros Heredado</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> E/S Básica<br />
                <b>Sección:</b> E/S de Ficheros (caracterizando NIO.2)
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">E/S Básica</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="pathOps.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="check.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Operaciones con Ficheros</h1>
            </div>
            <div id="PageContent">
                <p>
                    La clase
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html">
                        <code>Files</code></a> es el otro punto de entrada primario del paquete <code>java.nio.file</code>. Esta
                    clase ofrece un rico conjunto de métodos estáticos para leer, escribir, y manipular ficheros y directorios. 
                    Los método de <code>Files</code> trabajan sobre instancias de objetos <code>Path</code>. Antes de proceder
                    con las secciones restantes, usted debe familiarizarse con los siguientes conceptos comunes:
                </p>
                <ul>
                    <li><a href="#resources">Liberar Recursos del Sistema</a></li>
                    <li><a href="#exception">Capturar Excepciones</a></li>
                    <li><a href="#varargs">Varargs</a></li>
                    <li><a href="#atomic">Operaciones Atómicas</a></li>
                    <li><a href="#chaining">Encadenamiento de Métodos</a></li>
                    <li><a href="#glob">¿Qué <em>Es</em> un Glob?</a></li>
                    <li><a href="#linkaware">Conciencia del Enlace</a></li>
                </ul>
                <h2>
                    <a id="resources">Liberar Recursos del Sistema</a>
                </h2>
                <p>
                    Muchos de los recursos que son usados en esta IPA, tales como flujos o canakes, implementan o extienden el
                    interfaz
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html"><code>java.io.Closeable</code></a>
                    . Un requisito de un recurso <code>Closeable</code> es que el método <code>close</code> debe ser invocado para
                    liberar el recurso cuando ya no sea requerido. El hecho de no cerrar un recurso puede tener un efecto negativo
                    sobre el rendimiento de una aplicación. La sentencia <code>try-</code>with-resources, descrita en la siguiente
                    sección, maneja este paso por usted.
                </p>
                <h2>
                    <a id="exception">Capturar Excepciones</a>
                </h2>
                <p>
                    Con la E/S de ficheros, las condiciones no esperadas son un hecho de la vida: un fichero existe ( o no existe)
                    cuando se esperaba, el programa no tiene acceso al sistema de ficheros, la implementación por defecto del
                    sistema de ficheros no soporta una función particular, etcétera. Se pueden encontrar numerosos errores.
                </p>
                <p>
                    Todos los métodos que acceden el sistema de fichero pueden lanzar una <code>IOException</code>. Es la mejor
                    práctica capturar estas excepciones embebiendo estos métodos en una sentencia <code>try-</code>with-resources,
                    introducida en la publicación de Java SE 7. La sentencia <code>try-</code>with-resources tiene la ventaja de que
                    el compilador automáticamente genera el código para cerrar el/los recurso/os cuando ya no se requieren. El
                    siguiente código muestra como podría ser:
                </p>
                <div class="codeblock">
                    <pre>
Charset charset = Charset.forName("US-ASCII");
String s = ...;
try (BufferedWriter writer = Files.newBufferedWriter(file, charset)) {
    writer.write(s, 0, s.length());
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}
                    </pre>
                </div>
                <p>
                    Para obtener más información, vea
                    <a class="TutorialLink" target="_top" 
                       href="../../essential/exceptions/tryResourceClose.html">La Sentencia try-with-resources</a>.
                </p>
                <p>
                    Alternativamente, puede embeber los métodos de E/S de ficheros en un bloque <code>try</code> y entonces capturar
                    cualquier excepción en el bloque <code>catch</code>. Si su código ha abierto varios flujos o canales, los
                    cerrará en un bloque <code>finally</code>. El ejemplo previo se vería algo como el siguiente usando el enfoque
                    try-catch-finally:
                </p>
                <div class="codeblock">
                    <pre>
Charset charset = Charset.forName("US-ASCII");
String s = ...;
BufferedWriter writer = null;
try {
    writer = Files.newBufferedWriter(file, charset);
    writer.write(s, 0, s.length());
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
} finally {
    if (writer != null) writer.close();
}
                    </pre>
                </div>
                <p>
                    Para obtener más información, vea
                    <a class="TutorialLink" target="_top" 
                       href="../../essential/exceptions/handling.html">Capturando y Manejando Excepciones</a>.
                </p>
                <p>
                    Además de <code>IOException</code>, muchas excepciones específicas extienden
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemException.html">
                        <code>FileSystemException</code></a>. Esta clase tiene algunos métodos útiles que devuelven el
                    fichero implicado
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemException.html#getFile--">
                        (<code>getFile</code>)</a>, una cadena de mensaje detallada
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemException.html#getMessage--">
                        (<code>getMessage</code>)</a>, la razón porqué la operación del sistema de fichero falló
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemException.html#getReason--">
                        (<code>getReason</code>)</a>, y los &quot;otros&quot; ficheros implicados, si los hubo
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemException.html#getOtherFile--">
                        (<code>getOtherFile</code>)</a>.
                </p>
                <p>
                    El siguiente trozo de código muestra cómo el métod <code>getFile</code> podría ser usado:
                </p>
                <div class="codeblock">
                    <pre>
try (...) {
    ...    
} catch (NoSuchFileException x) {
    System.err.format("%s no existe\n", x.getFile());
}
                    </pre>
                </div>
                <p>
                    Para mayor claridad, los ejemplos de E/S de ficheros en esta lección pueden no mostrar el manejo de excepciones,
                    pero su código debería siempre incluirlas.
                </p>
                <h2>
                    <a id="varargs">Varargs</a>
                </h2>
                <p>
                    Varios métodos de <code>Files</code> aceptan un número arbitrario de argumentos cuando las banderas son
                    especificadas. Por ejemplo, en la siguiente signatura de método, la notación de elipsis después del argumento 
                    <code>CopyOption</code> indica que el método acepta un número variable de argumentos, o <em>varargs</em>, como
                    son típicamente llamados:
                </p>
                <div class="codeblock">
                    <pre>
Path Files.move(Path, Path, <b>CopyOption...</b>)
                    </pre>
                </div>
                <p>
                    Cuando un método acepta un argumento varargas, puede pasarlo como una lista separada-por-comas de valores o una
                    matriz (<code>CopyOption[]</code>) de valores.
                </p>
                <p>
                    En el ejemplo <code>move</code>, el método puede ser invocado como sigue:
                </p>
                <div class="codeblock">
                    <pre>
import static java.nio.file.StandardCopyOption.*;

Path source = ...;
Path target = ...;
Files.move(source,
           target,
           REPLACE_EXISTING,
           ATOMIC_MOVE);
                    </pre>
                </div>
                <p>
                    Pra obtener más información sobre la sintaxis de vargars, vea
                    <a class="TutorialLink" target="_top" 
                       href="../../java/javaOO/arguments.html#varargs">Número Arbitrario de Argumentos</a>.
                </p>
                <h2>
                    <a id="atomic">Operaciones Atómicas</a>
                </h2>
                <p>
                    Varios métodos de <code>Files</code>, tales como <code>move</code>, pueden realizar ciertas operaciones de
                    forma atómica en algunos sistemas de ficheros
                </p>
                <p>
                    Una <em>operación atómica de fichero</em> es una operación que no puede ser interrumpida o realizada
                    &quot;parcialmente&quot;.
                    O se realiza la operación entera o la operación falla. Esto es importante cuandi tiene múltiples procesos 
                    operando en la misma área del sistema de ficheros, y necesita garantizar que cada proceso accede a un fichero
                    completo.
                </p>
                <h2>
                    <a id="chaining">Encadenamiento de Métodos</a>
                </h2>
                <p>
                    Muchos de los métodos de E/S de ficheros soportan el concepto de <em>encadenamiento de métodos</em>.
                </p>
                <p>
                    Usted primero invoca un método que devuelve un objeto. Entonces inmediatamente invoca un método sobre 
                    <em>ese</em> objeto, el cual devuelve aún otro objeto, etcétera. Muchos de los ejemplos de E/S usan la siguiente
                    técnica:
                </p>
                <div class="codeblock">
                    <pre>
String value = Charset.defaultCharset().decode(buf).toString();
UserPrincipal group =
    file.getFileSystem().getUserPrincipalLookupService().
         lookupPrincipalByName("me");
                    </pre>
                </div>
                <p>
                    Esta técnica produce código compacto y le habilita a evitar la declaración de variables temporales que no
                    necesita.
                </p>
                <h2>
                    <a id="glob">¿Qué <em>Es</em> un Glob?</a>
                </h2>
                <p>
                    Dos métodos en la clase <code>Files</code> aceptan un argumento glob, pero ¿qué es un <em>glob</em>?
                </p>
                <p>
                    Puede usar la sintaxis glob para especificar un comportamiento basado en patrones-de-coincidencia.
                </p>
                <p>
                    Un patrón glob es especificado como una cadena y se compara contra otras cadenas, tales como un directorio o
                    nombres de fichero. La sintaxis glob sigue varias reglas simples:
                </p>
                <ul>
                    <li>
                        Un asterisco, <code>*</code>, coincide con cualquier número de caracteres (incluyendo ninguno).
                    </li>
                    <li>
                        Dos asteriscos, <code>**</code>, funcionan como <code>*</code> pero cruzan las frontereas entre directorios.
                        Esta sintaxis es generalmente usada para comparar paths completos.
                    </li>
                    <li>
                        Un símbolo de interrogación, <code>?</code>, coincide exactamente con un carácter.
                    </li>
                    <li>
                        Las llaves especifican una colección de subpatrones. Por ejemplo:
                        <ul>
                            <li>
                                <code>{sun,moon,stars}</code> coincide con  &quot;sun&quot;, &quot;moon&quot;, o &quot;stars&quot;.
                            </li>
                            <li>
                                <code>{temp*,tmp*}</code> coincide con todas las cadenas que empiezan con &quot;temp&quot; o
                                &quot;tmp&quot;.
                            </li>
                        </ul>
                    </li>
                    <li>
                        Los corchetes comunican un conjunto de caracteres únicos o, cuando el caracter guión (<code>-</code>) es
                        usado, un rango de caracteres. Por ejemplo:
                        <ul>
                            <li><code>[aeiou]</code> coincide con cualquier vocal minúscula.</li>
                            <li><code>[0-9]</code> coincide con cualquier dígito.</li>
                            <li><code>[A-Z]</code> coincide con cualquier letra mayúscula.</li>
                            <li><code>[a-z,A-Z]</code> coincide con cualquier letra mayúscula o minúscula.</li>
                        </ul>
                        Dentro de los corchetes, <code>*</code>, <code>?</code>, y <code>\</code> coinciden sólo con sí mismos.
                    </li>
                    <li>
                        Todos los otros caracteres coinciden con ellos mismos.
                    </li>
                    <li>
                        Para comparar <code>*</code>, <code>?</code>, u otros carácteres especiales, puede escaparlos usando el
                        carácter de barra invertida, <code>\</code>. Por ejemplo: <code>\\</code> coincide con una única barra
                        invertida, y <code>\?</code> coincide con un signo de interrogación.
                    </li>
                </ul>
                <p>
                    Aquí tiene algunos ejemplos de sintaxis glob:
                </p>
                <ul>
                    <li>
                        <code>*.html</code> &ndash; Coinciden todas las cadenas que terminen en <em>.html</em>
                    </li>
                    <li>
                        <code>???</code> &ndash; Coinciden todas las cadenas que tengan exactamente tres letras o dígitos.
                    </li>
                    <li>
                        <code>*[0-9]*</code> &ndash; Coinciden todas las cadenas que contengan un valor númerico
                    </li>
                    <li>
                        <code>*.{htm,html,pdf}</code> &ndash; Coincide cualquier cadena que termine en <em>.htm</em>, <em>.html</em>
                        o <em>.pdf</em>
                    </li>
                    <li>
                        <code>a?*.java</code> &ndash; Coincide cualquier cadena que empieze con <code>a</code>, seguido por al menos
                        una letra o dǵito, y terminando con <em>.java</em>
                    </li>
                    <li>
                        <code>{foo*,*[0-9]*}</code> &ndash; Coincide cualquier cadena que empize con <em>foo</em> o cualquier cadena
                        conteniendo un valor númérico.
                    </li>
                </ul>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Si está escribiendo el patrón glob en el teclado y contiene uno de los caracteres
                    especiales, debe colocar el patrón entre comillas ((<code>&quot;*&quot;</code>), use la barra invertida
                    (<code>\*</code>), o use cualquier mecanismo de escape soportando por la línea de comandos.
                    <hr />
                </div>
                <p>
                    La sintaxis glob es poderosa y fácil de usar. Sin embargo, si no es suficiente para sus necesidades, puede
                    también usar una expresión regular. Para obtener más información, vea la lección
                    <a class="TutorialLink" target="_top" href="../../essential/regex/index.html">Expresiones Regulares</a>.
                </p>
                <p>
                    Para obtemer más informacíón sobre la sintaxis glob, vea la especificación IPA para el método
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-">
                        <code>getPathMatcher</code></a> en la clase <code>FileSystem</code>.
                </p>
                <h2>
                    <a id="linkaware">Conciencia del Enlace</a>
                </h2>
                <p>
                    La clase <code>Files</code> está &quot;apercibida de los enlaces.&quot; Cada método de <code>Files</code> o
                    detecha que hacer cuando un enlace simbólico es encontrado, u ofrece una opción de habilitarle para que
                    configure el comportamiento cuando se encuentre un enlace simbólico.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="pathOps.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="check.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>
                            .
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Operaciones con Path<br />
            <b>Página Siguiente:</b> Comprobando un Fichero o Directorio
        </div>
    </body>
</html>