<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Propiedades (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; El Entorno de la Plataforma)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">El Entorno de la Plataforma</a></div>
                <div class="linkAHEAD"><a href="config.html">Utilidades de Configuración</a></div>
                <div class="nolinkBHEAD">Propiedades</div>
                <div class="linkBHEAD"><a href="cmdLineArgs.html">Argumentos de la Línea de Comandos</a></div>
                <div class="linkBHEAD"><a href="env.html">Variables de Entorno</a></div>
                <div class="linkBHEAD"><a href="other.html">Otras Utilidades de Configuración</a></div>
                <div class="linkAHEAD"><a href="system.html">Utilidades del Sistema</a></div>
                <div class="linkBHEAD"><a href="cl.html">Objetos E/S de la Consola</a></div>
                <div class="linkBHEAD"><a href="sysprop.html">Propiedades del Sistema</a></div>
                <div class="linkBHEAD"><a href="security.html">El Gestor de Seguridad</a></div>
                <div class="linkBHEAD"><a href="sysmisc.html">Métodos varios en System</a></div>
                <div class="linkAHEAD"><a href="paths.html">PATH y CLASSPATH</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> El Entorno de la Plataforma<br />
                <b>Sección:</b> Utilidades de Configuración
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">El Entorno de la Plataforma</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="config.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="cmdLineArgs.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Propiedades</h1>
            </div>
            <div id="PageContent">
                <p>
                    Las <i>Propiedades</i> son valores de configuración gestionados como <i>pares clave/valor</i>. En cada par, la
                    clave y el valor son ambos valores
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html"><code>String</code></a> . La 
                    clave identifica, y es usada para recuperar, el valor, al igual que el nombre de una variable es usado para
                    recuperar el valor de la variable. Por ejemplo, una aplicación capaz de descargar ficheros podría usar una 
                    propiedad llamada &quot;descarga.ultimoDirectorio&quot; para mantener la pista del directorio usado para la
                    última descarga.
                </p>
                <p>
                    Para gestiionar las propiedades, cree instancias de
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html">
                        <code>java.util.Properties</code></a>. Esta clase ofrece métodos para lo siguiente:
                </p>
                <ul>
                    <li>
                        Cargar pares clave/valor en un objeto <code>Properties</code> desde un flujo,
                    </li>
                    <li>
                        recuperar un valor desde su clave,
                    </li>
                    <li>
                        listar las claves y sus valores,
                    </li>
                    <li>
                        enumerar las claves, y
                    </li>
                    <li>
                        salvar las propiedades en un flujo.
                    </li>
                </ul>
                <p>
                    Para una introducción a los flujos, refíerase a la sección
                    <a class="TutorialLink" target="_top" href="../../essential/io/streams.html">Flujos E/S</a> en la lección
                    <a class="TutorialLink" target="_top" href="../../essential/io/index.html">E/S Básica</a> .
                </p>
                <p>
                    <code>Properties</code> extiende
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html">
                        <code>java.util.Hashtable</code></a>. Algunos de los métodos heredados de <code>Hashtable</code> soportan
                    las siguientes acciones:
                </p>
                <ul>
                    <li>
                        comprobar si una clave particular o valor están en el objeto <code>Properties</code> ,
                    </li>
                    <li>
                        obtener el número actual de pares clave/valor,
                    </li>
                    <li>
                        borrar una clave y su valor,
                    </li>
                    <li>
                        añadir un par clave/valor a la lista de <code>Properties</code> ,
                    </li>
                    <li>
                        enumerar los valores o las claves,
                    </li>
                    <li>
                        recuperar un valor por su clave, y
                    </li>
                    <li>
                        averiguar si el objeto <code>Properties</code> está vacío.
                    </li>
                </ul>
                <div class="note">
                    <hr />
                    <strong>Consideraciones de Seguridad:</strong>&nbsp; El acceso a las propiedades está sujeto a la aprobación del
                    gestor de seguridad actual. Se asume que los segmentos de código de ejemplo en esta sección están en
                    aplicaciones independientes, las cuales, por defecto, no tienen gestor de seguridad. El mismo código en un
                    applet puede no funcionar dependiendo del navegador en el que se está ejecutando. Vea
                    <a class="TutorialLink" target="_top" 
                       href="../../deployment/applet/security.html">
                        Qué Pueden y no Pueden Hacer los Applets</a> en la lección
                    <a class="TutorialLink" target="_top" 
                       href="../../deployment/applet/index.html">Applets de Java</a>  para obtener información sobre las
                    restricciones de seguridad en los applets.
                    <hr />
                </div>
                <p>
                    La clase <code>System</code> mantiene un objeto <code>Properties</code> que define la configuración del entorno
                    de trabajo actual. Para saber más sobre estas propiedades, vea 
                    <a href="sysprop.html">Propiedades del Sistema</a>. Lo restante de esta sección explica cómo usar las
                    propiedades para manejar la configuraciópn de una aplicación.
                </p>
                <h2>Las Propiedades en el Ciclo de Vida de la Aplicación</h2>
                <p>
                    La siguiente figura ilustra cómo una aplicación típica podría manejar sus datos de configuración con el objeto
                    <code>Properties</code>  en el curso de su ejecución.
                </p>
                <p style="text-align: center">
                    <img src="../../figures/essential/environment-1loads.gif" width="319" height="287"
                         alt="Ciclo de vida posible de un objeto Properties" />
                </p>
                <ul>
                    <li>
                        <code>Empezando</code>
                        <br/>
                        Las acciones dadas en las tres primeras cajas ocurren cuando la aplicación está empezando. Primero, la 
                        aplicación carga las propiedades por defecto desde un lugar bien-conocido en un objeto 
                        <code>Properties</code> . Normalmente, las propiedades por defecto son almacenadas en un fichero en disco
                        junto con los <code>.class</code> y otros ficheros de recursos para la aplicación.
                        <br/>
                        A continuación, la aplicación crea otro objeto <code>Properties</code> y carga las propiedades que fueron
                        salvadas desde la última vez que la aplicación fue ejecutada. Muchas aplicaciones almacenan las propiedades
                        en una base por-usuario, de forma que las propiedades cargadas en este paso están usualmente en un fichero
                        específico en un directorio particular mantenido por esta aplicación en el directorio inicial del usuario.
                        Finalmente, la aplicación utiliza las propiedades predeterminadas y recordadas para inicializarse.
                        <br/>
                        La clave aquí es la consistencia. La aplicación debe siempre cargar y salvar las propiedades en el mismo
                        lugar de forma que pueda encontrarlas la siguiente vez que sea ejecutada.
                        <br/>
                    </li>
                    <li>
                        <code>Ejecutando</code>
                        <br/>
                        Durante la ejecución de la aplicación, el usuario puede cambiar algunas configuraciones, quizás en una 
                        ventana de Preferencias, y el objeto <code>Properties</code> es actualizado para reflejar estos cambios. Si
                        los cambios de los usuarios van a ser recordados en sesiones futuras, tienen que ser salvados.
                    </li>
                    <li><code>Saliendo</code>
                        <br/>
                        Al salir, la aplicación salva las propiedades en su lugar bien-conocido, para ser cargadas de nuevo cuando
                        la aplicación se inicie la vez siguiente.
                    </li>
                </ul>
                <h2>Configuración del objeto Properties</h2>
                <p>
                    El siguiente código de Java realiza los primeros dos pasos descritos en la sección previa: cargar las 
                    propiedades por defecto y cargar las propiedades recordadas:
                </p>
                <div class="codeblock">
                    <pre>
. . .
// crea y carga las propiedades por defecto
Properties propiedadesPorDefecto = new Properties();
FileInputStream in = new FileInputStream("propDefecto");
propiedadesPorDefecto.load(in);
in.close();

// crea las propiedades de la aplicación con las por defecto
Properties propiedadesAplicacion = new Properties(propiedadesPorDefecto);

// ahora carga las propiedades
// de la última invocación
in = new FileInputStream("propAplicacion");
propiedadesAplicacion.load(in);
in.close();
. . .
                    </pre>
                </div>
                <p>
                    Primero, la aplicación configura un objeto por defecto <code>Properties</code> . Este objeto contiene el
                    conjunto de propiedades a usar si los valores no están explícitamente fijados en otro lugar. Entonces el método 
                    load lee los valores por defecto desde un fichero en disco llamado <code>propDefecto</code>.
                </p>
                <p>
                    A continuación, la aplicación usa un constructor diferente para crear un segundo objeto <code>Properties</code> 
                    , <code>propiedadesAplicacion</code>, cuyos valores por defecto están contenidos en
                    <code>propiedadesPorDefecto</code>. Los valores por defecto entran en juego cuando un propiedad está siendo
                    recuperada. Si la propiedad no puede ser encontrada en <code>propiedadesAplicacion</code>, entonces la lista
                    por defecto es buscada.
                </p>
                <p>
                    Finalmente, el código carga un conjunto de propiedades en <code>propiedadesAplicacion</code> desde un un fichero
                    nombrado <code>propAplicacion</code>. Las propiedades en este fichero son aquellas que fueron salvadas desde la
                    aplicación la última vez que fue invocada, como se explica en la siguiente sección.
                </p>
                <h2>Salvando Propiedades</h2>
                <p>
                    El siguiente ejemplo escribe las propiedades de la aplicación desde el ejemplo previo usando 
                    <code>Properties.store</code>. Las propiedades por defecto no necesitan ser salvadas cada vez porque nunca 
                    cambian.
                </p>
                <div class="codeblock">
                    <pre>
FileOutputStream salida = new FileOutputStream("propAplicacion");
propiedadesAplicacion.store(salida, "---Sin Comentarios---");
salida.close();
                    </pre>
                </div>
                <p>
                    El método <code>store</code> necesita un flujo al que escribir, como también una cadena que se usa como 
                    comentario al principio de la salida.
                </p>
                <h2>Obteniendo Información de la Propiedad</h2>
                <p>
                    Una vez la aplicación ha configurado su objeto <code>Properties</code>, la aplicación puede preguntar al objeto
                    por información sobre varias claves y valores que contiene. Una aplicación obtiene información de un objeto 
                    <code>Properties</code> después de iniciarse de forma que puede inicializarse a sí misma basada en las 
                    elecciones hechas por el usuario. La clase <code>Properties</code> tiene varios métodos para obtener 
                    información de la propiedad:
                </p>
                <ul>
                    <li>
                        <code>contains(Object value)</code> y  <code>containsKey(Object key)</code>
                        <br/>
                        Devuelven <code>true</code> si el valor de la clave está en el objeto <code>Properties</code>. 
                        <code>Properties</code> hereda estos métodos de <code>Hashtable</code>. Así ellos aceptan argumentos
                        <code>Object</code>, pero sólo valores <code>String</code> serán usados.
                    </li>
                    <li>
                        <code>getProperty(String key)</code> y <code>getProperty(String key, String default)</code>
                        <br/>
                        Devuelven el valor de la propiedad especificada. La segunda versión ofrece un valor por defecto. Si la clave
                        no es encontrada, el valor por defecto es devuelto.
                    </li>
                    <li>
                        <code>list(PrintStream s)</code> y <code>list(PrintWriter w)</code>
                        <br/>
                        Escribe todas las propiedades al flujo especificado o writer. Esto es útil para depuración.
                    </li>
                    <li>
                        <code>elements()</code>, <code>keys()</code>, y <code>propertyNames()</code>
                        <br/>
                        Devuelven una <code>Enumeration</code> conteniendo las claves o valores (como es indicado por el nombre del
                        método) contenidos en el objeto <code>Properties</code>. El método <code>keys</code> solo devuelve las 
                        claves para el objeto en sí mismo; el método <code>propertyNames</code> devuelve las claves para las 
                        propiedades por defecto también.
                    </li>
                    <li>
                        <code>stringPropertyNames()</code>
                        <br/>
                        Como <code>propertyNames</code>, pero devuelve un <code>Set&lt;String&gt;</code>, y sólo devuelve nombres de
                        propiedades donde ambos clave y valor son cadenas. Note que el objeto <code>Set</code> no está respaldado
                        por el objeto <code>Properties</code>, así que los cambios en una no afectan a la otra.
                    </li>
                    <li>
                        <code>size()</code>
                        <br/>
                        Devuelve el número actual de pares clave/valor.
                    </li>
                </ul>
                <h2>Estableciendo Propiedades</h2>
                <p>
                    Una interacción del usuario con una aplicación durante la ejecución puede impactar las configuraciones de la 
                    propiedad. Estos cambios serán reflejados en el objeto <code>Properties</code> de forma que son salvadas cuando
                    la aplicación termina (y llama al método <code>store</code>). Los siguientes métodos cambian las propiedades en
                    un objeto <code>Properties</code>:
                </p>
                <ul>
                    <li>
                        <code>setProperty(String key, String value)</code>
                        <br/>
                        Coloca el par clave/valor en el objeto <code>Properties</code>.
                    </li>
                    <li>
                        <code>remove(Object key)</code>
                        <br/>
                        Borra el par clave/valor asociado con la clave.
                    </li>
                </ul>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Algunos de los métodos descritos arriba están definidos en <code>Hashtable</code>, y
                    así aceptan otros tipos de argumento para clave y valor distintos de <code>String</code>. Siempre use 
                    <code>String</code>s para las claves y valores, incluso si el método permite otros tipos. Además no invoque 
                    <code>Hashtable.set</code> o <code>Hastable.setAll</code> sobre objetos <code>Properties</code>; use siempre 
                    <code>Properties.setProperty</code>.
                    <hr />
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="config.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="cmdLineArgs.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>
                            .
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Utilidades de Configuración<br />
            <b>Página Siguiente:</b> Argumentos de la Línea de Comandos
        </div>
    </body>
</html>