<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Ventajas de las Excepciones (Los Tutoriales de Java&trade; &gt; Clases Esenciales &gt; Excepciones)
        </title>
        <meta name="description" content="Este tutorial de Java describe las excepciones, la entrada/salida básica, concurrencia,
              expresiones regulares, y el entorno de la plataforma" />
        <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java
              threads, java regex, regular expressions, path, classpath, environment variable" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">       
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div> 
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Excepciones</a></div>
                <div class="linkAHEAD"><a href="definition.html">¿Qué es una Excepción?</a></div>
                <div class="linkAHEAD"><a href="catchOrDeclare.html">La Captura o la Especificación del Requisito</a></div>
                <div class="linkAHEAD"><a href="handling.html">Capturando y Manejando Excepciones</a></div>
                <div class="linkBHEAD"><a href="try.html">El Bloque try</a></div>
                <div class="linkBHEAD"><a href="catch.html">Los Bloques catch</a></div>
                <div class="linkBHEAD"><a href="finally.html">El Bloque finally</a></div>
                <div class="linkBHEAD"><a href="tryResourceClose.html">La Sentencia try-with-resources</a></div>
                <div class="linkBHEAD"><a href="putItTogether.html">Poniéndolo Todo Junto</a></div>
                <div class="linkAHEAD"><a href="declaring.html">Especificando las Excepciones Lanzadas por un Método</a></div>
                <div class="linkAHEAD"><a href="throwing.html">Cómo Lanzar Excepciones</a></div>
                <div class="linkBHEAD"><a href="chained.html">Excepciones Encadenadas</a></div>
                <div class="linkBHEAD"><a href="creating.html">Creando Clases Exception</a></div>
                <div class="linkAHEAD"><a href="runtime.html">Excepciones No Comprobadas &mdash; La Controversia</a></div>
                <div class="nolinkAHEAD">Ventajas de las Excepciones</div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Clases Esenciales<br />
                <b>Lección:</b> Excepciones
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Clases Esenciales</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Excepciones</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="runtime.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="summary.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Ventajas de las Excepciones</h1>
            </div>
            <div id="PageContent">
                <p>
                    Ahora que conoce qué son las excepciones y cómo usarlas, es tiempo de aprender las ventajas de usar excepciones
                    en sus programas.
                </p>
                <h2>Ventaja 1: Separar el Código de Manejo-de-Errores del Código Regular</h2>
                <p>
                    Las excepciones ofrecen los medios para separar los detalles de que hacer cuando algo se sale de lo que ocurre
                    ordinariamente en la lógica principal de un programa. En la programación tradicional, la detección de errores,
                    informarlos, y manejarlos a menudo conducen a código spaghetti confuso. Por ejemplo, considere el pseudocódigo
                    del método que lee un fichero entero en memoria.
                </p>
                <div class="codeblock">
                    <pre>
leeFichero {
    <b><em>abre el fichero;
    determina su tamaño;
    asigna esa cantidad de memoria;
    leer el archivo en la memoria;
    cierra el fichero;</em></b>
}
                    </pre>
                </div>
                <p>
                    A primera vista, esta función parece lo bastante simple, pero ignora todos los siguientes errores potenciales.
                </p>
                <ul>
                    <li>
                        ¿Qué ocurre si el fichero no puede ser abierto?
                    </li>
                    <li>
                        ¿Qué ocurre si la longitud del fichero no puede ser determinada?
                    </li>
                    <li>
                        ¿Qué ocurre si no se puede asignar la suficiente cantidad de memoria?
                    </li>
                    <li>
                        ¿Qué ocurre si la lectura falla?
                    </li>
                    <li>
                        ¿Qué ocurre si el fichero no puede ser cerrado?
                    </li>
                </ul>
                <p>
                    Para manejar tales casos, la función <code>leeFichero</code> debe tener más código para hacer la detección del
                    error, informarlo, y manejarlo. Aquí tiene un ejemplo de como podría parecer la función.
                </p>
                <div class="codeblock">
                    <pre>
codigoErrorTipo <b>leeFichero {</b>
    inicializa codigoError = 0;
    
    <b><em>abre el fichero;</em></b>
    if (<em>elFicheroEstaAbierto</em>) {
        <b><em>determinar la longitud del fichero;</em></b>
        if (<em>seObtuvoLaLongitudDelFichero</em>) {
            <b><em>asigna esa cantidad de memoria;</em></b>
            if (<em>seTieneSuficienteMemoria</em>) {
                <b><em>leer el archivo en la memoria;</em></b>
                if (<em>lecturaFallo</em>) {
                    codigoError = -1;
                }
            } else {
                codigoError = -2;
            }
        } else {
            codigoError = -3;
        }
        <b><em>cierra el fichero;</em></b>
        if (<em>elFicheroNoCerro</em> &amp;&amp; <em>codigoError</em> == 0) {
            codigoError = -4;
        } else {
            codigoError = codigoError and -4;
        }
    } else {
        codigoError = -5;
    }
    devuelve codigoError;
}
                    </pre>
                </div>
                <p>
                    Hay tanta detección de errores, informes, y devolución aquí que las siete líneas originales de código están
                    perdidas en el desorden. Aún peor, el flujo lógico del código ha sido también perdido, haciendo así difícil el
                    decir si el código está haciendo lo correcto: ¿está el fichero realmente siendo cerrado si la función falla e
                    asignar bastante memoria? Es incluso más difícil asegurar que el código continúa haciendo lo correcto cuando
                    modifica el método tres meses después de escribirlo. Muchos programadores resuelven este problema ignorándolo 
                    simplemente &mdash; los errores son informados cuando el programa se bloquea.
                </p>
                <p>
                    Las excepciones le habilitan a escribir el flujo principal de su código y tratar con los casos excepcionales en
                    otra parte. Si la función <code>leeFichero</code> usó excepciones en vez de las técnicas tradicionales de
                    gestión-de-errores, parecerá como lo siguiente.
                </p>
                <div class="codeblock">
                    <pre>
<b><em>leeFichero</em></b> {
    try {
        <b><em>abre el fichero;
        determina su tamaño;
        asigna esa cantidad de memoria;
        leer el archivo en la memoria;
        cierra el fichero;</em></b>
    } catch (<em>ficheroAbiertoFallo</em>) {
       <b><em>hazAlgo;</em></b>
    } catch (<em>determinacionTamañoFallo</em>) {
        <b><em>hazAlgo;</em></b>
    } catch (<em>asignacionMemoriaFallo</em>) {
        <b><em>hazAlgo;</em></b>
    } catch (<em>lecturaFallo</em>) {
        <b><em>hazAlgo;</em></b>
    } catch (<em>cierreFicheroFallo</em>) {
        <b><em>hazAlgo;</em></b>
    }
}
                    </pre>
                </div>
                <p>
                    Note que las excepciones no le ahorran el esfuerzo de hacer el trabajo de detectar, informar, y manejar
                    errores, pero le ayudan a organizar el trabajo más efectivamente.
                </p>
                <h2>Ventaja 2: Propagar Errores hacia Arriba en la Pila de Llamadas</h2>
                <p>
                    Una segunda ventaja de la excepciones es la habilidad de propagar el informe del error hacia arriba en la pila
                    de llamadas de métodos. Suponga que el método <code>leeFichero</code> es el cuarto método en una serie de
                    llamadas anidadas a métodos hecha por el programa principal:  <code>metodo1</code> llama <code>metodo2</code>,
                    que llama a <code>metodo3</code>, que finalmente llama a <code>leeFichero</code>.
                </p>
                <div class="codeblock">
                    <pre>
metodo1 {
    <b><em>llama metodo2;</em></b>
}

metodo2 {
    <b><em>llama metodo3;</em></b>
}

metodo3 {
    <b><em>llama leeFichero;</em></b>
}
                    </pre>
                </div>
                <p>
                    Suponga también que <code>metodo1</code> es el único método interesado en los errores que podrían ocurrir dentro
                    de <code>leeFichero</code>. Las técnicas tradicionales de notificación-de-errores fuerzan a <code>metodo2</code>
                    y <code>metodo3</code> a propargar los códigos de errores devueltos por<code>leeFichero</code> hacia arriba en
                    la pila de llamadas hasta que los códigos de error finalmente alcanzan <code>metodo1</code> &mdash; el único
                    método que está interesados en ellos.
                </p>
                <div class="codeblock">
                    <pre>
<b>metodo1</b> {
    codigoErrorTipo error;
    error = <b><em>llama metodo2;</em></b>
    if (error)
        <b><em>hazProcesadoError;</em></b>
    else
        <b><em>procede;</em></b>
<b>}</b>

codigoErrorTipo <b>metodo2 {</b>
    codigoErrorTipo error;
    error = llama <b>metodo3;</b>
    if (error)
        return error;
    else
        <b><em>procede;</em></b>
<b>}</b>

codigoErrorTipo <b>metodo3 {</b>
    codigoErrorTipo error;
    error = <b>llama leeFichero;</b>
    if (error)
        return error;
    else
        <b><em>procede;</em></b>
<b>}</b>
                    </pre>
                </div>
                <p>
                    Recuerde que el entorno de ejecución de Java busca hacia atrás a través de la pila de llamadas para encontrar
                    cualquier método que esté interesado en manejar una excepción en particular. Un método puede esquivar cualquier
                    excepción lanzada en él, permitiendo, de este modo, a un método más lejos arriba en la pila de llamadas 
                    capturarla. Por lo tanto, sólo los metodos que se preocupan por los errores tienen que preocuparse por la
                    detección de errores.
                </p>
                <div class="codeblock">
                    <pre>
<b>metodo1</b> {
    try {
        <b><em>llama metodo2;</em></b>
    } catch (<em>exception</em> e) {
        <b><em>hazProcesadoError;</em></b>
    }
}

<b>metodo2</b> throws <em>exception</em> {
    <b><em>llama metodo3;</em></b>
}

<b>metodo3</b> throws exception <b>{
    <em>llama leeFichero;</em>
}</b>
                    </pre>
                </div>
                <p>
                    Sin embargo, como el pseudocódigo muestra, esquivar una excepción requiere algún esfuerzo de parte de los
                    métodos intermediarios.Cualesquiera excepciones comprobadas que puedan ser lanzadas dentro de un método deben
                    ser especificadas en su cláusula <code>throws</code>
                    clause.
                </p>
                <h2>Ventaja 3: Agrupar y Diferenciar Tipos de Error</h2>
                <p>
                    Ya que todas las excepciones lanzadas en un programa son objetos, el agrupamiento o categorización de las
                    excepciones es un resultado natural de la jerarquía de clases. Un ejemplo de un grupo de clases de excepción
                    relacionadas en la plataforma Java son aquellas definidas en <code>java.io</code> &mdash;
                    <code>IOException</code> y sus descendientes. <code>IOException</code> es la más general y representa cualquier
                    tipo de error que pueda ocurrir cuando se realiza E/S. Sus descendientes representan errores más específicos.
                    Por ejemplo, <code>FileNotFoundException</code> significa que un fichero no pudo ser localizado en el disco.
                </p>
                <p>
                    Un método puede escribir majenadores específicos que puedan manejar una excepción muy específica. La clase
                    <code>FileNotFoundException</code> no tiene descendientes, así que el siguiente manejador puede manejar sólo un
                    tipo de excepción.
                </p>
                <div class="codeblock">
                    <pre>
catch (FileNotFoundException e) {
    ...
}
                    </pre>
                </div>
                <p>
                    Un método puede capturar una excepción basado en su grupo o tipo general especificando cualquiera de las
                    superclases excepción en la sentencia <code>catch</code>. Por ejemplo, para capturar todas las excepciones E/S,
                    independientemente de su tipo específicos, un manejador de excepciones especifica un argumento
                    <code>IOException</code>.
                </p>
                <div class="codeblock">
                    <pre>
catch (IOException e) {
    ...
}
                    </pre>
                </div>
                <p>
                    Este manejador será capaz de capturar todas las excepciones E/S, incluyendo <code>FileNotFoundException</code>,
                    <code>EOFException</code>, y así. Puede encontrar detalles sobre lo que ha ocurrido preguntando al argumento
                    pasado al manejador de excepciones. Por ejemplo, use lo siguiente para imprimir la pila de llamadas.
                </p>
                <div class="codeblock">
                    <pre>
catch (IOException e) {
    // La salida va a System.err.
    e.printStackTrace();
    // Envia la traza a stdout.
    e.printStackTrace(System.out);
}
                    </pre>
                </div>
                <p>
                    Podría incluso configurar un manejador de excepción que maneje cualquier <code>Exception</code> con el manejador
                    de aquí.
                </p>
                <div class="codeblock">
                    <pre>
// <em>Un (demasiado) manejador de excepciones general</em>
catch (Exception e) {
    ...
}
                    </pre>
                </div>
                <p>
                    La clase <code>Exception</code> es la más cercana a lo alto de la jerarquía de clases de <code>Throwable</code>
                    . Por lo tanto este manejador capturará muchas otras excepciones además de aquellas que el manejador pretendía
                    capturar. Puede querer manejar excepciones de esta manera si todo lo que quiere es que su programa haga, por
                    ejemplo, imprimir en la salida un mensaje de error para el usuario y entonces terminar.
                </p>
                <p>
                    En la mayoría de las situaciones, sin embargo, quiere que los manejadores de excepciones sean tan específicos
                    como sea posible. La razón es que la primera cosa que un manejador debe hacer es determinar qué tipo de
                    excepción ocurrió antes de que puede decidir sobre la mehjor estrategia de recuperación. En efecto, al no
                    capturar errores específicos, el manejador debe acomodarse a cualquier posibilidad. Los manejadores de
                    excepciones que son demasiado generales pueden hacer el código más propenso-a-errores al capturar y manejar
                    excepciones que no fueron anticipadas por el programador y para el cual el manejador no fue diseñado.
                </p>
                <p>
                    Como se anotó, puede crear grupos de excepciones y manejar las excepciones de una forma general, o puede usar el
                    tipo de excepción específica para diferenciar excepciones y manejar las excepciones de una manera exacta.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="runtime.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="summary.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>
                            .
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>
                            .
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Excepciones No Comprobadas &mdash; La Controversia
            <br />
            <b>Página Siguiente:</b> Sumario
        </div>
    </body>
</html>