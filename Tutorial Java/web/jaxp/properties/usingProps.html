<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Usando las Propiedades (Los Tutoriales de Java&trade; &gt; IPA de Java para Procesado de XML (JAXP) &gt; JAXP 1.5 y 
            Nuevas Propiedades)
        </title>
        <meta name="description" content="Este tutorial de Java JAXP describe la IPA de Java para el procesado de XML (jaxp), XSLT, 
              SAX, y tópicos de XML relacionados" />
        <meta name="keywords" content="java programming, learn java, java sample code, jaxp, xml, xslt, sax" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">JAXP 1.5 y Nuevas Propiedades</a></div>
                <div class="linkAHEAD"><a href="backgnd.html">Fondo</a></div>
                <div class="linkAHEAD"><a href="resources.html">Recursos Externos</a></div>
                <div class="linkAHEAD"><a href="properties.html">Nuevas Propiedades</a></div>
                <div class="linkAHEAD"><a href="scope.html">Alcance y Orden</a></div>
                <div class="linkAHEAD"><a href="security.html">Relación con el SecurityManager</a></div>
                <div class="linkAHEAD"><a href="propSettings.html">Configuración de las Propiedades del Sistema</a></div>
                <div class="nolinkAHEAD">Usando las Propiedades</div>
                <div class="linkAHEAD"><a href="error.html">Manejo de Errores</a></div>
                <div class="linkAHEAD"><a href="stax.html">StAX</a></div>
                <div class="linkAHEAD"><a href="conclusion.html">Conclusion</a></div>
                <div class="linkAHEAD"><a href="references.html">Referencias</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> IPA de Java para Procesado de XML (JAXP)<br />
                <b>Lección:</b> JAXP 1.5 y Nuevas Propiedades
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">IPA de Java para Procesado de XML (JAXP)</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">JAXP 1.5 y Nuevas Propiedades</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="propSettings.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="error.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Usando las Propiedades</h1>
            </div>
            <div id="PageContent">
                <p>
                    Esta sección se enfoca en las nuevas propiedades introducidas en JAXP 1.5.
                </p>
                <h2>
                    Cuándo Usar las Propiedades
                </h2>
                <p>
                    Las restricciones para recuperar recursos externos sólo son necesitadas si las aplicaciones procesa contenidos 
                    XML no confiables. Los sistemas internos y aplicaciones que no manejan contenidos no confiables no necesitan 
                    estar preocupados con las nuevas restricciones o hacer cualquier cambio. Dado que 7u40 y el KDJ 8 no tienen 
                    requisitos sobre tales restricciones de forma predeterminada, las aplicaciones no experimentarán ningún cambio 
                    de comportamiento al actualizar a 7u40 y KDJ 8.
                </p>
                <p>
                    Para las aplicaciones que manejan entradas XML, esquemas o hojas de estilo que no son de confianza, si ya 
                    existen medidas de seguridad, como permitir que el Gestor de Seguridad de Java otorgue solo conexiones externas 
                    confiables o resolver entidades mediante resolutores, no hay necesidad de las nuevas funciones agregadas en 
                    JAXP 1.5.
                </p>
                <p>
                    Sin embargo, JAXP 1.5 proporciona protecciones sencillas para el sistema y las aplicaciones que se ejecutan sin 
                    el gestor de seguridad. Para tales aplicaciones, las restricciones pueden ser consideradas usando la nueva 
                    característica que se describe en detalle debajo.
                </p>
                <h2>
                    Establecer Propiedades a Través de la IPA
                </h2>
                <p>
                    Cuando es factible cambiar el código, establecer las nuevas propiedades a través de las factorías JAXP o el 
                    analizador es la mejor forma de habilitar las restricciones. Las propiedades pueden ser establecidas a través 
                    de las siguientes interfaces:
                </p>
                <div class="codeblock">
                    <pre>
DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
dbf.setAttribute(name, value);
 
SAXParserFactory spf = SAXParserFactory.newInstance();
SAXParser parser = spf.newSAXParser();
parser.setProperty(name, value);
 
XMLInputFactory xif = XMLInputFactory.newInstance();
xif.setProperty(name, value);
 
SchemaFactory schemaFactory = SchemaFactory.newInstance(schemaLanguage);
schemaFactory.setProperty(name, value);
 
TransformerFactory factory = TransformerFactory.newInstance();
factory.setAttribute(name, value);
                    </pre>
                </div>
                <p>
                    Lo siguiente es un ejemplo de liminar un analizador DOM a una conexión local sólo para DTDs externas:
                </p>
                <div class="codeblock">
                    <pre>
DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
try {
    dbf.setAttribute({{XMLConstants.ACCESS_EXTERNAL_DTD}}, "file, jar:file");
} catch (IllegalArgumentException e) {
    //jaxp 1.5 feature not supported
}
                    </pre>
                </div>
                <p>
                    Cuando es factible cambiar el código, y para desarrollo nuevo, se recomienda que las nuevas propiedades se 
                    establezcan como se demostró arriba. Estableciendo las propiedades de esta forma, las aplicaciones pueden estar 
                    seguras de mantener el comportamiento deseado ya sea que se desplieguen en versiones más antiguas o nuevas del 
                    KDJ, o si las propiedades son establecidas a través de las Propiedades del Sistema o 
                    <code>jaxp.properties</code>.
                </p>
                <h2>
                    Usar Propiedades del Sistema
                </h2>
                <p>
                    Las propiedades del sistema pueden ser útiles si cambiar el código no es factible.
                </p>
                <p>
                    Si esto es deseable para establecer las restricciones para un invocación enter del KDJ/EEJ, establezca las 
                    propiedades del sistema en la línea de comandos; si se necesita sólo para una porción de la aplicación, las 
                    propiedades del sistema pueden ser establecidas antes de la sección y borrarse después. Por ejemplo, el código 
                    siguiente muestra cómo las propiedades del sistema pueden ser usadas:
                </p>
                <div class="codeblock">
                    <pre>
//allow resolution of external schemas

System.setProperty("javax.xml.accessExternalSchema", "file, http");

//this setting will affect all processing after it's set
some processing here

//after it's done, clear the property
System.clearProperty("javax.xml.accessExternalSchema");
                    </pre>
                </div>
                <h2>
                    Usar jaxp.properties
                </h2>
                <p>
                    <code>jaxp.properties</code> es un fichero de configuración plano. Este se ubica en 
                    <code>${java.home}/lib/jaxp.properties</code> donde <code>java.home</code> es el directorio de instalación del 
                    EEJ, p.e., <code>[ruta al directorio de instalación]/jdk7/jre</code>.
                </p>
                <p>
                    Una restricción del acceso externo puede establecerse agregando esta línea en el fichero jaxp.properties:
                </p>
                <div class="codeblock">
                    <pre>
javax.xml.accessExternalStylesheet=file, http
                    </pre>
                </div>
                <p>
                    Cuando esto se establece, todas las invocaciones del KDJ/EEJ observarán la restricción con respecto a la carga 
                    de la hoja de estilos externa.
                </p>
                <p>
                    Esta característica puede ser útil para sistemas que no quieren permitir ninguna conexión externa por los 
                    procesadores XML, en cuyo caso, las tres propiedades pueden ser establecidas a, por ejemplo, sólo ficheros.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="propSettings.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="error.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Configuración de las Propiedades del Sistema<br />
            <b>Página siguiente:</b> Manejo de Errores
        </div>
    </body>
</html> 
