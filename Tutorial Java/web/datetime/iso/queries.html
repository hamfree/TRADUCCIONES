<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        <title>
            Temporal Query (Los Tutoriales de Java&trade; &gt; Fecha y Hora &gt; Calendario Estándar)
        </title>
        <meta name="description" content="Este tutorial de Java de fecha y tiempo describe cómo usar las IPAs java.time
              introducidas en el KDJ 8 para escribir código de fechas y tiempo. El núcleo del paquete usa el calendario estándar
              como está definido en el sistema de calendario ISO." />
        <meta name="keywords" content="java programming, learn java, java sample code, datetime, date time, JSR 310, date-time,
              date, time, java.time, jdk8, ISO" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Calendario Estándar</a></div>
                <div class="linkAHEAD"><a href="overview.html">Información General</a></div>
                <div class="linkAHEAD"><a href="enum.html">DayOfWeek y Enumeraciones de Month</a></div>
                <div class="linkAHEAD"><a href="date.html">Clase Date</a></div>
                <div class="linkAHEAD"><a href="datetime.html">Clases Date y Time</a></div>
                <div class="linkAHEAD"><a href="timezones.html">Zonas horarias y Clases de Compensación</a></div>
                <div class="linkAHEAD"><a href="instant.html">Clase Instant</a></div>
                <div class="linkAHEAD"><a href="format.html">Parseado y Formateado</a></div>
                <div class="linkAHEAD"><a href="temporal.html">El Paquete Temporal</a></div>
                <div class="linkBHEAD"><a href="adjusters.html">Temporal Adjuster</a></div>
                <div class="nolinkBHEAD">Temporal Query</div>
                <div class="linkAHEAD"><a href="period.html">Period y Duration</a></div>
                <div class="linkAHEAD"><a href="clock.html">Clock</a></div>
                <div class="linkAHEAD"><a href="nonIso.html">Conversión de Fechas No-ISO</a></div>
                <div class="linkAHEAD"><a href="legacy.html">Código Date-Time Heredado</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Fecha y Hora<br />
                <b>Lección:</b> Calendario Estándar<br />
                <b>Sección:</b> El Paquete Temporal
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Fecha y Hora</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Calendario Estándar</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="adjusters.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="period.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Temporal Query</h1>
            </div>
            <div id="PageContent">
                <p>
                    Un
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalQuery.html">
                        <code>TemporalQuery</code></a> puede ser usado para recuperar información desde un objeto basado en el
                    tiempo.
                </p>

                <h2>
                    Consultas Predefinidas
                </h2>
                <p>
                    La clase
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalQueries.html">
                        <code>TemporalQueries</code></a> (note el plural) suministra varias consultas predefinidas, incluyendo
                    métodos que son útiles cuando la aplicación no puede identificar el tipo del objeto basado en el tiempo.
                    Como con los ajustadores, las consultas predefinidas están definidas como métodos estáticos y están
                    diseñadas para ser usadas con la sentencia 
                    <a class="TutorialLink" target="_top" 
                       href="../../java/package/usepkgs.html#staticimport">static import</a>.
                </p>
                <p>
                    La consulta
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalQueries.html#precision--">
                        <code>precision</code></a>, por ejemplo, devuelve el <code>ChronoUnit</code> más pequeño que puede ser
                    devuelto por un objeto particular basado en el tiempo. El ejemplo siguiente usa la consulta
                    <code>precision</code> sobre varios tipos de objetos basados en el tiempo:
                </p>
                <div class="codeblock">
                    <pre>
TemporalQueries query = TemporalQueries.precision();
System.out.printf("La precisión de LocalDate es %s%n",
                  LocalDate.now().query(query));
System.out.printf("La precisión de LocalDateTime es %s%n",
                  LocalDateTime.now().query(query));
System.out.printf("La precisión de Year es %s%n",
                  Year.now().query(query));
System.out.printf("La precisión de YearMonth es %s%n",
                  YearMonth.now().query(query));
System.out.printf("La precisión de Instant es %s%n",
                  Instant.now().query(query));
                    </pre>
                </div>
                <p>
                    La salida se parece a la siguiente:
                </p>
                <div class="codeblock">
                    <pre>
La precisión de LocalDate es Days
La precisión de LocalDateTime es Nanos
La precisión de Year es Years
La precisión de YearMonth es Months
La precisión de Instant es Nanos
                    </pre>
                </div>
                <h2>
                    Consultas Personalizadas
                </h2>
                <p>
                    Usted puede también crear sus propias consultas personalizadas. Una forma de hacer esto es crear una clase que
                    implemente la interfaz
                    <code>TemporalQuery</code> con el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalQuery.html#queryFrom-java.time.temporal.TemporalAccessor-">
                        <code>queryFrom(TemporalAccessor)</code></a>. El ejemplo
                    <a class="SourceLink" target="_blank" 
                       href="examples/CheckDate.java"
                       onclick="showCode('../../displayCode.html', 'examples/CheckDate.java'); return false;">
                        <code>CheckDate</code></a> implementa dos consultas personalizadas. La primera consulta personalizada puede
                    ser encontrada en la clase
                    <a class="SourceLink" target="_blank"
                       href="examples/FamilyVacations.java"
                       onclick="showCode('../../displayCode.html', 'examples/FamilyVacations.java'); return false;">
                        <code>FamilyVacations</code></a>, la cual implementa el interfaz
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalQuery.html">
                        <code>TemporalQuery</code></a>. El método <code>queryFrom</code> compara la fecha pasada contra las
                    fechas de vacaciones planificadas y devuelve <code>TRUE</code> si coincide dentro de esos rangos de fecha.
                </p>
                <div class="codeblock">
                    <pre>
// Devuelve verdadero si la fecha pasada ocurre durante una de las
// vacaciones familiares. Ya que la consulta compara el mes y día solo,
// la prueba tiene éxito incluso si los tipos Temporal no son los mismos.
public Boolean queryFrom(TemporalAccessor date) {
    int month = date.get(ChronoField.MONTH_OF_YEAR);
    int day   = date.get(ChronoField.DAY_OF_MONTH);

    // Disneyland durante las vacaciones de primavera
    if ((month == Month.APRIL.getValue()) &amp;&amp; ((day &gt;= 3) &amp;&amp; (day &lt;= 8)))
        return Boolean.TRUE;

    // Reunión de la familia Smith en el lago Saugatuck
    if ((month == Month.AUGUST.getValue()) &amp;&amp; ((day &gt;= 8) &amp;&amp; (day &lt;= 14)))
        return Boolean.TRUE;

    return Boolean.FALSE;
}
                    </pre>
                </div>
                <p>
                    La segunda consulta personalizada está implementada en la clase
                    <a class="SourceLink" target="_blank"
                       href="examples/FamilyBirthdays.java"
                       onclick="showCode('../../displayCode.html', 'examples/FamilyBirthdays.java'); return false;">
                        <code>FamilyBirthdays</code></a>. Esta clase suministra un método <code>isFamilyBirthday</code> que
                    compara la fecha pasada contra varios cumpleaños y devuelve <code>TRUE</code> si hay una coincidencia.
                </p>
                <div class="codeblock">
                    <pre>
// Devuelve verdadero si la fecha pasada es la misma que una de los
// cumpleaños de la familia. Ya que consulta compara el mes y día sólo,
// la prueba tiene éxito incluso si los tipos Temporal no son los mismos.
public static Boolean isFamilyBirthday(TemporalAccessor date) {
    int month = date.get(ChronoField.MONTH_OF_YEAR);
    int day   = date.get(ChronoField.DAY_OF_MONTH);

    // El cumpleaños de es el 3 de abril.
    if ((month == Month.APRIL.getValue()) &amp;&amp; (day == 3))
        return Boolean.TRUE;

    // El cumpleaños de Sue es el 18 de junio.
    if ((month == Month.JUNE.getValue()) &amp;&amp; (day == 18))
        return Boolean.TRUE;

    // El cumpleaños de Joe es el 29 de mayo.
    if ((month == Month.MAY.getValue()) &amp;&amp; (day == 29))
        return Boolean.TRUE;

    return Boolean.FALSE;
}
                    </pre>
                </div>
                <p>
                    La clase <code>FamilyBirthday</code> no implementa el interfaz <code>TemporalQuery</code> y puede ser usada
                    como parte de una
                    <a class="TutorialLink" target="_top" href="../../java/javaOO/lambdaexpressions.html">expresión lambda</a>. El
                    código siguiente, del ejemplo <code>CheckDate</code>, muestra cómo invocar ambas consultas.
                </p>
                <div class="codeblock">
                    <pre>
// Invocar la consulta sin usar una expresión lambda.
Boolean isFamilyVacation = date.query(new FamilyVacations());

// Invocar la consulta usar una expresión lambda.
Boolean isFamilyBirthday = date.query(FamilyBirthdays::isFamilyBirthday);

if (isFamilyVacation.booleanValue() || isFamilyBirthday.booleanValue())
    System.out.printf("¡%s es una fecha importante!%n", date);
else
    System.out.printf("%s no es una fecha importante.%n", date);
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="adjusters.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="period.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Temporal Adjuster<br />
            <b>Página siguiente:</b> Period and Duration
        </div>
    </body>
</html> 
