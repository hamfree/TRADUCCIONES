<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        <title>
            Period y Duration (Los Tutoriales de Java&trade; &gt; Fecha y Hora &gt; Calendario Estándar)
        </title>
        <meta name="description" content="Este tutorial de Java de fecha y tiempo describe cómo usar las IPAs java.time
              introducidas en el KDJ 8 para escribir código de fechas y tiempo. El núcleo del paquete usa el calendario estándar
              como está definido en el sistema de calendario ISO." />
        <meta name="keywords" content="java programming, learn java, java sample code, datetime, date time, JSR 310, date-time,
              date, time, java.time, jdk8, ISO" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Calendario Estándar</a></div>
                <div class="linkAHEAD"><a href="overview.html">Información General</a></div>
                <div class="linkAHEAD"><a href="enum.html">DayOfWeek y Enumeraciones de Month</a></div>
                <div class="linkAHEAD"><a href="date.html">Clase Date</a></div>
                <div class="linkAHEAD"><a href="datetime.html">Clases Date y Time</a></div>
                <div class="linkAHEAD"><a href="timezones.html">Zonas horarias y Clases de Compensación</a></div>
                <div class="linkAHEAD"><a href="instant.html">Clase Instant</a></div>
                <div class="linkAHEAD"><a href="format.html">Parseado y Formateado</a></div>
                <div class="linkAHEAD"><a href="temporal.html">El Paquete Temporal</a></div>
                <div class="linkBHEAD"><a href="adjusters.html">Temporal Adjuster</a></div>
                <div class="linkBHEAD"><a href="queries.html">Temporal Query</a></div>
                <div class="nolinkAHEAD">Period y Duration</div>
                <div class="linkAHEAD"><a href="clock.html">Clock</a></div>
                <div class="linkAHEAD"><a href="nonIso.html">Conversión de Fechas No-ISO</a></div>
                <div class="linkAHEAD"><a href="legacy.html">Código Date-Time Heredado</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Fecha y Hora<br />
                <b>Lección:</b> Calendario Estándar
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Fecha y Hora</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Calendario Estándar</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="queries.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="clock.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Period y Duration</h1>
            </div>
            <div id="PageContent">
                <p>
                    Cuando escribe código para especificar una cantidad de tiempo, usa la clase o método que mejor coincide con sus
                    necesidades: la clase
                    <a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">
                        <code>Duration</code></a>, la clase
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/Period.html"><code>Period</code></a>, o el método
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-">
                        <code>ChronoUnit.between</code></a>. Una <code>Duration</code> mide una cantidad de tiempo usando valores
                    basados en el tiempo (segundos, nanosegundos). Un <code>Period</code> usa valores basados en fechas (años,
                    meses, dias).
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Una <code>Duration</code> de un día es <em>exactamente</em> 24 horas. Un
                    <code>Period</code> de un día, cuando es agregado a una <code>ZonedDateTime</code>, puede variar de acuerdo a
                    la zona horaria. Por ejemplo, si esto ocurre en el primer día o último día del horario de verano.
                    <hr />
                </div>
                <h2>
                    Duration
                </h2>
                <p>
                    Una <code>Duration</code> es más adecuada en situaciones que miden el tiempo basado en la máquina, tales como
                    el código que usa un objeto <code>Instant</code>. Un objeto <code>Duration</code> es medido en segundo o
                    nanosegundos y no usa construcciones basadas-en-fechas tales como años, meses, y días, aunque la clase
                    suministra métodos que convierten a días, horas, y minutos. Una <code>Duration</code> puede tener un valor
                    negativo, si este es creado con un punto final que ocurre antes del punto inicial.
                </p>
                <p>
                    El código siguiente calcula, en nanosegundos, la duración entre dos instantes:
                </p>
                <div class="codeblock">
                    <pre>
Instant t1, t2;
...
long ns = Duration.between(t1, t2).toNanos();
                    </pre>
                </div>
                <p>
                    El código siguiente agrega 10 segundos a un <code>Instant</code>:
                </p>
                <div class="codeblock">
                    <pre>
Instant start;
...
Duration gap = Duration.ofSeconds(10);
Instant later = start.plus(gap);
                    </pre>
                </div>
                <p>
                    Una <code>Duration</code> no está conectada a la línea del tiempo, porque no rastrea las zonas horarias ni el
                    horario de verano. Agregar una <code>Duration</code> equivalente a un día a una <code>ZonedDateTime</code>
                    hace que se agreguen exactamente 24 horas, independientemente del horario de verano u otras diferencias de
                    tiempo que puedan resultar.
                </p>
                <h2>
                    ChronoUnit
                </h2>
                <p>
                    La enumeración <code>ChronoUnit</code>, descrita en
                    <a class="TutorialLink" target="_top" href="temporal.html">El Paquete Temporal</a>, define las unidades usadas
                    para medir el tiempo. El método <code>ChronoUnit.between</code> es útil cuando se quiere medir una cantidad de
                    tiempo en sólo una unidad de tiempo, como días o segundos. El método <code>between</code> funciona con todos
                    los objetos basados en el tiempo, pero devuelve la cantidad en una única unidad. El código siguiente calcula
                    la diferencia, en milisegundos, entre dos marcas de tiempo:
                </p>
                <div class="codeblock">
                    <pre>
import java.time.Instant;
import java.time.temporal.Temporal;
import java.time.temporal.ChronoUnit;

Instant previous, current, gap;
...
current = Instant.now();
if (previous != null) {
    gap = ChronoUnit.MILLIS.between(previous,current);
}
...
                    </pre>
                </div>
                <h2>
                    Period
                </h2>
                <p>
                    Para definir una cantidad de tiempo con valores basados en la fecha (años, meses, días), use la clase
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/Period.html"><code>Period</code></a>. La clase
                    <code>Period</code> suministra varios métodos <code>get</code>, tales como
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getMonths--"><code>getMonths</code></a>,
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getDays--"><code>getDays</code></a>,
                       y
                       <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getYears--"><code>getYears</code></a>,
                    para que pueda extraer la cantidad de tiempo del período.
                </p>
                <p>
                    El período total de tiempo está representado por las tres unidades juntas: meses, días y años. Para presentar
                    la cantidad de tiempo medida en una única unidad de tiempo, tal como días, puede usar el método
                    <code>ChronoUnit.between</code>.
                </p>
                <p>
                    El código siguiente informa de la edad que tiene, asumiendo que usted nació el 1 de enero de 1960. La clase
                    <code>Period</code> es usada para determinar el tiempo en años, meses, y días. El mismo período, en días 
                    totales, se determina usando el método <code>ChronoUnit.between</code> y se visualiza en paréntesis:
                </p>
                <div class="codeblock">
                    <pre>
LocalDate today = LocalDate.now();
LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);

Period p = Period.between(birthday, today);
long p2 = ChronoUnit.DAYS.between(birthday, today);
System.out.println("Usted tiene " + p.getYears() + " años, " + p.getMonths() +
                   " meses, y " + p.getDays() +
                   " días. (" + p2 + " días totales)");
                    </pre>
                </div>
                <p>
                    El código produce una salida similar a la siguiente:
                </p>
                <div class="codeblock">
                    <pre>
Usted tiene 53 años, 4 meses, y 29 días. (19508 días totales)
                    </pre>
                </div>
                <p>
                    Para calcular cuánto queda hasta su próximo cumpleaños, podría usar el código siguiente del ejemplo
                    <a class="SourceLink" target="_blank" href="examples/Birthday.java"
                       onclick="showCode('../../displayCode.html', 'examples/Birthday.java'); return false;">
                        <code>Birthday</code></a>. La clase <code>Period</code> es usada para determinar el valor en meses y días.
                    El método <code>ChronoUnit.between</code> devuelve el valor en días totales y es visualizado en paréntesis.
                </p>
                <div class="codeblock">
                    <pre>
LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);

LocalDate nextBDay = birthday.withYear(today.getYear());

// Si su nacimiento ya ha ocurrido este año, agregar uno al año.
if (nextBDay.isBefore(today) || nextBDay.isEqual(today)) {
    nextBDay = nextBDay.plusYears(1);
}

Period p = Period.between(today, nextBDay);
long p2 = ChronoUnit.DAYS.between(today, nextBDay);
System.out.println("Hay  " + p.getMonths() + " meses, y " +
                   p.getDays() + " días hasta su próximo cumpleaños. (" +
                   p2 + " total)");
                    </pre>
                </div>
                <p>
                    El código produce una salida similar a la siguiente:
                </p>
                <div class="codeblock">
                    <pre>
Hay 7 meses, y 2 días hasta su próximo cumpleaños. (216 total)
                    </pre>
                </div>
                <p>
                    Estos cálculos no tienen en cuenta las diferencias de zona horaria. Si usted hubiera, por ejemplo, nacido en
                    Australia, pero actualmente viviea en Bangalores, esto afectaría ligeramente el cálculo de su edad exacta. En
                    esta situación, use un <code>Period</code> en conjunción con la clase <code>ZonedDateTime</code>. Cuando agrega
                    un <code>Period</code> a una <code>ZonedDateTime</code>, las diferencias de tiempo son observadas.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="queries.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="clock.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Temporal Query<br />
            <b>Página siguiente:</b> Clock
        </div>
    </body>
</html> 
