<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Dibujando Múltiples Líneas de Texto (Los Tutoriales de Java&trade; &gt; Gráficos 2D &gt; 
            Trabajando con la IPA de Texto)
        </title>
        <meta name="description" content="Este tutorial de Java 2D describe gráficos 2D, geometría, IPA de texto, imágenes, 
              impresión, temas 2D avanzados." />
        <meta name="keywords" content="java programming, learn java, java sample code, java 2d" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Trabajando con la IPA de Texto</a></div>
                <div class="linkAHEAD"><a href="fontconcepts.html">Conceptos de Fuentes</a></div>
                <div class="linkAHEAD"><a href="textlayoutconcepts.html">Conceptos de Diseño del Texto</a></div>
                <div class="linkAHEAD"><a href="fonts.html">Fuentes Físicas y Lógicas</a></div>
                <div class="linkAHEAD"><a href="measuringtext.html">Midiendo Texto</a></div>
                <div class="linkAHEAD"><a href="advanced.html">Visualización Avanzada de Texto</a></div>
                <div class="linkBHEAD"><a href="renderinghints.html">Visualizando Texto Suavizado Usando Consejos de Renderizado</a></div>
                <div class="linkBHEAD"><a href="textattributes.html">Usando Atributos de Texto para Estilizar el Texto</a></div>
                <div class="nolinkBHEAD">Dibujando Múltiples Líneas de Texto</div>
                <div class="linkBHEAD"><a href="textlayoutbidirectionaltext.html">Trabajando con Texto Bidireccional</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Gráficos 2D<br />
                <b>Lección:</b> Trabajando con la IPA de Texto<br />
                <b>Sección:</b> Advanced Text Display
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Gráficos 2D</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Trabajando con la IPA de Texto</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="textattributes.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="textlayoutbidirectionaltext.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Dibujando Múltiples Líneas de Texto</h1>
            </div>
            <div id="PageContent">
                <p>
                    Si tiene un párrafo de texto con estilo que le gustaría ajustar dentro de un ancho específico, puede usar la 
                    clase <code>LineBreakMeasurer</code>. Esta clase permite dividir el texto con estilo en líneas para que se 
                    ajusten a un avance visual particular. Cada línea se devuelve como un objeto <code>TextLayout</code>, que 
                    representa datos de caracteres con estilo inmutables. Sin embargo, esta clase también permite el acceso a la 
                    información de diseño. Los métodos <code>getAscent</code> y <code>getDescent</code> de <code>TextLayout</code> 
                    devuelven información sobre la fuente que se utiliza para colocar las líneas en el componente. El texto se 
                    almacena como un objeto <code>AttributedCharacterIterator</code> para que los atributos de fuente y tamaño en 
                    puntos se puedan almacenar con el texto.
                </p>
                <p>
                    El siguiente applet coloca un párrafo de texto con estilo dentro de un componente, usando 
                    <code>LineBreakMeasurer</code>, <code>TextLayout</code> y <code>AttributedCharacterIterator</code>.
                </p>
                <p style="text-align: center">
                <applet code="LineBreakSample" archive="examples/lib/LineBreakSampleApplet.jar" width="400" height="250" >
                    <param name="permissions" value="sandbox" />
                </applet>
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong> Si no ve el applet ejecutándose, debe instalar al menos la versión 7 del 
                    <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Kit de Desarrollo Java SE (KDJ)</a>.
                    <hr />
                </div>
                <p>
                    El código completo de este applet está en
                    <a class="SourceLink" target="_blank" 
                       href="examples/LineBreakSample.java"
                       onclick="showCode('../../displayCode.html', 'examples/LineBreakSample.java'); return false;">
                        <code>LineBreakSample.java</code></a>.
                </p>
                <p>
                    El siguiente código crea un iterador con la cadena <code>vanGogh</code>. Se recupera el inicio y el final del 
                    iterador y se crea un nuevo <code>LineBreakMeasurer</code> a partir del iterador.
                </p>
                <div class="codeblock">
                    <pre>
    AttributedCharacterIterator paragraph = vanGogh.getIterator();
    paragraphStart = paragraph.getBeginIndex();
    paragraphEnd = paragraph.getEndIndex();
    FontRenderContext frc = g2d.getFontRenderContext();
    lineMeasurer = new LineBreakMeasurer(paragraph, frc);
                    </pre>
                </div>
                <p>
                    El tamaño de la ventana se utiliza para determinar dónde debe romperse la línea. También se crea un objeto 
                    <code>TextLayout</code> para cada línea del párrafo.
                </p>
                <div class="codeblock">
                    <pre>
// Establezca el ancho de ruptura al ancho del componente.
float breakWidth = (float)getSize().width;
float drawPosY = 0;
// Establecer posición en el índice del primer
// carácter en el párrafo.
lineMeasurer.setPosition(paragraphStart);

// Obtener líneas hasta que el párrafo completo
// se haya mostrado.
while (lineMeasurer.getPosition() &lt; paragraphEnd) {

    TextLayout layout = lineMeasurer.nextLayout(breakWidth);

    // Calcular la posición x de la pluma. Si el párrafo
    // es de derecha a izquierda alinearemos el
    // TextLayouts en el borde derecho del panel.
    float drawPosX = layout.isLeftToRight()
        ? 0 : breakWidth - layout.getAdvance();

    // Mueve la coordenada y por el ascenso del 
    // diseño.
    drawPosY += layout.getAscent();

    // Dibujado el TextLayout en (drawPosX,drawPosY).
    layout.draw(g2d, drawPosX, drawPosY);

    // Mueve la coordenada y en preparación para el siguiente
    // diseño.
    drawPosY += layout.getDescent() + layout.getLeading();
}
                    </pre>
                </div>
                <p>
                    La clase <code>TextLayout</code> no es frecuentemente creada directamente por aplicaciones. Sin embargo, esta 
                    clase es útil cuando las aplicaciones necesitan trabajar directamente con texto que ha tenido estilos 
                    (atributos de texto) aplicados en posiciones específicas en el texto. Por ejemplo, para dibujar una sola 
                    palabra en cursiva en un párrafo, una aplicación necesitaría realizar mediciones y establecer la fuente para 
                    cada subcadena. Si el texto es bidireccional, esta tarea no es tan fácil de hacer correctamente. La creación de 
                    un objeto <code>TextLayout</code> a partir de un objeto <code>AttributedString</code> maneja este problema por 
                    usted. Consulte la especificación de Java SE para obtener más información sobre 
                    <a class="APILink" target="blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/TextLayout.html"><code>TextLayout</code></a>.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="textattributes.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="textlayoutbidirectionaltext.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Usando Atributos de Texto para Estilizar el Texto<br />
            <b>Página siguiente:</b> Trabajando con Texto Bidireccional
        </div>
    </body>
</html> 
