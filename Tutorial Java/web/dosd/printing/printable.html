<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Un Programa para Impresión Básica (Los Tutoriales de Java&trade; &gt; 2D Graphics &gt; Imprimiendo)</title>
        <meta name="description" content="Este tutorial de Java 2D describe gráficos 2D, geometría, IPA de texto, imágenes, 
              impresión, temas 2D avanzados." />
        <meta name="keywords" content="java programming, learn java, java sample code, java 2d" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Imprimiendo</a></div>
                <div class="nolinkAHEAD">Un Programa para Impresión Básica</div>
                <div class="linkAHEAD"><a href="dialog.html">Usando los Cuadros de Diálogo de Configuración de Impresión</a></div>
                <div class="linkAHEAD"><a href="set.html">Imprimiendo un Documento de Múltiples Páginas</a></div>
                <div class="linkAHEAD"><a href="services.html">Trabajando con Servicios de Impresión y Atributos</a></div>
                <div class="linkAHEAD"><a href="gui.html">Imprimiendo el Contenido del Interfaz de Usuario</a></div>
                <div class="linkAHEAD"><a href="swing.html">Soporte para Impresión en los Componentes Swing</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> 2D Graphics<br />
                <b>Lección:</b> Imprimiendo
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">2D Graphics</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Imprimiendo</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="dialog.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Un Programa para Impresión Básica</h1>
            </div>
            <div id="PageContent">
                <p>
                    Esta sección explica cómo crear un programa de impresión básico que muestra un cuadro de diálogo de impresión e 
                    imprime el texto "Hola mundo" en la impresora seleccionada.
                </p>
                <p>
                    La tarea de impresión generalmente consta de dos partes:
                </p>
                <ul>
                    <li>
                        Control de trabajos &mdash; Crear un trabajo de impresión, asociarlo con una impresora, especificar el 
                        número de copias y la interacción del diálogo de impresión del usuario.
                    </li>
                    <li>
                        Paginación de Imágenes &mdash; Dibujar contenido en una página y administrar contenido que abarca páginas 
                        (paginación).
                    </li>
                </ul>
                <p>
                    Primero cree el trabajo de la impresora. La clase que representa un trabajo de impresora y la mayoría de las 
                    otras clases relacionadas se encuentra en el paquete 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/print/package-summary.html">
                        <code>java.awt.print</code></a>.
                </p>
                <div class="codeblock">
                    <pre>
import java.awt.print.*;

PrinterJob job = PrinterJob.getPrinterJob();
                    </pre>
                </div>
                <p>
                    A continuación, proporcione un código que muestre el contenido de la página mediante la implementación de
                    la interfaz 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/print/Printable.html">
                        <code>Printable</code></a>.
                </p>
                <div class="codeblock">
                    <pre>
class HelloWorldPrinter
              implements Printable { ... }
...
job.setPrintable(new HelloWorldPrinter());
                    </pre>
                </div>
                <p>
                    Una aplicación normalmente muestra un cuadro de diálogo de impresión para que el usuario pueda ajustar varias 
                    opciones, como el número de copias, la orientación de la página o la impresora de destino.
                </p>
                <div class="codeblock">
                    <pre>
boolean doPrint = job.printDialog();
                    </pre>
                </div>
                <p>
                    Este cuadro de diálogo aparece hasta que el usuario aprueba o cancela la impresión. La variable 
                    <code>doPrint</code> será verdadera si el usuario dio un comando para seguir adelante e imprimir. Si 
                    la variable <code>doPrint</code> es falsa, el usuario canceló el trabajo de impresión. Dado que mostrar el 
                    cuadro de diálogo es opcional, el valor devuelto es puramente informativo.
                </p>
                <p>
                    Si la variable <code>doPrint</code> es verdadera, la aplicación solicitará que se imprima el trabajo llamando al 
                    método <code>PrinterJob.print</code>.
                </p>
                <div class="codeblock">
                    <pre>
if (doPrint) {
    try {
        job.print();
    } catch (PrinterException e) {
        // El trabajo no se completó 
        // correctamente
    }
}
                    </pre>
                </div>
                <p>
                    Se lanzará <code>PrinterException</code> si hay problemas para enviar el trabajo a la impresora. Sin embargo, 
                    dado que el método <code>PrinterJob.print</code> regresa tan pronto como el trabajo se envía a la impresora, la 
                    aplicación del usuario no puede detectar atascos de papel o problemas de falta de papel. Esta plantilla de 
                    control de trabajos es suficiente para usos básicos de impresión.
                </p>
                <p>
                    La interfaz <code>Printable</code> tiene un solo método:
                </p>
                <div class="codeblock">
                    <pre>
public int print(Graphics graphics,
           PageFormat pf, int page)
           throws PrinterException;
                    </pre>
                </div>
                <p>
                    La clase 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/print/PageFormat.html">
                        <code>PageFormat</code></a> describe la orientación de la página (vertical u horizontal) y su tamaño y área 
                    imprimible en unidades de 1/72 de pulgada. El área imprimible representa los límites de margen de la mayoría 
                    de las impresoras (margen de hardware). El área imprimible es el espacio dentro de estos márgenes y, en la 
                    práctica, a menudo se limita aún más para dejar espacio para encabezados o pies de página.
                </p>
                <p>
                    Un parámetro <code>page</code> es el número de página de base cero que se representará.
                </p>
                <p>
                    El siguiente código representa la implementación completa de <code> Printable </code>:
                </p>
                <div class="codeblock">
                    <pre>
import java.awt.print.*;
import java.awt.*;

public class HelloWorldPrinter
    implements Printable {

  public int print(Graphics g, PageFormat pf, int page)
      throws PrinterException {

    // Tenemos solo una página, y 'page'
    // inicia en cero
    if (page &gt; 0) {
         return NO_SUCH_PAGE;
    }

    // El usuario (0,0) suele estar fuera del
    // área imprimible, por lo que debemos traducir
    // por los valores X e Y en el PageFormat
    // para evitar recortes.
    Graphics2D g2d = (Graphics2D)g;
    g2d.translate(pf.getImageableX(), pf.getImageableY());

    // Ahora realizamos nuestro renderizado
    g.drawString("¡Hola, mundo!", 100, 100);

    // decirle a la persona que llama que esta página es parte
    // del documento impreso
    return PAGE_EXISTS;
  }
}
                    </pre>
                </div>
                <p>
                    El código completo de este ejemplo está en
                    <a class="SourceLink" target="_blank" 
                       href="examples/HelloWorldPrinter.java"
                       onclick="showCode('../../displayCode.html', 'examples/HelloWorldPrinter.java'); return false;">
                        <code>HelloWorldPrinter.java</code></a>.
                </p>
                <p>
                    Enviar una instancia de 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics.html"><code>Graphics</code></a> en la 
                    impresora es esencialmente lo mismo que renderizarlo en la pantalla. En ambos casos, debe realizar los 
                    siguientes pasos:
                </p>
                <ul>
                    <li>
                        Dibujar una cadena de prueba es tan fácil como las otras operaciones que se describieron para dibujar en un 
                        <code>Graphics2D</code>.
                    </li>
                    <li>
                        Los gráficos de la impresora tienen una resolución más alta, que debería ser transparente para la mayoría 
                        de los códigos.
                    </li>
                    <li>
                        El sistema de impresión llama al método <code>Printable.print()</code>, al igual que se llama al método 
                        <code>Component.paint()</code> para pintar un componente en la pantalla. El sistema de impresión llamará al 
                        método <code>Printable.print()</code> para la página 0, 1, .. etc hasta que el método <code> print()</code> 
                        devuelva <code>NO_SUCH_PAGE</code>.
                    </li>
                    <li>
                        El método <code>print()</code> se puede llamar con el mismo índice de página varias veces hasta que se 
                        complete el documento. Esta función se aplica cuando el usuario especifica atributos como copias múltiples 
                        con opción de clasificación.
                    </li>
                    <li>
                        El área imprimible de PageFormat determina el área del clip. El área imprimible también es importante para 
                        calcular la paginación o cómo distribuir el contenido en las páginas impresas, ya que los saltos de página 
                        están determinados por cuánto cabe en cada página.
                        <div class="note">
                            <hr />
                            <strong>Nota:</strong> &nbsp; Se puede omitir una llamada al método <code>print()</code> para ciertos 
                            índices de página si el usuario ha especificado un rango de página diferente que no involucra un 
                            índice de página en particular.
                            <hr />
                        </div>
                    </li>
                </ul>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="dialog.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            "Los Tutoriales de Java" está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Imprimiendo<br />
            <b>Página siguiente:</b> Usando los Cuadros de Diálogo de Configuración de Impresión
        </div>
    </body>
</html> 
