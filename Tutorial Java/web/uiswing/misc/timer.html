<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Cómo Usar los Temporizadores de Swing (Los Tutoriales de Java&trade; &gt; Creando una IGU (Interfaz Gráfica de
            Usuario) con JFC/Swing &gt; Usar Otras Características de Swing)
        </title>
        <meta name="description" content="Este tutorial de Swing Java describe el desarrollo de interfaces gráficas de usuario (GUI)
              para aplicaciones y applets que utilizan componentes Swing" />
        <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface,
              swing components, swing events, swing layout  " />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Usando Otras Características de Swing</a></div>
                <div class="linkAHEAD"><a href="desktop.html">Cómo Integrar con la Clase Desktop</a></div>
                <div class="linkAHEAD"><a href="trans_shaped_windows.html">Cómo crear Ventanas Translúcidas y con Formas</a></div>
                <div class="linkAHEAD"><a href="jlayer.html">Cómo Decorar Componentes con la Clase JLayer</a></div>
                <div class="linkAHEAD"><a href="action.html">Cómo Usar Acciones</a></div>
                <div class="nolinkAHEAD">Cómo Usar los Temporizadores de Swing</div>
                <div class="linkAHEAD"><a href="access.html">Cómo Soportar Tecnologías de Asistencia</a></div>
                <div class="linkAHEAD"><a href="focus.html">Cómo Usar el Subsistema de Foco</a></div>
                <div class="linkAHEAD"><a href="keybinding.html">Cómo Usar Atajos de Teclado</a></div>
                <div class="linkAHEAD"><a href="modality.html">Cómo Usar la Modalidad en los Diálogos</a></div>
                <div class="linkAHEAD"><a href="printtable.html">Cómo Imprimir Tablas</a></div>
                <div class="linkAHEAD"><a href="printtext.html">Cómo Imprimir Texto</a></div>
                <div class="linkAHEAD"><a href="splashscreen.html">Cómo Crear una Pantalla de Bienvenida</a></div>
                <div class="linkAHEAD"><a href="systemtray.html">Cómo Usar la Bandeja del Sistema</a></div>
                <div class="linkAHEAD"><a href="problems.html">Resolviendo Problemas Comunes Usando Otras Características de Swing</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing<br />
                <b>Lección:</b> Usando Otras Características de Swing
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Usando Otras Características de Swing</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="action.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="access.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Cómo Usar los Temporizadores de Swing</h1>
            </div>
            <div id="PageContent">
                <p>
                    Un temporizador de Swing (una instancia de
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/javax/swing/Timer.html"><code>javax.swing.Timer</code></a>)
                       dispara uno o más eventos de acción después de un tiempo especificado. No confunda los temporizadores de Swing 
                       con la facilidad de temporizador de propósito general en el paquete <code>java.util</code>. Esta página
                       describe los temporizadores Swing.
                </p>
                <p>
                    En general, recomendamos usar los temporizadores Swing en vez de los temporizadores de propósito general para
                    tareas relacionadas con el IGU porque los temporizadores Swing comparten todos el mismo, hilo de temporizador
                    pre-existente y las tareas relacionadas con la IGU se ejecutan automáticamente en el hilo despachador de
                    eventos. Sin embargo, podría usar un temporizador de propósito general si no planea tocar la IGU desde el
                    temporizador, o necesite realizar un proceso prolongado.
                </p>
                <p>
                    Puede usar los temporizadores de Swing de dos formas:
                </p>
                <ul>
                    <li>
                        Para realizar una tarea una vez, después de un retraso.<br />Por ejemplo, el gestor de tool tips usa los 
                        temporizadores de Swing para determinar cuándo mostrar un tool tip y cuándo ocultarlo.
                    </li>
                    <li>
                        Para ejecutar una tarea repetidamente.<br />Por ejemplo, podría realizar una animación o actualizar un
                        componente que muestre el progreso hacia un objetivo.
                    </li>
                </ul>
                <p>
                    Los temporizadores de Swing son muy fáciles de usar. Cuando crea el temporizador, especifica un oyente de
                    acción que será notificado cunado el temporizador &quot;se apaga&quot;. El método <code>actionPerformed</code>
                    en este oyente contendrá el código para cualquier tarea que usted necesite que sea realizada. Cuando crea el
                    temporizador, también especifica el número de milisegundos entre los disparos del temporizador. Si quiere el
                    que el temporizador se apague sólo una vez, puede invocar <code>setRepeats(false)</code> en el temporizador.
                    Para activar un temporizador, llame a su método <code>start</code>. Para suspenderlo, llame a <code>stop</code>.
                </p>
                <p>
                    Tenga en cuenta que la tarea del temporizador Swing se realiza en el hilo despachador del evento. Esto
                    significa que la tarea puede manipular de forma segura los componentes, pero también significa que la tarea se
                    debe ejecutar rápidamente. Si la tarea puede tardar un tiempo en ejecutarse, considere entonces usar un
                    <code>SwingWorker</code> en vez de o además del temporizador. Vea
                    <a class="TutorialLink" target="_top" href="../concurrency/index.html">Concurrencia en Swing</a> para
                    instrucciones sobre el uso de la clase <code>SwingWorker</code>  e información sobre el uso de componentes Swing
                    en programas multi-hilo.
                </p>
                <p>
                    Veamos un ejemplo del uso de un temporizador para actualizar periódicamente un componente. El applet
                    <a class="SourceLink" target="_blank"
                       href="../examples/components/TumbleItemProject/src/components/TumbleItem.java"
                       onclick="showCode('../../displayCode.html',
                                       '../examples/components/TumbleItemProject/src/components/TumbleItem.java');
                               return false;"><code>TumbleItem</code></a> usa un temporizador para actualizar su monitor en
                    regulares. (para ver este applet ejecutándose, vaya a
                    <a class="TutorialLink" target="_top" href="../components/applet.html">Cómo Hacer Applets</a>. Este applet
                    empieza creando e iniciando un temporizador:
                </p>
                <div class="codeblock">
                    <pre>
timer = new Timer(speed, this);
timer.setInitialDelay(pause);
timer.start(); 
                    </pre>
                </div>
                <p>
                    Las variables <code>speed</code> y <code>pause</code> representan parámetros del applet; como se configuraron
                    en la otra página, estas son 100 y 1900 respeectivamente, así que el primer evento del temporizador ocurrirá 
                    aproximadamente en 1,9 segundos, y se repetirá cada 0.1 segundos. Al especificar <code>this</code> como el
                    segundo argumento al constructor <code>Timer</code>, <code>TumbleItem</code> especifica si este es el oyente de
                    acción para los eventos del temporizador.
                </p>
                <p>
                    Después de iniciar el temporizador, <code>TumbleItem</code> empieza a cargar una serie de imágenes en un hlo en
                    segundo plano. Mientras tanto, los eventos del temporizador empiezan a ocurrir, causando que el método
                    <code>actionPerformed</code> se ejecute:
                </p>
                <div class="codeblock">
                    <pre>
public void actionPerformed(ActionEvent e) {
    //Si aún se está cargando, no se puede animar.
    if (!worker.isDone()) {
        return;
    }

    loopslot++;

    if (loopslot &gt;= nimgs) {
        loopslot = 0;
        off += offset;

        if (off &lt; 0) {
            off = width - maxWidth;
        } else if (off + maxWidth &gt; width) {
            off = 0;
        }
    }

    animator.repaint();

    if (loopslot == nimgs - 1) {
        timer.restart();
    }
}
                    </pre>
                </div>
                <p>
                    Hasta que las imágenes están cargadas, <code>worker.isDone</code> devuelve <code>false</code>, así que los
                    eventos del temporizador son ignorados efectivamente. La primera parte del código de manejo de eventos
                    simplemente establece valores que se emplean en el método <code>paintComponent</code> del control de animación:
                    <code>loopslot</code> (el índice del siguiente gráfico en la animación) y <code>off</code> (el desplazamiento
                    horizontal del siguiente gráfico).
                </p>
                <p>
                    Eventualmente, <code>loopslot</code> alcanzará el final de la matriz de imágentes y comenzará de nuevo. Cuando
                    esto ocurre, el código al final de <code>actionPerformed</code> reinicia el temporizador. Hacer esto causa un
                    pequeño retardo antes de que la secuencia de animación empiece de nuevo.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="action.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="access.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">
                                avisos legales</a>.
                        </p>
                        <p class="footertext">Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.</p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Cómo Usar Acciones<br />
            <b>Página Siguiente:</b> Cómo Soportar Tecnologías de Asistencia
        </div>
    </body>
</html>