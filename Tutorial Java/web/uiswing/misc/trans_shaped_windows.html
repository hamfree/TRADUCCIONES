<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Cómo crear Ventanas Translúcidas y con Formas (Los Tutoriales de Java&trade; &gt; Creando una IGU (Interfaz Gráfica de
            Usuario) con JFC/Swing &gt; Usar Otras Características de Swing)
        </title>
        <meta name="description" content="Este tutorial de Swing Java describe el desarrollo de interfaces gráficas de usuario (GUI)
              para aplicaciones y applets que utilizan componentes Swing" />
        <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface,
              swing components, swing events, swing layout  " />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Usando Otras Características de Swing</a></div>
                <div class="linkAHEAD"><a href="desktop.html">Cómo Integrar con la Clase Desktop</a></div>
                <div class="nolinkAHEAD">Cómo crear Ventanas Translúcidas y con Formas</div>
                <div class="linkAHEAD"><a href="jlayer.html">Cómo Decorar Componentes con la Clase JLayer</a></div>
                <div class="linkAHEAD"><a href="action.html">Cómo Usar Acciones</a></div>
                <div class="linkAHEAD"><a href="timer.html">Cómo Usar los Temporizadores de Swing</a></div>
                <div class="linkAHEAD"><a href="access.html">Cómo Soportar Tecnologías de Asistencia</a></div>
                <div class="linkAHEAD"><a href="focus.html">Cómo Usar el Subsistema de Foco</a></div>
                <div class="linkAHEAD"><a href="keybinding.html">Cómo Usar Atajos de Teclado</a></div>
                <div class="linkAHEAD"><a href="modality.html">Cómo Usar la Modalidad en los Diálogos</a></div>
                <div class="linkAHEAD"><a href="printtable.html">Cómo Imprimir Tablas</a></div>
                <div class="linkAHEAD"><a href="printtext.html">Cómo Imprimir Texto</a></div>
                <div class="linkAHEAD"><a href="splashscreen.html">Cómo Crear una Pantalla de Bienvenida</a></div>
                <div class="linkAHEAD"><a href="systemtray.html">Cómo Usar la Bandeja del Sistema</a></div>
                <div class="linkAHEAD"><a href="problems.html">Resolviendo Problemas Comunes Usando Otras Características de Swing</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing<br />
                <b>Lección:</b> Usando Otras Características de Swing
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Usando Otras Características de Swing</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="desktop.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="jlayer.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Cómo crear Ventanas Translúcidas y con Formas</h1>
            </div>
            <div id="PageContent">
                <p>
                    A partir de la versión 10 de la Plataforma Java, Edición Estándar 6 (Java SE 6), puede agregar ventanas 
                    translúcidas y con forma a sus aplicaciones Swing. Esta página cubre los siguientes temas:
                </p>
                <ul>
                    <li><a href="#supported">Capacidades Admitidas</a></li>
                    <li><a href="#capability">Determinación de las Capacidades de una Plataforma</a></li>
                    <li><a href="#uniform">Cómo Implementar una Translucidez Uniforme</a></li>
                    <li><a href="#per-pixel">Cómo Implementar Translucidez Por-Pixel</a></li>
                    <li><a href="#shaped">Cómo Implementar una Ventana Con Forma</a></li>
                    <li><a href="#6u10">La IPA de Java Versión 6 Actualización 10</a></li>
                    <li><a href="#info">Para Más Información</a></li>
                </ul>
                <h2>
                    <a id="supported">Capacidades Admitidas</a>
                </h2>
                <p>
                    Esta funcionalidad, la cual es parte del paquete público AWT en el KDJ versión 7, toma tres formas, como siguen:
                </p>
                <ul>
                    <li>
                        Puede crear una ventana con una translucidez <em>uniforme</em>, donde cada pixel tiene el mismo valor de
                        translucidez (o alfa). La siguiente captura de pantalla muestra una ventana con el 45 por ciento de
                        translucidez.
                        <p style="text-align:center">
                            <img src="../../figures/uiswing/misc/TranslucentWindow.png" width="331" height="225" class="imgbottom"
                                 alt="Una ventana translúcida" />
                        </p>
                        <div class="note">
                            <hr />
                            <strong>Pruebe esto:</strong>&nbsp;
                            <p>
                                Pulse el botón Lanzar para ejecutar el ejemplo TranslucentWindowDemo usando
                                <a class="OutsideLink" target="_blank" 
                                   href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">
                                    Java&trade; Web Start</a>. Este ejemplo requiere
                                <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    KDJ 7</a> o posterior. Alternativamente, para compilar y ejecutar el ejemplo usted mismo,
                                    consulte el <a href="../examples/misc/index.html#TranslucentWindowDemo">índice de ejemplos</a>.
                            </p>
                            <div style="text-align: center">
                                <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/TranslucentWindowDemoProject/TranslucentWindowDemo.jnlp">
                                    <img src="../../images/jws-launch-button.png" width="88" height="23" class="imgbottom"
                                         alt="Lanza el ejemplo TranslucentWindowDemo" />
                                </a>
                            </div>
                            <hr />
                        </div>
                    </li>
                    <li>
                        Puede crear una ventana con translucided <em>por-pixel</em>, donde cada pixel tiene su propio valor alfa.
                        Con esta característica puede, por ejemplo, crear una ventana que se desvanece a nada definiendo un
                        degradado en los valores alfa. La siguiente captura de pantalla muestra una ventana con un gradiente de
                        translucidez desde la parte superior (completamente translúcida) a la parte inferior (completamente opaca).
                        <p style="text-align:center">
                            <img src="../../figures/uiswing/misc/GradientWindow.png" width="333" height="222" class="imgbottom"
                                 alt="Una ventana con translucidez por-pixel." />
                        </p>
                        <div class="note">
                            <hr />
                            <strong>Pruebe esto:</strong>&nbsp;
                            <p>
                                Pulse el botón Lanzar para ejecutar el ejemplo GradientTranslucentWindowDemo usando
                                <a class="OutsideLink" target="_blank" 
                                   href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">
                                    Java&trade; Web Start</a>. Este ejemplo requiere
                                <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">KDJ 7</a> o posterior.
                                Alternativamente, para compilar y ejecutar el ejemplo usted mismo, consulte el
                                <a href="../examples/misc/index.html#GradientTranslucentWindowDemo">índice de ejemplos</a>.
                            </p>
                            <div style="text-align: center">
                                <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/GradientTranslucentWindowDemoProject/GradientTranslucentWindowDemo.jnlp">
                                    <img src="../../images/jws-launch-button.png" width="88" height="23" class="imgbottom"
                                         alt="Lanza el ejemplo GradientTranslucentWindowDemo" />
                                </a>
                            </div>
                            <hr />
                        </div>
                    </li>
                    <li>
                        Puede crear una ventana con cualquier objeto <code>Shape</code> que pueda definir. Las ventanas con forma
                        pueden ser opacas, o pueden usar translucidez uniforme, o por-pixel. La siguiente captura de pantalla
                        muestra una ventana de forma ovalda con el 30 por ciento de translucidez.
                        <p style="text-align:center">
                            <img src="../../figures/uiswing/misc/ShapedWindow.png" width="339" height="229" class="imgbottom"
                                 alt="Una ventana de forma ovalada." />
                        </p>
                        <div class="note">
                            <hr />
                            <strong>Pruebe esto:</strong>&nbsp;
                            <p>
                                Pulse el botón Lanzar para ejecutar el ejemplo ShapedWindowDemo usando 
                                <a class="OutsideLink" target="_blank" 
                                   href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">
                                    Java&trade; Web Start</a>. Este ejemplo requiere
                                <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">KDJ 7</a> o posterior.
                                Alternativamente, para compilar y ejecutar el ejemplo usted mismo, consulte el
                                <a href="../examples/misc/index.html#ShapedWindowDemo">índice de ejemplos</a>.
                            </p>
                            <div style="text-align: center">
                                <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/TranslucentWindowDemoProject/TranslucentWindowDemo.jnlp">
                                    <img src="../../images/jws-launch-button.png" width="88" height="23" class="imgbottom"
                                         alt="Lanza el ejemplo ShapedWindowDemo" />
                                </a>
                            </div>
                            <hr />
                        </div>
                    </li>
                </ul>
                <h2>
                    <a id="capability">Determinación de las Capacidades de una Plataforma</a>
                </h2>
                No todas las plataformas admiten todas estas capacidades.Una excepción <code>UnsupportedOperationException</code>
                se lanza cuando el código intenta invocar los métodos <code>setShape</code> o <code>setOpacity</code> en una
                plataforma que no admite estas capacidades. Por lo tanto, es una buena práctica comprobar primero que la
                plataforma admita la capacidad que quiere implementar. La clase <code>GraphicsDevice</code> suministra el método
                <a class="APILink" target="_blank"
                   href="https://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsDevice.html#isWindowTranslucencySupported-java.awt.GraphicsDevice.WindowTranslucency-">
                    <code>isWindowTranslucencySupported(GraphicsDevice.WindowTranslucency)</code></a>  que puede usar para este
                propósito. Pase uno de los tres valores enumerados, definidos en
                <a class="APILink" target="_blank" 
                   href="https://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsDevice.WindowTranslucency.html">
                    <code>GraphicsDevice.WindowTranslucency</code></a>, a este método:
                <ul>
                    <li>
                        <code>TRANSLUCENT</code> &ndash; La plataforma subyacente admite ventanas con translucidez uniforme, donde
                        cada píxel tiene el mismo valor alfa.
                    </li>
                    <li>
                        <code>PERPIXEL_TRANSLUCENT</code> &ndash; La plataforma subyacente admite ventanas con translucidez por
                        píxel. Esta capacidad es necesaria para implementar ventanas que se desvanezcan.
                    </li>
                    <li>
                        <code>PERPIXEL_TRANSPARENT</code> &ndash; La plataforma subyacente admite ventanas con formas.
                    </li>
                </ul>
                    La clase <code>GraphicsConfiguration</code> también suministra el método
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsConfiguration.html#isTranslucencyCapable--">
                    <code>isTranslucencyCapable</code>
                </a> para determinar si la translucidez <code>PERPIXEL_TRANSLUCENT</code> es soportada por el objeto
                <code>GraphicsConfiguration</code>.
                <div class="note">
                    <hr />
                    <strong>Nota de versión:</strong>&nbsp;
                    <p>
                        La IPA de ventanas con forma y translúcidas fue añadida primero a la versión 10 de la actualización de Java
                        SE 6 como una IPA privada. Esta funcionalidad fue movida al paquete público de AWT en la versión 7 del KDJ
                        (Kit de Desarrollo de Java, JDK en inglés). Este tutorial describe la IPA que está disponible en la versión
                        del KDJ 7. Vea
                        <a class="TutorialLink" target="_top" href="#6u10">IPA de la Actualización 10 de Java SE 6</a> para un
                        mapeo de la IPA privada en el lanzamiento de Java SE 6 Update 10 a la IPA pública en la versión KDJ 7.
                    </p>
                    <hr />
                </div>
                El código siguiente muestra cómo comprobar las tres capacidades:
                <div class="codeblock">
                    <pre>
import static java.awt.GraphicsDevice.WindowTranslucency.*;

// Determina si  GraphicsDevice por defecto puede soportar.
GraphicsEnvironment ge =
    GraphicsEnvironment.getLocalGraphicsEnvironment();
GraphicsDevice gd = ge.getDefaultScreenDevice();

boolean isUniformTranslucencySupported =
    gd.isWindowTranslucencySupported(TRANSLUCENT);
boolean isPerPixelTranslucencySupported =
    gd.isWindowTranslucencySupported(PERPIXEL_TRANSLUCENT);
boolean isShapedWindowSupported =
    gd.isWindowTranslucencySupported(PERPIXEL_TRANSPARENT);
                    </pre>
                </div>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;
                    <p>
                        Ninguna de estas capacidades funciona en ventanas en modo de pantalla completa. Invocar cualquiera de los
                        métodos relevantes mientras se está en modo de pantalla completa causa que sea lanzada una excepción
                        <code>IllegalComponentStateException</code>.
                    </p>
                    <hr />
                </div>
                <h2>
                    <a id="uniform">Cómo Implementar una Translucidez Uniforme</a>
                </h2>
                Puede crear una ventana donde cada pixel tenga la misma translucidez invocando el método
                <a class="APILink" target="_blank" 
                   href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setOpacity-float-">
                    <code>setOpacity(float)</code></a> en la clase <code>Window</code>. El argumento <code>float</code> pasado a
                    este método representa la translucidez de la ventana y debe ser un valor entre 0 y 1, inclusive. Cuanto más
                    pequeño el número, más transparente es la ventana. Hay también un método
                    <a class="APILink" target="_blank" 
                   href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#getOpacity--"><code>getOpacity</code></a>
                correspondiente.
                <p>
                    El ejemplo
                    <a class="SourceLink" target="_blank"
                       href="../examples/misc/TranslucentWindowDemoProject/src/misc/TranslucentWindowDemo.java"
                       onclick="showCode('../../displayCode.html', '../examples/misc/TranslucentWindowDemoProject/src/misc/TranslucentWindowDemo.java');
                               return false;"><code>TranslucentWindowDemo.java</code></a> crea una ventana que es el 55 por ciento 
                    opaca (el 45 por ciento es translúcido). Si la plataforma subyacente no soporta ventanas
                    translucidas, el ejemplo termina. El código relativo a la opacidad es mostrado debajo en negrita.
                </p>
                <div class="codeblock">
                    <pre>
import java.awt.*;
import javax.swing.*;
import static java.awt.GraphicsDevice.WindowTranslucency.*;

public class TranslucentWindowDemo extends JFrame {
    public TranslucentWindowDemo() {
        super("TranslucentWindow");
        setLayout(new GridBagLayout());

        setSize(300,200);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        //Agrega un botón de ejemplo.
        add(new JButton("Soy un Botón"));
    }

    public static void main(String[] args) {
        // Determina si GraphicsDevice soporta la translucidez.
        <b>GraphicsEnvironment ge = 
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        GraphicsDevice gd = ge.getDefaultScreenDevice();</b>

        //Si las ventanas translúcidas no son soportadas, salimos.
        <b>if (!gd.isWindowTranslucencySupported(TRANSLUCENT)) {
            System.err.println(
            "La translucidez no es compatible");
            System.exit(0);
        }</b>
        
        JFrame.setDefaultLookAndFeelDecorated(true);

        // Crea un IGU en el hilo despachador de eventos
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                TranslucentWindowDemo tw = new TranslucentWindowDemo();

                // Establece la ventana a una opacidad del 55%(45% translucidez).
                <b>tw.setOpacity(0.55f);</b>

                // Muestra la ventana.
                tw.setVisible(true);
            }
        });
    }
}
                    </pre>
                </div>
                <p>
                    Note que el botón es también afectado por la translucidez uniforme. Establecer la opacidad afecta a la ventana
                    entera, incluyendo cualquier componente que la ventana contiene.
                </p>
                <h2>
                    <a id="per-pixel">Cómo Implementar Translucidez Por-Pixel</a>
                </h2>
                Crear una ventana que use la transparencia por pixel implica la definición de valores alfa sobre el área
                rectangular que ocupa la ventana. Cuando el valor alfa de un pixel es 0, ese pixel es completamente
                transparente. Cuando el valor alfa de un pixel es 255, ese pixel es completamente opaco. Cuando el valor alfa
                de un pixel es 128, ese pixel tiene un 50 por cierto de translucidez, y así. Una forma fácil de crear una
                interpolación suave entre valores alfa es usar la clase
                <a class="APILink" target="_blank"
                   href="https://docs.oracle.com/javase/8/docs/api/java/awt/GradientPaint.html"><code>GradientPaint</code></a>. El
                ejemplo incluido usa este enfoque.
                <p>
                    Invocar
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setBackground-java.awt.Color-">
                        <code>setBackground(new Color(0,0,0,0))</code></a> sobre la ventana causa a que el software use los valores
                    alfa para renderizar la translucidez por pixel. En realidad, invocar 
                    <code>setBackground(new Color(0,0,0,alpha)</code>, donde <code>alpha</code> es menor que 255, instala la
                    transpariencia por pixel. Así, si usted invoca
                    <code>setBackground(new Color(0,0,0,128))</code> y nada más, la ventana es renderizada con el 50 por ciento de
                    translucidez para cada pixel del fondo. Sin embargo, si está creando su propio rango de valores alfa, lo más
                    probable es que desee un valor alfa de 0.
                </p>
                <p>
                    Mientras no está prohibido por la IPA pública, generalmente querrá habilitar la translucidez por píxel en
                    ventanas sin decoración. En la mayoría de los casos, usar translucidez por pixel en ventanas decoradas no tiene
                    sentido. Hacer eso puede deshabilitar las decoraciones, o causar otros efectos laterales dependientes de la
                    plataforma.
                </p>
                <p>
                    Para determinar si una ventana está usando translucidez por pixel, puede usar el método
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#isOpaque--"><code>isOpaque</code></a>
                </p>
                <p>
                    Un ejemplo sigue. Primero, aquí están los pasos requeridos para implementar el ejemplo:
                </p>
                <ol>
                    <li>
                        Invoque <code>setBackground(new Color(0,0,0,0))</code> sobre la ventana.
                    </li>
                    <li>
                        Cree una instancia de <code>JPanel</code> que sobreescriba el método <code>paintComponent</code>.
                    </li>
                    <li>
                        En el método <code>paintComponent</code>, cree una instancia de <code>GradientPaint</code>.
                    </li>
                    <li>
                        En el ejemplo, la parte superior del rectángulo tiene un valor alfa de 0 (el más transparente) y la parte 
                        inferior tiene un valor alfa de 255 (el más opaco). La clase <code>GradientPaint</code> interpola
                        suavemente los valores alfa desde la parte superior hasta la parte inferior del rectángulo.
                    </li>
                    <li>
                        Establezca la instancia <code>GradientPaint</code> como el método de pintado del panel.
                    </li>
                </ol>
                <p>
                    Aquí está el código para el ejemplo 
                    <a class="SourceLink" target="_blank" 
                       href="../examples/misc/GradientTranslucentWindowDemoProject/src/misc/GradientTranslucentWindowDemo.java"
                       onclick="showCode('../../displayCode.html',
                                       '../examples/misc/GradientTranslucentWindowDemoProject/src/misc/GradientTranslucentWindowDemo.java');
                               return false;">
                        <code>GradientTranslucentWindowDemo.java</code>
                    </a>. Si la plataforma subyacente no soporta translucidez por pixel, este ejemplo se sale. El código
                    específicamente relacionado a la creación del gradiente de la ventana es mostrado en negrita.
                </p>
                <div class="codeblock">
                    <pre>
import java.awt.*;
import javax.swing.*;
import static java.awt.GraphicsDevice.WindowTranslucency.*;

public class GradientTranslucentWindowDemo extends JFrame {
    public GradientTranslucentWindowDemo() {
        super("GradientTranslucentWindow");

        <b>setBackground(new Color(0,0,0,0));</b>
        setSize(new Dimension(300,200));
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        <b>JPanel panel = new JPanel() {</b>
            <b>@Override
            protected void paintComponent(Graphics g) {
                if (g instanceof Graphics2D) {
                    final int R = 240;
                    final int G = 240;
                    final int B = 240;

                    Paint p =
                        new GradientPaint(0.0f, 0.0f, new Color(R, G, B, 0),
                            0.0f, getHeight(), new Color(R, G, B, 255), true);
                    Graphics2D g2d = (Graphics2D)g;
                    g2d.setPaint(p);
                    g2d.fillRect(0, 0, getWidth(), getHeight());
                }
            }
        };</b>
        setContentPane(panel);
        setLayout(new GridBagLayout());
        add(new JButton("Soy un Botón"));
    }

    public static void main(String[] args) {
        // Determina si GraphicsDevice puede soportar.
        <b>GraphicsEnvironment ge = 
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        GraphicsDevice gd = ge.getDefaultScreenDevice();</b>
        boolean isPerPixelTranslucencySupported = 
            gd.isWindowTranslucencySupported(PERPIXEL_TRANSLUCENT);

        //Si las ventanas translucidas no son soportadas, salimos.
        <b>if (!isPerPixelTranslucencySupported) {
            System.out.println(
            "La translucidez por píxel no es compatible");
            System.exit(0);
        }</b>

        JFrame.setDefaultLookAndFeelDecorated(true);

        // Crea el IGU en el hilo despachador de eventos
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                GradientTranslucentWindowDemo gtw = new
                    GradientTranslucentWindowDemo();

                // Muestra la ventana.
                gtw.setVisible(true);
            }
        });
    }
}
                    </pre>
                </div>
                <p>
                    Note que el botón no está afectado por la translucidez por pixel. Establecer la translucidez por pixel afecta 
                    a los píxeles del fondo sólo. Si quiere una ventana que tenga un efecto uniformemente translucido sólo en los 
                    píxeles del fondo, puede invocar <code>setBackground(new Color(0,0,0,alpha))</code> donde <code>alpha</code>
                    especifica su translucidez deseada.
                </p>
                <h2>
                    <a id="shaped">Cómo Implementar una Ventana Con Forma</a>
                </h2>
                Puede crear una ventana con forma invocando el método
                <a class="APILink" target="_blank" 
                   href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setShape-java.awt.Shape-">
                    <code>setShape(Shape)</code></a> en la clase <code>Window</code>. El argumento <code>Shape</code> que es pasado 
                al método determina cómo se recorta la ventana. Cuando una forma es establecida en una ventana, las
                decoraciones de la ventana no se vuelven a formar con la nueva forma, por lo que la configuración de una forma
                funciona mejor en las ventanas sin decoración.
                <p>
                    La mejor práctica para establecer la forma de la ventana es invocar <code>setShape</code> en el método
                    <code>componentResized</code> del oyente de evento del componente. Esta práctica se asegurará de que la forma
                    es correctamente calculada para el tamaña actual de la ventana. El ejemplo siguiente usa este enfoque.
                </p>
                <p>
                    El ejemplo
                    <a class="SourceLink" target="_blank"
                       href="../examples/misc/ShapedWindowDemoProject/src/misc/ShapedWindowDemo.java"
                       onclick="showCode('../../displayCode.html',
                                       '../examples/misc/ShapedWindowDemoProject/src/misc/ShapedWindowDemo.java');
                               return false;"><code>ShapedWindowDemo.java</code></a> crea una ventana de forma ovalada con el 70 
                    por ciento de opacidad. Si la plataforma subyacente no soporta ventanas con forma, el ejemplo
                    termina. Si la platafora subyaciente no soporta la translucidez, el ejemplo usa una ventana opaca
                    estándar. Podría modificar este ejemplo para crear una ventana con forma que también use
                    translucidez por pixel.
                </p>
                <p>
                    El código relativo con la configuración de la ventana se muestra en negrita.
                </p>
                <div class="codeblock">
                    <pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import java.awt.geom.Ellipse2D;
import static java.awt.GraphicsDevice.WindowTranslucency.*;

public class ShapedWindowDemo extends JFrame {
    public ShapedWindowDemo() {
        super("ShapedWindow");
        setLayout(new GridBagLayout());

        // Es una buena práctica establecer la forma de la ventana en
        // el método componentResized. Entonces, si la ventana
        // cambia el tamaño, la forma será recalculada correctamente.
        <b>addComponentListener(new ComponentAdapter() {</b>
            // Da a la venta una forma elíptica.
            // Si la ventana es redimensionada, la forma es recalculada aquí.
            <b>@Override
            public void componentResized(ComponentEvent e) {
                setShape(new Ellipse2D.Double(0,0,getWidth(),getHeight()));
            }
        });</b>

        <b>setUndecorated(true);</b>
        setSize(300,200);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        add(new JButton("Soy un Botón"));
    }

    public static void main(String[] args) {
        // Determine what the GraphicsDevice can support.
        <b>GraphicsEnvironment ge = 
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        GraphicsDevice gd = ge.getDefaultScreenDevice();</b>
        final boolean isTranslucencySupported = 
            gd.isWindowTranslucencySupported(TRANSLUCENT);

        //If shaped windows aren't supported, exit.
        <b>if (!gd.isWindowTranslucencySupported(PERPIXEL_TRANSPARENT)) {
            System.err.println("Las ventanas con forma no están admitidas");
            System.exit(0);
        }</b>

        //Si las ventanas translúcidas no son admitidas,
        //crea una ventana opaca.
        if (!isTranslucencySupported) {
            System.out.println(
                "La translucidez no es soportada, creando una ventana opaca");
        }

        // Crea la IGU en el hilo despachador de eventos
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                ShapedWindowDemo sw = new ShapedWindowDemo();

                // Establece la ventana al 70% de translucidez , si lo soporta.
                if (isTranslucencySupported) {
                    sw.setOpacity(0.7f);
                }

                // Muestra la ventana.
                sw.setVisible(true);
            }
        });
    }
}
                    </pre>
                </div>

                <h2>
                    <a id="6u10">La IPA de Java Versión 6 Actualización 10</a>
                </h2>
                Cambiar la IPA pública en una versión de actualización no está permitido, así que cuando la capacidad de ventanas 
                con forma y translucidad fue añadida a la versión 10 de la actualización 6 de Java SE, fue implementada en la 
                clase privada <code>com.sun.awt.AWTUtilities</code>. Para la versión del KDJ 7, esta funcionalidad fue modvida al
                paquete público de AWT. La siguiente tabla muestra cómo los métodos privados se asignan con los métodos públicos.
                <table class="celda">
                    <caption>
                        Esta tabla muestra lo que la funcionalidad de ventana translúcida y con forma en Java SE 6 Update
                        10 asigna en KDJ 7.
                    </caption>
                    <tr>
                        <th id="h1" class="celda">Método en la Actualización 10 de Java SE 6</th>
                        <th id="h2" class="celda">Equivalente en KDJ 7</th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>AWTUtilities.isTranslucencySupported(Translucency)</code></td>
                        <td headers="h2" class="celda">
                            <code>GraphicsDevice.isWindowTranslucencySupported(WindowTranslucency)</code>
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>AWTUtilities.isTranslucencyCapable(GraphicsConfiguration)</code></td>
                        <td headers="h2" class="celda"><code>GraphicsConfiguration.isTranslucencyCapable()</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>AWTUtilities.setWindowOpacity(Window, float)</code></td>
                        <td headers="h2" class="celda"><code>Window.setOpacity(float)</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>AWTUtilities.setWindowShape(Window, Shape)</code></td>
                        <td headers="h2" class="celda"><code>Window.setShape(Shape)</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>AWTUtilities.setWindowOpaque(boolean)</code></td>
                        <td headers="h2" class="celda">
                            <code>Window.setBackground(Color)</code> Pasar <code>new Color(0,0,0,alpha)</code> a este método,
                            donde <code>alpha</code> es menor que 255, instala la translucidez por pixel.
                        </td>
                    </tr>
                </table>
                <h2>
                    <a id="info">Para Más Información</a>
                </h2>
                <ul>
                    <li>
                        El artículo
                        <a class="OutsideLink" target="_blank"
                           href="http://www.oracle.com/technetwork/articles/javase/translucent-shaped-windows-139324.html">
                            Cómo crear Ventanas Translúcidas y con Formas</a> describe la IPA de la actualización 10 de Java SE 6.
                    </li>
                    <li>
                        El artículo
                        <a class="OutsideLink" target="_blank"
                           href="https://community.oracle.com/docs/DOC-983194">
                            Ventanas de Swing translúcidas y con forma</a> describe la IPA de la Actualización 10 de Java SE 6.
                    </li>
                    <li>
                        La entrada de bitácora de Romain Guy
                        <a class="OutsideLink" target="_blank"
                           href="http://www.curious-creature.org/2007/09/28/translucent-shaped-windows-extreme-gui-makeover/">
                            Criatura Curiosa</a>  muestra una demostración con una aplicación de ventana con forma y translucida.
                    </li>
                </ul>
            </div>
            <div class="NavBit">
                <a target="_top" href="desktop.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="jlayer.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio &quot;
                            Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.</p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página Anterior:</b> Cómo Integrar con la Clase Desktop<br />
            <b>Página Siguiente:</b> Cómo Decorar Componentes con la Clase JLayer
        </div>
    </body>
</html>