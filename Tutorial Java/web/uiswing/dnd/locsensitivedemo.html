<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Demostración - LocationSensitiveDemo (Los Tutoriales de Java&trade; &gt; Creando una IGU (Interfaz Gráfica de Usuario)
            con JFC/Swing &gt; Arrastrar y Soltar y Transferencia de Datos)
        </title>
        <meta name="description" content="Este tutorial de Swing Java describe el desarrollo de interfaces gráficas de usuario (GUI)
              para aplicaciones y applets que utilizan componentes Swing" />
        <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface,
              swing components, swing events, swing layout  " />
        <link rel="stylesheet" href="../../indice.css" type="text/css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Arrastrar y Soltar y Transferencia de Datos</a></div>
                <div class="linkAHEAD"><a href="intro.html">Introducción al Arrastrar y Soltar (Dnd)</a></div>
                <div class="linkAHEAD"><a href="defaultsupport.html">Soporte de DnD por Defecto</a></div>
                <div class="linkBHEAD"><a href="basicdemo.html">Demostración - BasicDnD</a></div>
                <div class="linkAHEAD"><a href="transferhandler.html">Clase TransferHandler</a></div>
                <div class="linkBHEAD"><a href="export.html">Métodos de Exportación</a></div>
                <div class="linkBHEAD"><a href="import.html">Métodos de Importación</a></div>
                <div class="linkAHEAD"><a href="transfersupport.html">Clase TransferSupport</a></div>
                <div class="linkAHEAD"><a href="dropmodes.html">Estableciendo el Modo Soltar</a></div>
                <div class="linkBHEAD"><a href="dropmodedemo.html">Demostración - DropDemo</a></div>
                <div class="linkAHEAD"><a href="dropaction.html">Eligiendo la Acción al Soltar</a></div>
                <div class="linkBHEAD"><a href="dropactiondemo.html">Demostración - ChooseDropAction</a></div>
                <div class="linkAHEAD"><a href="showdroploc.html">Mostrando la Ubicación de lo Soltado</a></div>
                <div class="linkAHEAD"><a href="locsensitivedrop.html">Soltado Sensible a la Ubicación</a></div>
                <div class="nolinkBHEAD">Demostración - LocationSensitiveDemo</div>
                <div class="linkAHEAD"><a href="emptytable.html">Soltado en una Tabla Vacía</a></div>
                <div class="linkAHEAD"><a href="droplocation.html">Renderización de la Ubicación del Soltado</a></div>
                <div class="linkAHEAD"><a href="toplevel.html">Soltado Nivel Superior</a></div>
                <div class="linkAHEAD"><a href="cutpaste.html">Añadiendo Cortar, Copiar y Pegar (CCP)</a></div>
                <div class="linkAHEAD"><a href="textpaste.html">CCP en un Componente de Texto</a></div>
                <div class="linkAHEAD"><a href="listpaste.html">CCP en un Componente No de Texto</a></div>
                <div class="linkAHEAD"><a href="dataflavor.html">Usando y Creando un DataFlavor</a></div>
                <div class="linkAHEAD"><a href="together.html">Poniéndolo todo junto - DnD y CCP</a></div>
                <div class="linkAHEAD"><a href="info.html">Información Adicional</a></div>
                <div class="linkAHEAD"><a href="problems.html">Resolviendo Problemas Comunes de Transferencia de Datos</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing<br />
                <b>Lección:</b> Arrastrar y Soltar y Transferencia de Datos<br />
                <b>Sección:</b> Soltado Sensible a la Ubicación
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Arrastrar y Soltar y Transferencia de Datos</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="locsensitivedrop.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="emptytable.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Demostración - LocationSensitiveDemo</h1>
            </div>
            <div id="PageContent">
                <p>
                    La demostración siguiente, <code>LocationSensitiveDemo</code>, muestra un <code>JTree</code> que ha sido 
                    configurado para soportar la suelta de datos en cualquier nodo excepto para uno llamado &quot;names&quot; 
                    ( y sus descendientes). Use el campo de texto en lo alto del cuadro como la fuente de arrastre (incrementará 
                    automáticamente el número de la cadena cada vez que usted arrastre desde ahí).
                </p>
                <p>
                    Un cuadro combinado debajo del árbol le permite alternar el comportamiento para mostrar la ubicación de 
                    colocación. El comportamiento por defecto de Swing es mostrar la ubicación de colocación sólo cuando el área 
                    puede aceptar la suelta de datos. Puede sobreescribir este comportamiento para que siempre muestre la ubicación 
                    de colocación (incluso si el área no puede aceptar la suelta de datos) o que nunca muestre la ubicación de 
                    colocación (incluso si el área puede aceptar la suelta de datos).
                </p>
                <p style="text-align: center">
                    <img src="../../figures/uiswing/dnd/LocationSensitiveDemo.png" width="408" height="370" class="imgbottom"
                         alt="Una captura de la demostración LocationSensitiveDemo." />
                </p>
                <div class="note">
                    <hr />
                    <strong>Intente esto:</strong>&nbsp;
                    <ol>
                        <li>
                            Pulse el botón Lanzar para ejecutar <code>LocationSensitiveDemo</code> usando
                            <a class="OutsideLink" target="_blank"
                               href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">
                                Java&trade; Web Start
                            </a> (
                            <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                descargue el KDJ 7 o posterior
                            </a>). Alternativamente, para compilar y ejecutar el ejemplo usted mismo, consulte el 
                            <a href="../examples/dnd/index.html#LocationSensitiveDemo">índice de ejemplos</a>.
                            <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/LocationSensitiveDemoProject/LocationSensitiveDemo.jnlp">
                                <img src="../../images/jws-launch-button.png" width="88" height="23" class="imgbottom"
                                     alt="Lanza el ejemplo ListDemo" />
                            </a>
                            <br />
                        </li>
                        <li>
                            Inicie un arrastre presionando en lo alto de &quot;String 0&quot; en el campo de texto y mueva el 
                            ratón una pequeña distancia. Arrastre dentro del árbol y muévase hacia abajo. Al pasar el ratón sobre 
                            la mayoría de los nodos, la aceptabilidad de arrastre se indica tanto por el cursor del ratón como por 
                            el nodo resaltado. Suelte el texto sobre el nodo &quot;colors&quot;. El nuevo item se convierte en un 
                            hijo de ese nodo y hermano de los colores enumerados.
                        </li>
                        <li>
                            Arrastre &quot;String 1&quot; desde el campo de texto dentro del árbol. Intente arrastrala sobre el 
                            nodo &quot;names&quot;. A medida que arrastra sobre ese nodo o sus hijos, Swing no proporcionará 
                            ningún comentario sobre la ubicación de la colocación y no aceptará los datos.
                            
                        </li>
                        <li>
                            Cambie el cuadro combinado &quot;Show drop location&quot; a &quot;Always&quot;.
                        </li>
                        <li>
                            Repita los pasos 1 y 2. La ubicación de colocación ahora se muestra para el nodo &quot;names&quot;, 
                            pero no puede soltar los datos en esa área.
                        </li>
                        <li>
                            Cambie el cuadro combinado &quot;Show drop location&quot; a &quot;Never&quot;.
                        </li>
                        <li>
                            Repita los pasos 1 y 2. La ubicación de colocación no se mostrará en ninguna parte del árbol, aunque 
                            puede aún soltar datos dentro de los nodos, que no sea &quot;names&quot;.
                        </li>
                    </ol>
                    <hr />
                </div>
                <p>
                    El método <code>canImport</code> para 
                    <a class="SourceLink" target="_blank"
                       href="../examples/dnd/LocationSensitiveDemoProject/src/dnd/LocationSensitiveDemo.java"
                       onclick="showCode('../../displayCode.html',
                                       '../examples/dnd/LocationSensitiveDemoProject/src/dnd/LocationSensitiveDemo.java');
                               return false;">
                        <code>LocationSensitiveDemo</code>
                    </a> se ve como esto:
                </p>
                <div class="codeblock">
                    <pre>
public boolean canImport(TransferHandler.TransferSupport info) {
    // para la demostración, solo soportaremos soltados (no pegados desde el portapapeles)
    if (!info.isDrop()) {
        return false;
    }

    String item = (String)indicateCombo.getSelectedItem();

    <b>if (item.equals("Always")) {
        info.setShowDropLocation(true);
    } else if (item.equals("Never")) {
        info.setShowDropLocation(false);
    }</b>

    // sólo importamos Strings
    if (!info.isDataFlavorSupported(DataFlavor.stringFlavor)) {
        return false;
    }

    // obtenemos la ubicación de colocación
    JTree.DropLocation dl = (JTree.DropLocation)info.getDropLocation();

    TreePath path = dl.getPath();

    // no soportamos rutas no válidas o descendientes de la carpeta names
    <b>if (path == null || namesPath.isDescendant(path)) {
        return false;
    }</b>

    return true;
}
                    </pre>
                </div>
                <p>
                    El primer trozo de código mostrado en negrita modifica el mecanismo de retroalimentación de la ubicación de 
                    colocación. Si es &quot;Always&quot;, entonces se muestra siempre la ubicación de colocación. Si es 
                    &quot;Never&quot;, nunca se muestra la ubicación de colocación. De lo contrario, se aplica el comportamiento 
                    por defecto.
                </p>
                <p>
                    El segundo trozo de código mostrado en negrita contiene la lógica que determina si el árbol aceptará los datos. 
                    Si la ruta no es una ruta válida o si ésta no es la ruta names (o sus descendientes) devolverá falso y la 
                    importación no será aceptada.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="locsensitivedrop.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="emptytable.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.</p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Soltado Sensible a la Ubicación<br />
            <b>Página siguiente:</b> Soltado en una Tabla Vacía
        </div>
    </body>
</html>