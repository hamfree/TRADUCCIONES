<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Cómo Escribir un Caret Listener (Los Tutoriales de Java&trade; &gt; Creando una IGU (Interfaz Gráfica de Usuario) &gt;
            Escribiendo Listener Events)
        </title>
        <meta name="description" content="Este tutorial de Swing Java describe el desarrollo de interfaces gráficas de usuario (GUI)
              para aplicaciones y applets que utilizan componentes Swing" />
        <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface,
              swing components, swing events, swing layout  " />
        <link rel="stylesheet" href="../../indice.css" type="text/css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Escribiendo Listener Events</a></div>
                <div class="linkAHEAD"><a href="intro.html">Introducción a los Listener Events</a></div>
                <div class="linkAHEAD"><a href="generalrules.html">Información General sobre la Escritura de Listener Events</a></div>
                <div class="linkAHEAD"><a href="eventsandcomponents.html">Listeners Soportados por los Componentes Swing</a></div>
                <div class="linkAHEAD"><a href="handling.html">Implementando Listeners para los Eventos Comunmente Manejados</a></div>
                <div class="linkBHEAD"><a href="actionlistener.html">Cómo Escribir un Action Listener</a></div>
                <div class="nolinkBHEAD">Cómo Escribir un Caret Listener</div>
                <div class="linkBHEAD"><a href="changelistener.html">Cómo Escribir un Change Listener</a></div>
                <div class="linkBHEAD"><a href="componentlistener.html">Cómo Escribir un Component Listener</a></div>
                <div class="linkBHEAD"><a href="containerlistener.html">Cómo Escribir un Container Listener</a></div>
                <div class="linkBHEAD"><a href="documentlistener.html">Cómo Escribir un Document Listener</a></div>
                <div class="linkBHEAD"><a href="focuslistener.html">Cómo Escribir un Focus Listener</a></div>
                <div class="linkBHEAD"><a href="internalframelistener.html">Cómo Escribir un Internal Frame Listener</a></div>
                <div class="linkBHEAD"><a href="itemlistener.html">Cómo Escribir un Item Listener</a></div>
                <div class="linkBHEAD"><a href="keylistener.html">Cómo Escribir un Key Listener</a></div>
                <div class="linkBHEAD"><a href="listdatalistener.html">Cómo Escribir un List Data Listener</a></div>
                <div class="linkBHEAD"><a href="listselectionlistener.html">Cómo Escribir un List Selection Listener</a></div>
                <div class="linkBHEAD"><a href="mouselistener.html">Cómo Escribir un Mouse Listener</a></div>
                <div class="linkBHEAD"><a href="mousemotionlistener.html">Cómo Escribir un Mouse-Motion Listener</a></div>
                <div class="linkBHEAD"><a href="mousewheellistener.html">Cómo Escribir un Mouse-Wheel Listener</a></div>
                <div class="linkBHEAD"><a href="propertychangelistener.html">Cómo Escribir un Property Change Listener</a></div>
                <div class="linkBHEAD"><a href="tablemodellistener.html">Cómo Escribir un Table Model Listener</a></div>
                <div class="linkBHEAD"><a href="treeexpansionlistener.html">Cómo Escribir un Tree Expansion Listener</a></div>
                <div class="linkBHEAD"><a href="treemodellistener.html">Cómo Escribir un Tree Model Listener</a></div>
                <div class="linkBHEAD"><a href="treeselectionlistener.html">Cómo Escribir un Tree Selection Listener</a></div>
                <div class="linkBHEAD"><a href="treewillexpandlistener.html">Cómo Escribir un Tree-Will-Expand Listener</a></div>
                <div class="linkBHEAD"><a href="undoableeditlistener.html">Cómo Escribir un Undoable Edit Listener</a></div>
                <div class="linkBHEAD"><a href="windowlistener.html">Cómo Escribir Window Listeners</a></div>
                <div class="linkAHEAD"><a href="api.html">Tabla del IPA de Listeners</a></div>
                <div class="linkAHEAD"><a href="problems.html">Resolviendo Problemas Comunes en el Manejo de Eventos</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing<br />
                <b>Lección:</b> Escribiendo Listener Events<br />
                <b>Sección:</b> Implementando Listeners para los Eventos Comunmente Manejados
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Escribiendo Listener Events</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="actionlistener.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="changelistener.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Cómo Escribir un Caret Listener</h1>
            </div>
            <div id="PageContent">
                <p>
                    Los eventos de caret ocurren  cuando el <em>caret</em> &mdash; el cursor que indica el punto de inserción 
                    &mdash; en un componente de texto se mueve o cuando la selección en un componente de texto cambia. Los 
                    componentes de texto del documento pueden iniciar eventos de caret cuando insertan o eliminan texto, por 
                    ejemplo. Puede adjuntar un caret listener a una instancia de cualquier subclase de <code>JTextComponent</code> 
                    con el método <code>addCaretListener</code>.
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Una forma alternativa de detectar los cambios del punto de inserción es adjuntar 
                    un listener directamente al objeto caret en sí mismo en vez de al componente de texto que gestiona el caret. Un 
                    caret dispara eventos de cambio (<em>no</em> eventos de caret), así que necesitaría escribir un 
                    <a href="changelistener.html">change listener</a> en vez de un caret listener.
                    <p>
                        Aquí tiene el código que maneja el evento caret de una aplicación llamada <code>TextComponentDemo</code>:
                    </p>
                    <div class="codeblock">
                        <pre>
...
<em>//where initialization occurs</em>
CaretListenerLabel caretListenerLabel =
    new CaretListenerLabel("Caret Status");
...
textPane.addCaretListener(caretListenerLabel);
...
protected class CaretListenerLabel extends JLabel
                                   implements CaretListener
{
    ...
    //Might not be invoked from the event dispatching thread.
    public void caretUpdate(CaretEvent e) {
        displaySelectionInfo(e.getDot(), e.getMark());
    }

    //This method can be invoked from any thread.  It
    //invokes the setText and modelToView methods, which
    //must run in the event dispatching thread. We use
    //invokeLater to schedule the code for execution
    //in the event dispatching thread.
    protected void displaySelectionInfo(final int dot,
                                        final int mark) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                if (dot == mark) {  // no selection
                    ...
                }
            });
        }
    }
}
                        </pre>
                    </div>
                    <div class="note">
                        <hr />
                        <strong>Nota:</strong>&nbsp;No se garantiza que el método <code>caretUpdate</code> sea llamado en el hilo 
                        de despacho de eventos. Para utilizar cualquier método dentro de <code>caretUpdate</code> que actualice la 
                        IGU, se requiere un manejo especial para garantizar que se ejecuten en el subproceso de despacho de 
                        eventos. Puede hacer esto envolviendo el código dentro de un <code>Runnable</code> y llamando a 
                        <code>SwingUtilities.invokeLater</code> en ese <code>Runnable</code>.
                        <hr />
                    </div>
                    <p>
                        Puede encontrar un enlace al fichero fuente para <code>TextComponentDemo</code> en el 
                        <a class="TutorialLink" target="_top"
                           href="../examples/components/index.html#TextComponentDemo">
                            índice de ejemplos para usar Componentes de Swing</a>. Para una descripción sobre el aspecto del 
                        caret listener del programa vea 
                        <a class="TutorialLink" target="_top"
                           href="../components/generaltext.html#caret">Monitorizar los Cambios de Selección y del Cursor</a> en 
                        <a class="TutorialLink" target="_top" href="../components/generaltext.html">Características del Componente 
                            de Texto</a>.
                    </p>
                    <h2>
                        <a id="api">La IPA de Caret Listener</a>
                    </h2>
                    <p style="text-align: center">
                        <a id="caretlistener">La Interfaz CaretListener</a>
                    </p>
                    <p>
                        <em>
                            Ya que <code>CaretListener</code> sólo tiene un método,  no tiene su clase adaptadorea 
                            correspondiente.
                        </em>
                    </p>
                    <table class="celda">
                        <caption>
                            Interfaz CaretListener
                        </caption>
                        <tr>
                            <th id="h1" class="izq celda">Método</th>
                            <th id="h2" class="izq celda">Propósito</th>
                        </tr>
                        <tr>
                            <td headers="h1" class="celda">
                                <a class="APILink" target="_blank"
                                   href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/CaretListener.html#caretUpdate-javax.swing.event.CaretEvent-">
                                    caretUpdate(CaretEvent)
                                </a>
                            </td>
                            <td headers="h2" class="celda">
                                Llamado cuando el caret en el componente que se está monitorizando se mueve o cuando la selección en 
                                el comoponente monitorizado cambia.
                            </td>
                        </tr>
                    </table>
                    <p style="text-align: center">
                        <a id="caretevent">La Clase CaretEvent</a>
                    </p>
                    <table class="celda">
                        <caption>
                            Clase CaretEvent
                        </caption>
                        <tr>
                            <th id="h101" class="izq celda">Método</th>
                            <th id="h102" class="izq celda">Propósito</th>
                        </tr>
                        <tr>
                            <td headers="h101" class="celda">
                                <a class="APILink" target="_blank"
                                   href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/CaretEvent.html#getDot--">
                                    int getDot()
                                </a>
                            </td>
                            <td headers="h102" class="celda">
                                Devuelve la ubicación actual del caret. Si el texto está seleccionado, el caret marca un extremo de 
                                la selección.
                            </td>
                        </tr>
                        <tr>
                            <td headers="h101" class="celda">
                                <a class="APILink" target="_blank"
                                   href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/CaretEvent.html#getMark--">
                                    int getMark()
                                </a>
                            </td>
                            <td headers="h102" class="celda">
                                Devuelve el otro extremo de la selección. Si no hay nada seleccionado, el valor devuelto por este 
                                método es igual al valor devuelto por <code>getDot</code>. Tenga en cuenta que no se garantiza que 
                                el punto sea menor que la marca.
                            </td>
                        </tr>
                        <tr>
                            <td headers="h101" class="celda">
                                <a class="APILink" target="_blank"
                                   href="https://docs.oracle.com/javase/8/docs/api/java/util/EventObject.html#getSource--">
                                    Object getSource()
                                </a>
                                <br />
                                (<em>en <code>java.util.EventObject</code></em>)
                            </td>
                            <td headers="h102" class="celda">Devuelve el objeto que disparó el evento.</td>
                        </tr>
                    </table>
                    <p>
                        <a id="eg"></a>
                    </p>
                    <h2>
                        Ejemplos que Usan Caret Listeners
                    </h2>
                    <p>
                        La tabla siguiente lista los emeplos que usan caret listeners.
                    </p>
                    <table>
                        <caption>
                            Ejemplos que usan caret listeners
                        </caption>
                        <tr style="vertical-align: top;">
                            <th id="h201" class="izq">Ejemplo</th>
                            <th id="h202" class="izq">Dónde está descrito</th>
                            <th id="h203" class="izq">Notas</th>
                        </tr>
                        <tr style="vertical-align: top;">
                            <td headers="h201">
                                <a href="../examples/components/index.html#TextComponentDemo"><code>TextComponentDemo</code></a>
                            </td>
                            <td headers="h202">
                                <a class="TutorialLink" target="_top"
                                   href="../components/generaltext.html#caret">Monitorizar los Cambios de Selección y del Cursor</a>
                            </td>
                            <td headers="h203">Usa un listener label para mostrar el caret y el estado de la selección.</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="actionlistener.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="changelistener.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.</p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Cómo Escribir un Action Listener<br />
            <b>Página siguiente:</b> Cómo Escribir un Change Listener
        </div>
    </body>
</html>