<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Cómo Escribir un Focus Listener (Los Tutoriales de Java&trade; &gt; Creando una IGU (Interfaz Gráfica de Usuario) &gt;
            Escribiendo Listener Events)
        </title>
        <meta name="description" content="Este tutorial de Swing Java describe el desarrollo de interfaces gráficas de usuario (GUI)
              para aplicaciones y applets que utilizan componentes Swing" />
        <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface,
              swing components, swing events, swing layout" />
        <link rel="stylesheet" href="../../indice.css" type="text/css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Escribiendo Listener Events</a></div>
                <div class="linkAHEAD"><a href="intro.html">Introducción a los Listener Events</a></div>
                <div class="linkAHEAD"><a href="generalrules.html">Información General sobre la Escritura de Listener Events</a></div>
                <div class="linkAHEAD"><a href="eventsandcomponents.html">Listeners Soportados por los Componentes Swing</a></div>
                <div class="linkAHEAD"><a href="handling.html">Implementando Listeners para los Eventos Comunmente Manejados</a></div>
                <div class="linkBHEAD"><a href="actionlistener.html">Cómo Escribir un Action Listener</a></div>
                <div class="linkBHEAD"><a href="caretlistener.html">Cómo Escribir un Caret Listener</a></div>
                <div class="linkBHEAD"><a href="changelistener.html">Cómo Escribir un Change Listener</a></div>
                <div class="linkBHEAD"><a href="componentlistener.html">Cómo Escribir un Component Listener</a></div>
                <div class="linkBHEAD"><a href="containerlistener.html">Cómo Escribir un Container Listener</a></div>
                <div class="linkBHEAD"><a href="documentlistener.html">Cómo Escribir un Document Listener</a></div>
                <div class="nolinkBHEAD">Cómo Escribir un Focus Listener</div>
                <div class="linkBHEAD"><a href="internalframelistener.html">Cómo Escribir un Internal Frame Listener</a></div>
                <div class="linkBHEAD"><a href="itemlistener.html">Cómo Escribir un Item Listener</a></div>
                <div class="linkBHEAD"><a href="keylistener.html">Cómo Escribir un Key Listener</a></div>
                <div class="linkBHEAD"><a href="listdatalistener.html">Cómo Escribir un List Data Listener</a></div>
                <div class="linkBHEAD"><a href="listselectionlistener.html">Cómo Escribir un List Selection Listener</a></div>
                <div class="linkBHEAD"><a href="mouselistener.html">Cómo Escribir un Mouse Listener</a></div>
                <div class="linkBHEAD"><a href="mousemotionlistener.html">Cómo Escribir un Mouse-Motion Listener</a></div>
                <div class="linkBHEAD"><a href="mousewheellistener.html">Cómo Escribir un Mouse-Wheel Listener</a></div>
                <div class="linkBHEAD"><a href="propertychangelistener.html">Cómo Escribir un Property Change Listener</a></div>
                <div class="linkBHEAD"><a href="tablemodellistener.html">Cómo Escribir un Table Model Listener</a></div>
                <div class="linkBHEAD"><a href="treeexpansionlistener.html">Cómo Escribir un Tree Expansion Listener</a></div>
                <div class="linkBHEAD"><a href="treemodellistener.html">Cómo Escribir un Tree Model Listener</a></div>
                <div class="linkBHEAD"><a href="treeselectionlistener.html">Cómo Escribir un Tree Selection Listener</a></div>
                <div class="linkBHEAD"><a href="treewillexpandlistener.html">Cómo Escribir un Tree-Will-Expand Listener</a></div>
                <div class="linkBHEAD"><a href="undoableeditlistener.html">Cómo Escribir un Undoable Edit Listener</a></div>
                <div class="linkBHEAD"><a href="windowlistener.html">Cómo Escribir Window Listeners</a></div>
                <div class="linkAHEAD"><a href="api.html">Tabla del IPA de Listeners</a></div>
                <div class="linkAHEAD"><a href="problems.html">Resolviendo Problemas Comunes en el Manejo de Eventos</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing<br />
                <b>Lección:</b> Escribiendo Listener Events<br />
                <b>Sección:</b> Implementando Listeners para los Eventos Comunmente Manejados
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Escribiendo Listener Events</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="documentlistener.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="internalframelistener.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Cómo Escribir un Focus Listener</h1>
            </div>
            <div id="PageContent">
                <p>
                    Los eventos de foco se disparan cuando un componente gana o pierde el foco del teclado. Esto es verdad si el 
                    cambio en el foco ocurre a través del ratón, el teclado, o mediante programación. Para familiarizarse con los 
                    conceptos básicos de enfoque u obtener información detallada sobre el enfoque, consulte
                    <a class="TutorialLink" target="_top" href="../misc/focus.html">Cómo Usar el Subsistema de Foco</a>.
                </p>
                <p>
                    Esta sección explica cómo obtener eventos de foco para un componente particular registrando una instancia de 
                    <code>FocusListener</code> para él. Para obtener el foco para sólo una ventana, implemente una instancia de 
                    <a href="windowlistener.html"><code>WindowFocusListener</code></a> en su lugar. Para obtener el estado del foco 
                    de muchos componentes, considere implementar una instancia de <code>PropertyChangeListener</code> en la clase 
                    <code>KeyboardFocusManager</code>, como se describió en 
                    <a class="TutorialLink" target="_top" href="../misc/focus.html#trackingFocus">
                        Seguimiento de los Cambios de Enfoque a Varios Componentes</a> en
                    <a class="TutorialLink" target="_top" href="../misc/focus.html">Cómo Usar el Subsistema de Foco</a>.
                </p>
                <p>
                    El ejemplo siguiente demuestra los eventos de foco. La ventana muestra una variedad de componentes. Un 
                    focus listener, registrado en cada componete, informa de cada evento de foco-ganado y foco-perdido. Para cada 
                    evento, se informa del otro componente involucrado en el cambio de enfoque,  el <em>componente opuesto</em>.
                    Por ejemplo, cuando el enfoque va desde un botón a un campo de texto, se dispara un evento de foco-perdido por 
                    el botón (con el campo de texto como componente opuesto) y entonces se dispara un evento de foco-gando por 
                    el campo de texto (con el botón como componente opuesto). Los eventos de pérdida de foco y también los de 
                    ganancia de foco pueden ser temporales. Por ejemplo un evento temporal de pérdida de foco ocurre cuando la 
                    ventana pierde el foco. Un evento de ganancia de foco temporal ocurre en los menús emergentes.
                </p>
                <p style="text-align: center">
                    <img src="../../figures/uiswing/events/FocusEventDemoWindow.png" width="458" height="324" class="imgbottom"
                         alt="La ventana de eventos de enfoque, que muestra los eventos que se activan cuando cambia el enfoque del 
                         teclado." />
                </p>
                <h2>Ejecutar el Ejemplo</h2>
                <ol>
                    <li>
                        Pulse el botón Lanzar para ejecutar FocusEventDemo usando
                        <a class="OutsideLink" target="_blank" 
                           href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">
                            Java&trade; Web Start</a> (
                        <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                            descargue KDJ 7 o posterior</a>). Alternativamente, para compilar y ejecutar el ejemplo por sí mismo, 
                        consulte el 
                        <a href="../examples/events/index.html#FocusEventDemo">índice de ejemplos</a>.
                        <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/FocusEventDemoProject/FocusEventDemo.jnlp">
                            <img src="../../images/jws-launch-button.png" width="88" class="imgbottom"
                                 alt="Lanza la aplicación FocusEventDemo" /></a>
                        <br />
                    </li>
                    <li>
                        Verá un mensaje &quot;Focus gained: JTextField&quot; en el área de texto ??? su &quot;componente 
                        opuesto&quot; es nulo, ya que éste es el primer componente en tener el foco.
                    </li>
                    <li>
                        Pulse la etiqueta. Nada ocurre porque la etiqueta, por defecto, no puede obtener el foco.
                    </li>
                    <li>
                        Pulse el cuadro combinado. Un evento de foco-perdido se dispara por un campo de texto y un evento de 
                        foco-ganado por el cuadro combinado. El cuadro combinado ahora muestra que tiene el enfoque, quizás con 
                        una línea punteada alrededor del texto ??? exactamente como esto se representa depende del Aspecto y 
                        Sensación.
                        <br />
                        Note que cuando el foco cambia de un componente a otro, el primer componente dispara un evento de 
                        foco-perdido antes de que el segundo componente dispare un evento de foco-ganado.
                    </li>
                    <li>
                        Selecciona una elección desde el menú del cuadro combinado. Pulse el cuadro combinado de nuevo. Note que no 
                        se informa de evento de foco. Mientras el usuario manipule el mismo componente, el foco se mantendrá en 
                        ese componente.
                    </li>
                    <li>
                        Pulse el área de texto donde los eventos de foco se imprimen. Nada ocurre porque el área de texto ha sido 
                        representado como imposible de hacer click con <code>setRequestFocusEnabled(false)</code>.
                    </li>
                    <li>
                        Pulse el campo de texto para devolver el foco al componente inicial.
                    </li>
                    <li>
                        Presion el tabulador en el teclado. El foco se mueve al cuadro combinado y se salta la etiqueta.

                    </li>
                    <li>
                        Presione el tabulador de nuevo. El foco se mueve al botón.
                    </li>
                    <li>
                        Pulse otra ventana de forma que la ventana FocusEventDemo pierda el foco. Se genera un evento temporal de 
                        pérdida de foco generado por el botón.
                    </li>
                    <li>
                        Pulse en la parte alta de la ventana FocusEventDemo. Un evento de foco-ganado se dispara por el botón.
                        Click the top of the FocusEventDemo window. 
                    </li>
                    <li>
                        Presione tabulador en el teclado. El foco se mueva a la lista.
                    </li>
                    <li>
                        Presione tabulador de nuevo. El foco se mueve al área de texto.
                        <br />
                        Note que incluso aunque no se le permite a pulsar en el área de texto, puede usar la tabulación. Esto es 
                        así para que los usuarios que utilizan las 
                        <a class="TutorialLink" target="_top" href="../misc/access.html">tecnologías de asistencia</a> puedan 
                        determinar que un componente está ahí y lo que contiene. La demostración deshabilita el click para enfocar 
                        para el área de texto, mientras conserva su capacidad de tabulación para enfocar, invocando a  
                        <code>setRequestFocusEnabled(false)</code> en el área de texto. La demostración podría usar 
                        <code>setFocusable(false)</code> para eliminar realmente el área de texto del ciclo de enfoque, pero eso 
                        tendría el efecto desafortunado de hacer el componente no disponible para aquellos que usan las tecnologías 
                        de asistencia.
                    </li>
                    <li>
                        Presione el tabulador de nuevo. El foco se mueve desde la lista de vuelta al campo de texto. Acaba de 
                        completar un <em>ciclo de enfoque</em>. Vea la 
                        <a class="TutorialLink" target="_top" href="../misc/focus.html#intro">introducción</a> en 
                        <a class="TutorialLink" target="_top" href="../misc/focus.html">Cómo Usar el Subistema de Foco</a> para 
                        una descripción de los conceptos y terminología del enfoque.
                    </li>
                </ol>
                <p>
                    El código completo para esta demostración está en el fichero 
                    <a class="SourceLink" target="_blank"
                       href="../examples/events/FocusEventDemoProject/src/events/FocusEventDemo.java"
                       onclick="showCode('../../displayCode.html',
                                       '../examples/events/FocusEventDemoProject/src/events/FocusEventDemo.java');
                               return false;">
                        <code>FocusEventDemo.java</code></a>. El trozo de código siguiente representa el mecanismo del manejo del 
                    evento de enfoque:
                </p>
                <div class="codeblock">
                    <pre>
public class FocusEventDemo ... implements FocusListener ... {
    public FocusEventDemo() {
        ...
        JTextField textField = new JTextField("A TextField");
        textField.addFocusListener(this);
        ...
        JLabel label = new JLabel("A Label");
        label.addFocusListener(this);
        ...
        JComboBox comboBox = new JComboBox(vector);
        comboBox.addFocusListener(this);
        ...
        JButton button = new JButton("A Button");
        button.addFocusListener(this);
        ...
        JList list = new JList(listVector);
        list.setSelectedIndex(1); //It's easier to see the focus change
                                  //if an item is selected.
        list.addFocusListener(this);
        JScrollPane listScrollPane = new JScrollPane(list);

        ...

        //Set up the area that reports focus-gained and focus-lost events.
        display = new JTextArea();
        display.setEditable(false);
        //The method setRequestFocusEnabled prevents a
        //component from being clickable, but it can still
        //get the focus through the keyboard - this ensures
        //user accessibility.
        display.setRequestFocusEnabled(false);
        display.addFocusListener(this);
        JScrollPane displayScrollPane = new JScrollPane(display);

        ...
    }
    ...
    public void focusGained(FocusEvent e) {
        displayMessage("Focus gained", e);
    }

    public void focusLost(FocusEvent e) {
        displayMessage("Focus lost", e);
    }

    void displayMessage(String prefix, FocusEvent e) {
        display.append(prefix
                       + (e.isTemporary() ? " (temporary):" : ":")
                       +  e.getComponent().getClass().getName()
                       + "; Opposite component: "
                       + (e.getOppositeComponent() != null ?
                          e.getOppositeComponent().getClass().getName() : "null")
                       + newline);
    }
    ...
}
                    </pre>
                </div>
                <h2>
                    <a id="api">La IPA de Focus Listener</a>
                </h2>
                <p style="text-align: center">
                    <a id="focuslistener">El Interfaz de FocusListener</a>
                </p>
                <p>
                    <em>La clase adaptadora correspondiente es
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/event/FocusAdapter.html">
                            <code>FocusAdapter</code></a>.
                    </em>
                </p>
                <table class="celda">
                    <caption>Interfaz FocusListener</caption>
                    <tr>
                        <th id="h1" class="izq celda">Método</th>
                        <th id="h2" class="izq celda">Propósito</th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/awt/event/FocusListener.html#focusGained-java.awt.event.FocusEvent-">
                                focusGained(FocusEvent)
                            </a>
                        </td>
                        <td headers="h2" class="celda">
                            Llamada justo después de que el componente monitorizado obtenga el enfoque.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/awt/event/FocusListener.html#focusLost-java.awt.event.FocusEvent-">
                                focusLost(FocusEvent)
                            </a>
                        </td>
                        <td headers="h2" class="celda">
                            Llamado justo después de que el componente monitorizado pierda el enfoque.
                        </td>
                    </tr>
                </table>
                <p style="text-align: center">
                    <a id="focusevent">La IPA de FocusEvent</a>
                </p>
                <table class="celda">
                    <caption>La IPA de FocusEvent</caption>
                    <tr>
                        <th id="h101" class="izq celda">Método</th>
                        <th id="h102" class="izq celda">Propósito</th>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/awt/event/FocusEvent.html#isTemporary--">
                                boolean isTemporary()
                            </a>
                        </td>
                        <td headers="h102" class="celda">
                            Devuelve el valor true si un evento de pérdida o ganancia de foco es temporal.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/awt/event/ComponentEvent.html#getComponent--">
                                Component getComponent()
                            </a>
                            <br />
                            (<em>in <code>java.awt.event.ComponentEvent</code></em>)
                        </td>
                        <td headers="h102" class="celda">Devuelve el componente que disparó el evento de enfoque.</td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/awt/event/FocusEvent.html#getOppositeComponent--">
                                Component getOppositeComponent()
                            </a>
                        </td>
                        <td headers="h102" class="celda">
                            Devuelve el otro componente involucrado en el cambio de enfoque. Para un evento 
                            <code>FOCUS_GAINED</code>, este es el componente que pierde el enfoque. Para un evento 
                            <code>FOCUS_LOST</code>, este es el componente que ganó el enfoque. Si el cambio de enfoque involucra a 
                            una aplicación nativa, un aplicación Java en una MV diferente o contexto, o no hay otro componente, 
                            entoces se devuelve <code>null</code>.
                        </td>
                    </tr>
                </table>
                <h2>
                    <a id="eg">Ejemplos que Usan Focus Listeners</a>
                </h2>
                <p>
                    La tabla siguiente lista los ejemplos que usan focus listeners.
                </p>
                <table>
                    <caption>Ejemplos que Usan Focus Listeners
                    </caption>
                    <tr>
                        <th id="h201" class="izq">Ejemplos</th>
                        <th id="h202" class="izq">Dónde está descrito</th>
                        <th id="h203" class="izq">Notas</th>
                    </tr>
                    <tr>
                        <td headers="h201">
                            <a href="../examples/events/index.html#FocusEventDemo"><code>FocusEventDemo</code></a>
                        </td>
                        <td headers="h202">Esta Sección</td>
                        <td headers="h203">
                            Informa de todos los eventos de enfoque que ocurren en varios componentes para demostrar las 
                            circunstancias bajo las cuales se disparan los eventos de enfoque.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h201">
                            <a class="TutorialLink" target="_top" 
                               href="../examples/misc/index.html#TrackFocusDemo">
                                <code>TrackFocusDemo</code>
                            </a>
                        </td>
                        <td headers="h202">
                            <a class="TutorialLink" target="_top" href="../misc/focus.html">Cómo Usar el Subsistema de Foco</a>
                        </td>
                        <td headers="h203">
                            El componente personalizado, 
                            <a class="TutorialLink" target="_top"
                               href="../examples/misc/TrackFocusDemoProject/src/misc/Picture.java">
                                <code>Picture</code></a>, implementa un focus listener par dibujar un borde rojo alrededor del 
                                componente cuando es el propietario del foco actual.
                        </td>
                    </tr>
                </table>
            </div>
            <div class="NavBit">
                <a target="_top" href="documentlistener.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="internalframelistener.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.</p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Cómo Escribir un Document Listener<br />
            <b>Página siguiente:</b> Cómo Escribir un Internal Frame Listener
        </div>
    </body>
</html>