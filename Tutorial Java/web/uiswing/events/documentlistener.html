<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Cómo Escribir un Document Listener (Los Tutoriales de Java&trade; &gt; Creando una IGU (Interfaz Gráfica de Usuario) &gt;
            Escribiendo Listener Events)
        </title>
        <meta name="description" content="Este tutorial de Swing Java describe el desarrollo de interfaces gráficas de usuario (GUI)
              para aplicaciones y applets que utilizan componentes Swing" />
        <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface,
              swing components, swing events, swing layout" />
        <link rel="stylesheet" href="../../indice.css" type="text/css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Escribiendo Listener Events</a></div>
                <div class="linkAHEAD"><a href="intro.html">Introducción a los Listener Events</a></div>
                <div class="linkAHEAD"><a href="generalrules.html">Información General sobre la Escritura de Listener Events</a></div>
                <div class="linkAHEAD"><a href="eventsandcomponents.html">Listeners Soportados por los Componentes Swing</a></div>
                <div class="linkAHEAD"><a href="handling.html">Implementando Listeners para los Eventos Comunmente Manejados</a></div>
                <div class="linkBHEAD"><a href="actionlistener.html">Cómo Escribir un Action Listener</a></div>
                <div class="linkBHEAD"><a href="caretlistener.html">Cómo Escribir un Caret Listener</a></div>
                <div class="linkBHEAD"><a href="changelistener.html">Cómo Escribir un Change Listener</a></div>
                <div class="linkBHEAD"><a href="componentlistener.html">Cómo Escribir un Component Listener</a></div>
                <div class="linkBHEAD"><a href="containerlistener.html">Cómo Escribir un Container Listener</a></div>
                <div class="nolinkBHEAD">Cómo Escribir un Document Listener</div>
                <div class="linkBHEAD"><a href="focuslistener.html">Cómo Escribir un Focus Listener</a></div>
                <div class="linkBHEAD"><a href="internalframelistener.html">Cómo Escribir un Internal Frame Listener</a></div>
                <div class="linkBHEAD"><a href="itemlistener.html">Cómo Escribir un Item Listener</a></div>
                <div class="linkBHEAD"><a href="keylistener.html">Cómo Escribir un Key Listener</a></div>
                <div class="linkBHEAD"><a href="listdatalistener.html">Cómo Escribir un List Data Listener</a></div>
                <div class="linkBHEAD"><a href="listselectionlistener.html">Cómo Escribir un List Selection Listener</a></div>
                <div class="linkBHEAD"><a href="mouselistener.html">Cómo Escribir un Mouse Listener</a></div>
                <div class="linkBHEAD"><a href="mousemotionlistener.html">Cómo Escribir un Mouse-Motion Listener</a></div>
                <div class="linkBHEAD"><a href="mousewheellistener.html">Cómo Escribir un Mouse-Wheel Listener</a></div>
                <div class="linkBHEAD"><a href="propertychangelistener.html">Cómo Escribir un Property Change Listener</a></div>
                <div class="linkBHEAD"><a href="tablemodellistener.html">Cómo Escribir un Table Model Listener</a></div>
                <div class="linkBHEAD"><a href="treeexpansionlistener.html">Cómo Escribir un Tree Expansion Listener</a></div>
                <div class="linkBHEAD"><a href="treemodellistener.html">Cómo Escribir un Tree Model Listener</a></div>
                <div class="linkBHEAD"><a href="treeselectionlistener.html">Cómo Escribir un Tree Selection Listener</a></div>
                <div class="linkBHEAD"><a href="treewillexpandlistener.html">Cómo Escribir un Tree-Will-Expand Listener</a></div>
                <div class="linkBHEAD"><a href="undoableeditlistener.html">Cómo Escribir un Undoable Edit Listener</a></div>
                <div class="linkBHEAD"><a href="windowlistener.html">Cómo Escribir Window Listeners</a></div>
                <div class="linkAHEAD"><a href="api.html">Tabla del IPA de Listeners</a></div>
                <div class="linkAHEAD"><a href="problems.html">Resolviendo Problemas Comunes en el Manejo de Eventos</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing<br />
                <b>Lección:</b> Escribiendo Listener Events<br />
                <b>Sección:</b> Implementando Listeners para los Eventos Comunmente Manejados
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Creando una IGU (Interfaz Gráfica de Usuario) con JFC/Swing</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Escribiendo Listener Events</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="containerlistener.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="focuslistener.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Cómo Escribir un Document Listener</h1>
            </div>
            <div id="PageContent">
                <p>
                    Un componente de texto de Swing usa un 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Document.html">
                        <code>Document</code>
                    </a> para representar su contenido. Los eventos de documento ocurren cuando el contenido de un documento varía 
                    de cualquier forma. Usted enlaza un document lister al documento de un componente de texto, en vez de al 
                    componente de texto en sí mismo. Vea 
                    <a class="TutorialLink" target="_top" href="../components/generaltext.html#filter">
                        Implementar un Filtro de Documento</a> para más información.
                </p>
                <p>
                    El ejemplo siguiente demuestra los eventos de documento en dos componentes de texto plano.
                </p>
                <p style="text-align: center">
                    <img src="../../figures/uiswing/events/DocumentEventDemo.png" width="414" height="214" class="imgbottom"
                         alt="Esta captura de pantalla demuestra la salida del ejemplo DocumentEventDemo." />
                </p>
                <div class="note">
                    <hr />
                    <strong>Intente esto:</strong>&nbsp;
                    <ol>
                        <li>
                             Pulse el botón Lanzar para ejecutar DocumentEventDemo usando
                            <a class="OutsideLink" target="_blank"
                               href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">
                                Java&trade; Web Start
                            </a> (<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">descargue KDJ 7 o 
                                posterior</a>). Alternativamente, para compilar y ejecutar el ejemplo por sí mismo, consulte el 
                            <a href="../examples/events/index.html#Beeper">índice de ejemplos</a>.
                            <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/DocumentEventDemoProject/DocumentEventDemo.jnlp">
                                <img src="../../images/jws-launch-button.png" width="88" height="23" class="imgbottom"
                                     alt="Lanza el ejemplo DocumentEventDemo" />
                            </a>
                            <br />
                        </li>
                        <li>
                            Teclee en el campo de texto en la parte más alta izquierda de la ventana o en el area de texto debajo 
                            del campo de texto.
                            <br />
                            Se dispara un evento de documento por cada carácter tecleado.
                        </li>
                        <li>
                            Borre el texto con la tecla de retroceso.
                            <br />
                            Un evento de documento se dispara por cada tecla de retroceso tecleada.
                        </li>
                        <li>
                            Seleccione el texto y entonces bórrelo tecleando retroceso o usando un comando de teclado tal como 
                            <code>CTRL-X</code> (cortar).
                            <br />
                            Se dispara un evento de documento por el borrado entero.
                        </li>
                        <li>
                            Copie el texto de un componente de texto al otro usando comandos de teclado tales como 
                            <code>CTRL-C</code> (copiar) y <code>CTRL-V</code> (pegar).
                            <br />
                            Se dispara un evento de documento para la toda la operación de pegado, independientemente de la 
                            longitud del texto pegado. Si el texto es seleccionado en el componente de texto de destino antes de 
                            que se emita el comando de pegado, se dispara un evento de documento adicional ya que el texto 
                            seleccionado es borrado primero.
                        </li>
                    </ol>
                    <hr />
                </div>
                <p>
                    Puede encontrar el código de la demostración en 
                    <a class="SourceLink" target="_blank"
                       href="../examples/events/DocumentEventDemoProject/src/events/DocumentEventDemo.java"
                       onclick="showCode('../../displayCode.html',
                                       '../examples/events/DocumentEventDemoProject/src/events/DocumentEventDemo.java');
                               return false;">
                        <code>DocumentEventDemo.java</code>
                    </a>. Aquí está el código de la gestión del evento de documento de la demostración:
                </p>
                <div class="codeblock">
                    <pre>
public class DocumentEventDemo ... {
    <em>...//where initialization occurs:</em>
    textField = new JTextField(20);
    textField.addActionListener(new MyTextActionListener());
    textField.getDocument().addDocumentListener(new MyDocumentListener());
    textField.getDocument().putProperty("name", "Text Field");

    textArea = new JTextArea();
    textArea.getDocument().addDocumentListener(new MyDocumentListener());
    textArea.getDocument().putProperty("name", "Text Area");
    ...

class MyDocumentListener implements DocumentListener {
    String newline = "\n";

    public void insertUpdate(DocumentEvent e) {
        updateLog(e, "inserted into");
    }
    public void removeUpdate(DocumentEvent e) {
        updateLog(e, "removed from");
    }
    public void changedUpdate(DocumentEvent e) {
        //Plain text components do not fire these events
    }

    public void updateLog(DocumentEvent e, String action) {
        Document doc = (Document)e.getDocument();
        int changeLength = e.getLength();
        displayArea.append(
            changeLength + " character" +
            ((changeLength == 1) ? " " : "s ") +
            action + doc.getProperty("name") + "." + newline +
            "  Text length = " + doc.getLength() + newline);
    }
}
                    </pre>
                </div>
                <p>
                    Los document listeners no deben modificar el contenido del documento; El cambio ya está completo para cuando el 
                    listener es notificado del cambio. En su lugar, escriba un documento personalizado que sobreescriba los métodos
                     <code>insertString</code> o <code>remove</code>, o ambos. Vea 
                    <a class="TutorialLink" target="_top"
                       href="../components/generaltext.html#doclisteners">Monitorizar Cambios en un Documento</a> para los detalles.
                </p>
                <h2>
                    <a id="api">La IPA de Document Listener</a>
                </h2>
                <p style="text-align: center">
                    <a id="documentlistener">El Interfaz de DocumentListener</a>
                </p>
                <p>
                    <em><code>DocumentListener</code> no tiene clase adaptadora.</em>
                </p>
                <table class="celda">
                    <caption>Interfaz de DocumentListener
                    </caption>
                    <tr>
                        <th id="h1" class="izq celda">Método</th>
                        <th id="h2" class="izq celda">Propósito</th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentListener.html#changedUpdate-javax.swing.event.DocumentEvent-">
                                changedUpdate(DocumentEvent)</a>
                        </td>
                        <td headers="h2" class="celda">
                            Llamado cuando el estilo de algunos de los textos en el documento monitorizado cambia. Esta clase de 
                            evento se dispara sólo desde un <code>StyledDocument</code> &mdash; un <code>PlainDocument</code> no 
                            dispara estos eventos.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentListener.html#insertUpdate-javax.swing.event.DocumentEvent-">
                                insertUpdate(DocumentEvent)
                            </a>
                        </td>
                        <td headers="h2" class="celda">Llamado cuando se inserta texto en el documento monitorizado.</td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentListener.html#removeUpdate-javax.swing.event.DocumentEvent-">
                                removeUpdate(DocumentEvent)
                            </a>
                        </td>
                        <td headers="h2" class="celda">Llamado cuando el texto es eliminado del documento monitorizado.</td>
                    </tr>
                </table>
                <p style="text-align: center">
                    <a id="documentevent">El Interfaz DocumentEvent</a>
                </p>
                <p>
                    A cada método de evento de documento se le pasa un objeto que implement el interfaz <code>DocumentEvent</code>.
                    Normalmente, esta es una instancia de 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/javax/swing/text/AbstractDocument.DefaultDocumentEvent.html">
                        <code>DefaultDocumentEvent</code></a>, definida en <code>AbstractDocument</code>.
                </p>
                <table class="celda">
                    <caption>Interfaz de DocumentEvent</caption>
                    <tr>
                        <th id="h101" class="izq celda">Método</th>
                        <th id="h102" class="izq celda">Propósito</th>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.html#getDocument--">
                                Document getDocument()
                            </a>
                        </td>
                        <td headers="h102" class="celda">
                            Devuelve el documento que disparó el evento. Note que el interfaz <code>DocumentEvent</code> no hereda 
                            de <code>EventObject</code>. Por lo tanto, no hereda el método <code>getSource</code>.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.html#getLength--">
                                int getLength()
                            </a>
                        </td>
                        <td headers="h102" class="celda">Devuelve la longitud del cambio.</td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.html#getOffset--">
                                int getOffset()
                            </a>
                        </td>
                        <td headers="h102" class="celda">
                            Devuelve la ubicación dentro del documento del primer caracter cambiado.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.html#getChange-javax.swing.text.Element-">
                                ElementChange getChange(Element)</a>
                        </td>
                        <td headers="h102" class="celda">
                            Devuelve detalles sobre qué elementos en el documento han cambiado y cómo.
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.ElementChange.html">
                                <code>ElementChange</code></a> es un interfaz definido en el interfaz <code>DocumentEvent</code>.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.html#getType--">
                                EventType getType()
                            </a>
                        </td>
                        <td headers="h102" class="celda">
                            Devuelve el tipo de un cambio que ocurrió.
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentEvent.EventType.html">
                                <code>EventType</code></a> es una clase definida dentro de la interfaz <code>DocumentEvent</code> 
                                que enumera los posibles cambios que pueden ocurrir en un documento: insertar texto, eliminar 
                                texto, y cambios del estilo de texto.
                        </td>
                    </tr>
                </table>
                <p>
                    <a id="eg"></a>
                </p>
                <h2>
                    Ejemplos que Usan Document Listeners
                </h2>
                <p>
                    La tabla siguiente lista los ejemplos que usan document listeners.
                </p>
                <table>
                    <caption>Ejemplos que usan document listeners
                    </caption>
                    <tr>
                        <th id="h201" class="izq">Ejemplo</th>
                        <th id="h202" class="izq">Dónde está descrito</th>
                        <th id="h203" class="izq">Notas</th>
                    </tr>
                    <tr style="vertical-align: top;">
                        <td headers="h201">
                            <a href="../examples/events/index.html#DocumentEventDemo"><code>DocumentEventDemo</code></a>
                        </td>
                        <td headers="h202">Esta sección</td>
                        <td headers="h203">
                            Informa de todos los eventos de documneto que ocurren en los documentos tanto para el campo de texto 
                            como el área de texto. Un listener escucha a amobos componentes de texto y usa una propiedad del 
                            cliente en el documento para determina qué componente disparó el evento.
                        </td>
                    </tr>
                    <tr style="vertical-align: top;">
                        <td headers="h201">
                            <a href="../examples/components/index.html#TextComponentDemo"><code>TextComponentDemo</code></a>
                        </td>
                        <td headers="h202">
                            <a class="TutorialLink" target="_top" href="../components/generaltext.html#doclisteners">
                                Monitorizar Cambios en un Documento</a>
                        </td>
                        <td headers="h203">
                            Actualiza un registro de cambios cada vez que cambia el texto del documento monitorizado. El documento 
                            en este ejemplo admite texto con estilo, por lo que en este ejemplo se llama a 
                            <code>changedUpdate</code>. Requiere este archivo fuente adicional:
                            <a href="../examples/components/index.html#DocumentSizeFilter"><code>DocumentSizeFilter</code></a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="NavBit">
                <a target="_top" href="containerlistener.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="focuslistener.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.</p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Cómo Escribir un Container Listener<br />
            <b>Página siguiente:</b> Cómo Escribir un Focus Listener
        </div>
    </body>
</html>