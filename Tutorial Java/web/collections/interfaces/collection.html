<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        <title>El Interfaz Collection (Los Tutoriales de Java&trade; &gt; Colecciones &gt; Interfaces)</title>
        <meta name="description" content="Este tutorial de Java sobre colecciones describe los interfaces, implementaciones, y
              algoritmos en el marco de trabajo de Colecciones de Java" />
        <meta name="keywords" content="programacion java , aprender java, codigo de ejemplo de java, colecciones de java,
              set, list, queue, map, array, arraylist" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Interfaces</a></div>
                <div class="nolinkAHEAD">La Interfaz Collection</div>
                <div class="linkAHEAD"><a href="set.html">La Interfaz Set</a></div>
                <div class="linkAHEAD"><a href="list.html">La Interfaz List</a></div>
                <div class="linkAHEAD"><a href="queue.html">La Interfaz Queue</a></div>
                <div class="linkAHEAD"><a href="deque.html">La Interfaz Deque</a></div>
                <div class="linkAHEAD"><a href="map.html">La Interfaz Map</a></div>
                <div class="linkAHEAD"><a href="order.html">Ordenación de Objetos</a></div>
                <div class="linkAHEAD"><a href="sorted-set.html">La Interfaz SortedSet</a></div>
                <div class="linkAHEAD"><a href="sorted-map.html">La Interfaz SortedMap</a></div>
                <div class="linkAHEAD"><a href="summary.html">Sumario de Interfaces</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Colecciones<br />
                <b>Lección:</b> Interfaces
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Colecciones</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Interfaces</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="set.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>La Interfaz Collection</h1>
            </div>
            <div id="PageContent">
                <p>
                    Una
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html">
                        <code>Collection</code>
                    </a> representa un grupo de objetos conocidos como sus elementos. El interfaz <code>Collection</code>
                    es usado para pasar colecciones de objetos donde se desea máxima generalidad. Por ejemplo, por convención todas
                    las implementaciones de collection de propósito general tienen un constructor que toma un argumento
                    <code>Collection</code>. Este constructor, conocido como un <i>constructor de conversión</i>, inicializa la
                    nueva colección para que contenga todos los elementos en la colección especificada, cualquiera que sea el
                    subinterfaz o tipo de implementación de la colección dada. En otras palabras, le permite <i>convertir</i> el
                    tipo de la colección.
                </p>
                <p>
                    Suponga, por ejemplo, que tiene una <code>Collection&lt;String&gt; c</code>, la cual puede ser una
                    <code>List</code>, un <code>Set</code>, u otra clase de <code>Collection</code>. Este idioma crea una nueva
                    <code>ArrayList</code> (una implementación de la interfaz <code>List</code>), inicialmente conteniendo todos
                    los elementos en <code>c</code>.
                </p>
                <div class="codeblock">
                    <pre>
List&lt;String&gt; list = new ArrayList&lt;String&gt;(c);
                    </pre>
                </div>
                O &mdash; si está usando el KDD 7 o posterior &mdash; puede usar el operador diamante:
                <div class="codeblock">
                    <pre>
List&lt;String&gt; list = new ArrayList&lt;&gt;(c);
                    </pre>
                </div>
                <p>
                    El interfaz <code>Collection</code> contiene métodos que realiza operaciones básicias, tales como
                    <code>int size()</code>, <code>boolean isEmpty()</code>,
                    <code>boolean contains(Object element)</code>, <code>boolean add(E element)</code>,
                    <code>boolean remove(Object element)</code>, e <code>Iterator&lt;E&gt; iterator()</code>.
                </p>
                <p>
                    También contiene métodos que opera sobre colecciones enteras, tales como
                    <code>boolean containsAll(Collection&lt;?&gt; c)</code>,
                    <code>boolean addAll(Collection&lt;? extends E&gt; c)</code>,
                    <code>boolean removeAll(Collection&lt;?&gt; c)</code>, <code>boolean retainAll(Collection&lt;?&gt; c)</code>,
                    y <code>void clear()</code>.
                </p>
                <p>
                    Métodos adicionales para operaciones de matriz (tales como <code>Object[] toArray()</code> y
                    <code>&lt;T&gt; T[] toArray(T[] a)</code> existen también.
                </p>
                <p>
                    En el KDD 8 y posteriores, el interfaz <code>Collection</code> también expone métodos
                    <code>Stream&lt;E&gt; stream()</code> y <code>Stream&lt;E&gt; parallelStream()</code>, para obtener flujos
                    secuenciales o paralelos desde la colección subyacente. (Vea la lección titulada
                    <a class="TutorialLink" target="_top"
                       href="../../collections/streams/index.html">Operaciones Agregadas</a> para más información sobre el uso de
                    flujos).
                </p>
                <p>
                    El interfaz <code>Collection</code> hace lo que esperaría dado que una <code>Collection</code> representa un
                    grupo de objetos. Tiene métodos que le dicen cuantos elementos están en la colección (<code>size</code>,
                    <code>isEmpty</code>), métodos que comprueban si un objeto dado está en la colección (<code>contains</code>),
                    métodos que agregan y eliminan un elemento desde la colección (<code>add</code>,
                    <code>remove</code>), y métodos que ofrecen un iterador sobre la colección (<code>iterator</code>).
                </p>
                <p>
                    El método <code>add</code> se define generalmente lo suficiente como para que tenga sentido para las
                    colecciones que permiten duplicados, así como los que no lo hacen. Esto garantiza que la
                    <code>Collection</code> contendrá el elemento especificado después de que se complete la llamada, y devuelve
                    <code>true</code> si la <code>Collection</code> cambia como resultado de la llamada. Similarmente, el método
                    <code>remove</code> se diseña para eliminar una instancia única del elemento especificado desde la
                    <code>Collection</code>, asumiendo que contenga el elemento para comenzar, y para devolver <code>true</code>
                    si la <code>Collection</code> fue modificada como resultado.
                    <a id="Traversing"></a>
                </p>
                <h2>Atravesar Colecciones</h2>
                <p>
                    Hay tres formas de recorrer colecciones: (1) usar operaciones agregadas (2) con el constructo 
                    <code>for-each</code> y (3) usando <code>Iterator</code>s. <a id="ForEach"></a>
                </p>
                <h3>Operaciones Agregadas</h3>
                <p>
                    En KDD 8 y posteriores, el método prefereido de iterar sobre una colección es obtener un flujo y realizar 
                    operaciones agregadas sobre él. Las operaciones agregadas son a menudo usadas en conjunción con expresiones
                    lambda para hacer la programación más expresiva, usando menos líneas de código. El código siguiente itera
                    secuencialmente a traves de una colección de figuras e imprime los objetos rojos:
                </p>
                <div class="codeblock">
                    <pre>
myShapesCollection.stream()
.filter(e -> e.getColor() == Color.RED)
.forEach(e -> System.out.println(e.getName()));
                    </pre>
                </div>
                <p>
                    Del mismo modo, podría solicitar fácilmente un flujo paralelo, lo que podría tener sentido si la colección es
                    lo suficientemente grande y su computadora tiene suficientes núcleos:
                </p>
                <div class="codeblock">
                    <pre>
myShapesCollection.parallelStream()
.filter(e -> e.getColor() == Color.RED)
.forEach(e -> System.out.println(e.getName()));
                    </pre>
                </div>
                <p>
                    Hay muchas formas diferentes de coleccionar datos con esta IPA. Por ejemplo, podría querer convertir los 
                    elementos de una <code>Collection</code> en objetos <code>String</code>, después unirlos, separados por comas:
                </p>
                <div class="codeblock">
                    <pre>
String joined = elements.stream()
    .map(Object::toString)
    .collect(Collectors.joining(", "));
                    </pre>
                </div>
                <p>
                    O quizás sumar los salarios de todos los empleados:
                </p>
                <div class="codeblock">
                    <pre>
int total = employees.stream()
.collect(Collectors.summingInt(Employee::getSalary)));
                    </pre>
                </div>
                <p>
                    Estos son solo algunos ejemplos de lo que puede hacer con secuencias y opeaciones agregadas. Para más
                    información y ejemplos, vea la lección titulada
                    <a class="TutorialLink" target="_top" href="../../collections/streams/index.html">Operaciones Agregadas</a>.
                </p>
                <p>
                    El marco de trabajo Collections ha suministrado siempre una variedad de las así-llamadas 
                    &quot;operaciones masivas&quot; como parte de su IPA. Esto incluye métodos que opera sobre colecciones enteras,
                    tales como <code>containsAll</code>, <code>addAll</code>, <code>removeAll</code>, etc. No confunda estos
                    métodos con las operaciones agregadas que fueron introducidas en el KDD 8. La diferencia clave entre las nuevas
                    operaciones agregadas y las operaciones masivas existentes (<code>containsAll</code>, <code>addAll</code>,
                    etc.) es que las versiones viejas son todas <em>mutativas</em>, significando que todas ellas modifican la
                    colección subyacente. En contraste, las nuevas operaciones agregadas <em>no</em> modifican la colección
                    subyacente. Cuando se usa las nuevas operaciones agregadas y las expresiones lambda, debe tener cuidado de
                    evitar la mutación para no presentar problemas en el futuro, si su código se ejecuta más tarde desde una
                    flujo paralelo.
                </p>
                <h3>Constructo for-each</h3>
                <p>
                    El constructo <code>for-each</code> le permite atravesar concisamente una colección o matriz usando un bucle
                    <code>for</code> &mdash; vea
                    <a class="TutorialLink" target="_top"
                       href="../../java/nutsandbolts/for.html">La Sentencia for
                    </a>. El código siguiente usa el constructo <code>for-each</code> para visualizar cada elemento de una
                    colección en líneas separadas.
                </p>
                <div class="codeblock">
                    <pre>
for (Object o : collection)
    System.out.println(o);
                    </pre>
                </div>
                <h3><a id="Iterator">Iteradores</a></h3>
                <p>
                    Un
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html">
                        <code>Iterator</code>
                    </a> es un objeto que le habilita a recorrer una colección y a eliminar elementos desde la colección
                    selectivamente, si se desea. Usted obtiene un <code>Iterator</code> de una colección llamando a su método
                    <code>iterator</code>. Lo siguiente es el interfaz <code>Iterator</code>.
                </p>
                <div class="codeblock">
                    <pre>
public interface Iterator&lt;E&gt; {
    boolean hasNext();
    E next();
    void remove(); //opcional
}
                    </pre>
                </div>
                <p>
                    El método <code>hasNext</code> devuelve <code>true</code> si la iteración tiene más elementos, y el método
                    <code>next</code> devuelve el próximo elemento en la iteración. El método <code>remove</code> elimina el
                    último elemento que fue devuelto por <code>next</code> desde la <code>Collection</code> subyacente. El método
                    <code>remove</code> puede ser llamado sólo una vez por llamada a <code>next</code> y lanza una excepción si
                    esta regla se incumple.
                </p>
                <p>
                    Dese cuenta que <code>Iterator.remove</code> es la <i>única</i> forma segura de modificar una colección durante
                    la iteración; el comportamiento no se especifica si la colección subyacente se modifica de cualquier otra
                    manera mientras la iteración está en progreso.
                </p>
                <p>
                    Use <code>Iterator</code> en vez del constructo <code>for-each</code> cuando necesite:
                </p>
                <ul>
                    <li>
                        Eliminar el elemento actual. El constructo <code>for-each</code> oculta el iterador, así que no puede
                        llamar a <code>remove</code>. Por lo tanto, el constructo <code>for-each</code> no es utilizable para el
                        filtrado.
                    </li>
                    <li>
                        Iterar sobre múltiples colecciones en paralelo.
                    </li>
                </ul>
                <p>
                    El método siguiente muestra cómo usar un <code>Iterator</code> para filtrar una <code>Collection</code>
                    arbitraria &mdash; esto es, atravesar la colección eliminando elementos específicos.
                </p>
                <div class="codeblock">
                    <pre>
static void filter(Collection&lt;?&gt; c) {
    for (Iterator&lt;?&gt; it = c.iterator(); it.hasNext(); )
        if (!cond(it.next()))
            it.remove();
}
                    </pre>
                </div>
                <p>
                    Esta simple pieza de código es polimórfica, lo que significa que funciona para <i>cualquier</i>
                    <code>Collection</code> independientemente de la implementación. Este ejemplo demuestra qué fácil es escribir
                    un algoritmo polimórfico usando el Marco de Trabajo de Colecciones de Java.
                </p>
                <h2>Operaciones Masivas del Interfaz Collection</h2>
                <p>
                    Las <i>operaciones masivas</i> ejecutan una operación sobre una <code>Collection</code> entera. Podría
                    implementar estas operaciones rápidas usando las operaciones básicas, aunque en la mayoría de los casos tales
                    implementaciones serían menos eficientes. Las siguientes son las operaciones masivas:
                </p>
                <ul>
                    <li>
                        <code>containsAll</code> &mdash; devuelve <code>true</code> si la <code>Collection</code> objetivo contiene
                        todos los elementos en la <code>Collection</code> especificada.
                    </li>
                    <li>
                        <code>addAll</code> &mdash; agrega todos los elementos en la <code>Collection</code> especificada a la
                        <code>Collection</code> objetivo.
                    </li>
                    <li>
                        <code>removeAll</code> &mdash; elimina de la <code>Collection</code> objetivo todos los elementos que están
                        contenidos en la <code>Collection</code> especificada.
                    </li>
                    <li>
                        <code>retainAll</code> &mdash; elimina de la <code>Collection</code> objetivo todos sus elementos que
                        <i>no</i> están también contenidos en la <code>Collection</code> especificada. Esto es, retiene sólo
                        aquellos elementos en la <code>Collection</code> destino que están también contenidas en la
                        <code>Collection</code> especificada.
                    </li>
                    <li>
                        <code>clear</code> &mdash; elimina todos los elementos de la <code>Collection</code>.
                    </li>
                </ul>
                <p>
                    Los métodos <code>addAll</code>, <code>removeAll</code>, y <code>retainAll</code> devuelven todos
                    <code>true</code> si la <code>Collection</code> objetivo fue modificada en el proceso de ejecutar la operación.
                </p>
                <p>
                    Como ejemplo simple del poder de las operaciones masivas, considere la siguiente expresión idiomática para 
                    eliminar <i>todas</i> las instancias de un elemento especificado, <code>e</code>, de una
                    <code>Collection</code>, <code>c</code>.
                </p>
                <div class="codeblock">
                    <pre>
c.removeAll(Collections.singleton(e));
                    </pre>
                </div>
                <p>
                    Más específicamente, suponga que quiere eliminar todos los elementos <code>null</code> de una
                    <code>Collection</code>.
                </p>
                <div class="codeblock">
                    <pre>
c.removeAll(Collections.singleton(null));
                    </pre>
                </div>
                <p>
                    Esta expresión usa <code>Collections.singleton</code>, el cual es un método de factoría estático que devuelve
                    un <code>Set</code> inmutable conteniendo sólo el elemento especificado. <a id="ArrayOps"></a>
                </p>
                <h2>Operaciones de Matriz de la Interfaz Collection</h2>
                <p>
                    Los métodos <code>toArray</code> son suministrados como un puente entre las colecciones y las IPAs más viejas
                    que esperan matrices como entrada. Las operaciones de matrices permiten que los contenidos de una 
                    <code>Collection</code> sean trasladados a una matriz. La forma simple sin argumentos crea una matriz nueva de
                    <code>Object</code>. La forma más compleja permite al llamador a suministrar una matriz o elegir el tipo en
                    tiempo de ejecución de la matriz de salida.
                </p>
                <p>
                    Por ejemplo, suponga que <code>c</code> es una <code>Collection</code>. El siguiente trozo de código vuelca los
                    contenidos de <code>c</code> en una matriz recientemente asignada de <code>Object</code> cuya longitud es
                    idéntica al número de elementos en <code>c</code>.
                </p>
                <div class="codeblock">
                    <pre>
Object[] a = c.toArray();
                    </pre>
                </div>
                <p>
                    Suponga que sabemos que <code>c</code> contiene sólo cadenas (quizás porque <code>c</code> es un tipo de
                    <code>Collection&lt;String&gt;</code>). El siguiente trozo de código vuelca el contenido de <code>c</code>
                    en una matriz recientemente asignada de <code>String</code> cuya longitud es idéntica  al número de elementos
                    en <code>c</code>.
                </p>
                <div class="codeblock">
                    <pre>
String[] a = c.toArray(new String[0]);
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="set.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Interfaces<br />
            <b>Página siguiente:</b> El Interfaz Set
        </div>
    </body>
</html> 
