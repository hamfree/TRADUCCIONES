<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        <title>Compatibilidad (Los Tutoriales de Java&trade; &gt; Colecciones &gt; Interoperabilidad)</title>
        <meta name="description" content="Este tutorial de Java sobre colecciones describe los interfaces, implementaciones, y
              algoritmos en el marco de trabajo de Colecciones de Java" />
        <meta name="keywords" content="programacion java , aprender java, codigo de ejemplo de java, colecciones de java,
              set, list, queue, map, array, arraylist" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Interoperabilidad</a></div>
                <div class="nolinkAHEAD">Compatibilidad</div>
                <div class="linkAHEAD"><a href="api-design.html">Diseño de la IPA</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Colecciones<br />
                <b>Lección:</b> Interoperabilidad
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;
                <a href="../index.html" target="_top">Colecciones</a>&nbsp;&gt;
                <a href="index.html" target="_top">Interoperabilidad</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="api-design.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Compatibilidad</h1>
            </div>
            <div id="PageContent">
                <p>
                    El Marco de Trabajo de las Colecciones de Java fue diseñado para asegurar la interoperabilidad completa entre
                    los prinicipales
                    <a class="TutorialLink" target="_top" href="../interfaces/index.html">interfaces de collection</a> y los tipos
                    que fueron usados para representar colecciones en las versiones anteriores de la plataforma Java:
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Vector.html">
                        <code>Vector</code>
                    </a>,
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html">
                        <code>Hashtable</code>
                    </a>,
                    <a class="TutorialLink" target="_top" href="../../java/nutsandbolts/arrays.html">array</a>, y
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html">
                        <code>Enumeration</code>
                    </a>. En esta sección, aprenderá cómo transformar viejas colecciones al Marco de Trabajo de Colecciones de Java
                    y viceversa.
                </p>
                <h2>
                    Compatibilidad hacia arriba
                </h2>
                <p>
                    Suponga que está usando una IPA que devuelve colecciones heredadas en conjunto con otra IPA que requiere objetos
                    que implementen las interfaces de colección. Para hacer que las dos IPAs interactúen sin problemas, tendrá que
                    transformar las colecciones heredadas en colecciones modernas. Afortunadamente, el Marco de Trabajo de
                    Colecciones de Java lo hace fácil.
                </p>
                <p>
                    Suponga que la vieja IPA devuelve un array de objetos y la nueva IPA requiere una <code>Collection</code>. El
                    Marco de trabajo de Colecciones tiene una implementación de conveniencia que permite que un array de objetos 
                    sea visto com una <code>List</code>. Use
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-">
                        <code>Arrays.asList</code>
                    </a> para pasar un array a cualquier método que requiera una <code>Collection</code> o una <code>List</code>.
                </p>
                <div class="codeblock">
                    <pre>
Foo[] result = oldMethod(arg);
newMethod(Arrays.asList(result));
                    </pre>
                </div>
                <p>
                    Si la vieja IPA devuelve un <code>Vector</code> o un <code>Hashtable</code>, no tiene trabajo que hacer en
                    absoluto porque <code>Vector</code> fue actualizado para implementar lainterfaz <code>List</code>, y
                    <code>Hashtable</code> fue actualizado para implementar <code>Map</code>. Por lo tanto, un <code>Vector</code>
                    puede ser pasado directamente a cualquier método que requiera una <code>Collection</code> o una
                    <code>List</code>.
                </p>
                <div class="codeblock">
                    <pre>
Vector result = oldMethod(arg);
newMethod(result);
                    </pre>
                </div>
                <p>
                    Similarmente, un <code>Hashtable</code> puede ser pasado directamente a cualquier método que requiera un
                    <code>Map</code>.
                </p>
                <div class="codeblock">
                    <pre>
Hashtable result = oldMethod(arg);
newMethod(result);
                    </pre>
                </div>
                <p>
                    Menos frecuente, una IPA puede devolver una <code>Enumeration</code> que representa una colección de objetos.
                    El método <code>Collections.list</code> traslada una <code>Enumeration</code> en una <code>Collection</code>.
                </p>
                <div class="codeblock">
                    <pre>
Enumeration e = oldMethod(arg);
newMethod(Collections.list(e));
                    </pre>
                </div>
                <h2>
                    Compatibilidad hacia atrás
                </h2>
                <p>
                    Suponga que está usando una IPA que devuelve colecciones modernas en conjunto con otra IPA que requiere que le
                    pase colecciones heredadas. Para hacer que las dos IPAs interactúen sin problemas, tiene que transformar las
                    colecciones modernas en viejas colecciones. De nuevo, el Marco de Trabajo de Colecciones de Java hace esto
                    fácil.
                </p>
                <p>
                    Suponga que la nueva IPA devuelve una <code>Collection</code>, y la vieja IPA requiere un array de
                    <code>Object</code>. Como probablemente esté al tanto, el interfaz <code>Collection</code> contiene un método
                    <code>toArray</code> diseñado expresamente para esta situación.
                </p>
                <div class="codeblock">
                    <pre>
Collection c = newMethod();
oldMethod(c.toArray());
                    </pre>
                </div>
                <p>
                    ¿Qué pasa si la antigua IPA requiere una matriz de <code>String</code> (u otro tipo) en lugar de una matriz de 
                    <code>Object</code>? Usted sólo usa la otra forma de <code>toArray</code> &mdash; el que toma una matriz de
                    entrada.
                </p>
                <div class="codeblock">
                    <pre>
Collection c = newMethod();
oldMethod((String[]) c.toArray(new String[0]));
                    </pre>
                </div>
                <p>
                    Si la vieja IPA requiere un <code>Vector</code>, el constructor de la colección estándar es útil.
                </p>
                <div class="codeblock">
                    <pre>
Collection c = newMethod();
oldMethod(new Vector(c));
                    </pre>
                </div>
                <p>
                    El caso donde la vieja IPA requiera una <code>Hashtable</code> se maneja de manera análoga.
                </p>
                <div class="codeblock">
                    <pre>
Map m = newMethod();
oldMethod(new Hashtable(m));
                    </pre>
                </div>
                <p>
                    Finalmente, ¿qué hace si la vieja IPA requiere una <code>Enumeration</code>? Este caso no es muy común, pero
                    ocurre de vez en cuando, y el método
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#enumeration-java.util.Collection-">
                        <code>Collections.enumeration</code>
                    </a> fue proporcionado para manejarlo. Este es un método estático de factoría que toma una
                    <code>Collection</code> y devuelve una <code>Enumeration</code> sobre los elementos de la
                    <code>Collection</code>.
                </p>
                <div class="codeblock">
                    <pre>
Collection c = newMethod();
oldMethod(Collections.enumeration(c));
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;
                <a target="_top" href="api-design.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Interoperabilidad<br />
            <b>Página siguiente:</b> Diseño de la IPA
        </div>
    </body>
</html> 
