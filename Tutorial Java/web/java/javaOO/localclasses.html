<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Clases Locales (Los Tutoriales de Java&trade; &gt; Aprendiendo el Lenguaje Java &gt; Clases y Objetos)
        </title>
        <meta name="description" content="Este tutorial de Java para principiantes describe los fundamentos de la programación en el
              lenguaje de programación Java" />
        <meta name="keywords" content="java programming, learn java, java sample code, java objects, java classes, java inheritance,
              interfaces, variables, arrays, data types, operators, control flow, number, string" />
        <link rel="stylesheet" href="../../indice.css" type="text/css" />
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper  clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Clases y Objetos</a></div>
                <div class="linkAHEAD"><a href="classes.html">Clases</a></div>
                <div class="linkBHEAD"><a href="classdecl.html">Declarando Clases</a></div>
                <div class="linkBHEAD"><a href="variables.html">Declarando Variables Miembro</a></div>
                <div class="linkBHEAD"><a href="methods.html">Definiendo Métodos</a></div>
                <div class="linkBHEAD"><a href="constructors.html">Proporcionando Constructores Para Sus Clases</a></div>
                <div class="linkBHEAD"><a href="arguments.html">Pasando Información a un método o a un constructor</a></div>
                <div class="linkAHEAD"><a href="objects.html">Objetos</a></div>
                <div class="linkBHEAD"><a href="objectcreation.html">Creando Objetos</a></div>
                <div class="linkBHEAD"><a href="usingobject.html">Usando Objetos</a></div>
                <div class="linkAHEAD"><a href="more.html">Más sobre Clases</a></div>
                <div class="linkBHEAD"><a href="returnvalue.html">Devolviendo un Valor de un Método</a></div>
                <div class="linkBHEAD"><a href="thiskey.html">Usando la Palabra Clave this</a></div>
                <div class="linkBHEAD"><a href="accesscontrol.html">Controlando el Acceso a los Miembros de una Clase</a></div>
                <div class="linkBHEAD"><a href="classvars.html">Entendiendo los Miembros de una Clase</a></div>
                <div class="linkBHEAD"><a href="initial.html">Inicializando Campos</a></div>
                <div class="linkBHEAD"><a href="summaryclasses.html">Sumario de Creando y Usando Clases y Objetos</a></div>
                <div class="linkQUESTIONS"><a href="QandE/creating-questions.html">Preguntas y Ejercicios</a></div>
                <div class="linkQUESTIONS"><a href="QandE/objects-questions.html">Preguntas y Ejercicios</a></div>
                <div class="linkAHEAD"><a href="nested.html">Clases Anidadas</a></div>
                <div class="linkBHEAD"><a href="innerclasses.html">Ejemplo de Clase Interior</a></div>
                <div class="nolinkBHEAD">Clases Locales</div>
                <div class="linkBHEAD"><a href="anonymousclasses.html">Clases Anónimas</a></div>
                <div class="linkBHEAD"><a href="lambdaexpressions.html">Expresiones Lambda</a></div>
                <div class="linkCHEAD"><a href="methodreferences.html">Referencias a Métodos</a></div>
                <div class="linkBHEAD"><a href="whentouse.html">Cuándo Usar Clases Anidadas, Clases Locales, Clases Anónimas y Expresiones Lambda</a></div>
                <div class="linkQUESTIONS"><a href="QandE/nested-questions.html">Preguntas y Ejercicios</a></div>
                <div class="linkAHEAD"><a href="enum.html">Tipos Enum</a></div>
                <div class="linkQUESTIONS"><a href="QandE/enum-questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Aprendiendo el Lenguaje Java<br />
                <b>Lección:</b> Clases y Objetos<br />
                <b>Sección:</b> Clases Anidadas
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Aprendiendo el Lenguaje Java</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Clases y Objetos</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="innerclasses.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="anonymousclasses.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Clases Locales</h1>
            </div>
            <div id="PageContent">
                <p>
                    Las clases locales son clases que están definidas en un <em>bloque</em>, el cual es un grupo de cero o más
                    sentencias entre llaves pareadas. Usted típicamente encuentra clases locales definidas en el cuerpo de un
                    método.
                </p>
                <p>
                    Esta sección cubre los siguientes tópicos:
                </p>
                <ul>
                    <li>
                        <a href="#declaring-local-classes">
                            Declarar Clases Locales
                        </a>
                    </li>
                    <li>
                        <a href="#accessing-members-of-an-enclosing-class">
                            Acceder a Miembros de una Clase Envolvente
                        </a>
                        <ul>
                            <li>
                                <a href="#shadowing-and-local-classes">
                                    Sombreado y Clases Locales
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#local-classes-are-similar-to-inner-classes">
                            Las Clases Locales Son Similares a las Clases Internas
                        </a>
                    </li>
                </ul>
                <h2><a id="declaring-local-classes">Declarar Clases Locales</a></h2>
                <p>
                    Puede definir una clase local dentro de cualquier bloque (vea
                    <a class="TutorialLink" target="_top" 
                       href="../../java/nutsandbolts/expressions.html">
                        Expresiones, Sentencias, y Bloques
                    </a> para más información). Por ejemplo, puede definir una clase local en el cuerpo de un método, un bucle
                    <code>for</code>, o una cláusula <code>if</code>.
                </p>
                <p>
                    El siguiente ejemplo,
                    <a class="SourceLink" target="_blank"  href="examples/EjemploClaseLocal.java"
                       onclick="showCode('../../displayCode.html', 'examples/EjemploClaseLocal.java'); return false;">
                        <code>EjemploClaseLocal</code>
                    </a>, valida dos números de teléfonos. Define la clase local <code>NumeroTelefono</code> en el método
                    <code>validaNumeroTelefono</code>:
                </p>
                <pre class="codeblock">
 
public class EjemploClaseLocal {

    static String expresionRegular = &quot;[^0-9]&quot;;

    public static void validaNumeroTelefono(
        String numeroTelefono1, String numeroTelefono2) {

        final int longitudNumero = 10;

        // Válido en KDJ 8 y posteriores:

        // int longitudNumero = 10;

        class NumeroTelefono {

            String numeroTelefonoFormateado = null;

            NumeroTelefono(String numeroTelefono){
                // longitudNumero = 7;
                String numeroActual = numeroTelefono.replaceAll(expresionRegular, &quot;&quot;);
                if (numeroActual.length() == longitudNumero)
                    numeroTelefonoFormateado = numeroActual;
                else
                    numeroTelefonoFormateado = null;
            }

            public String getNumber() {
                return numeroTelefonoFormateado;
            }

            // Válido en KDJ 8 y posteriores:

//            public void imprimeNumerosOriginales() {
//                System.out.println(&quot;Los números originales son &quot; + phoneNumber1 +
//                    &quot; y &quot; + phoneNumber2);
//            }
        }

        NumeroTelefono miNumero1 = new NumeroTelefono(numeroTelefono1);
        NumeroTelefono miNumero2 = new NumeroTelefono(numeroTelefono2);

        // Válido en KDJ 8 y posteriores:

//        miNumero1.imprimeNumerosOriginales();

        if (miNumero1.getNumber() == null)
            System.out.println(&quot;El primer número no es válido&quot;);
        else
            System.out.println(&quot;El primer número es &quot; + miNumero1.getNumber());
        if (miNumero2.getNumber() == null)
            System.out.println(&quot;El segundo número no es válido&quot;);
        else
            System.out.println(&quot;El segundo número es &quot; + miNumero2.getNumber());

    }

    public static void main(String... args) {
        validaNumeroTelefono(&quot;123-456-7890&quot;, &quot;456-7890&quot;);
    }
}
                </pre>
                <p>
                    El ejemplo valida un número de teléfonmo primero removiendo todos los caracteres del número de teléfono excepto
                    los dígitos 0 al 9. Después, comprueba si el número de teléfono contiene exactamente diez dígitos (la longitud
                    de un número de teléfono en Norte América). Este ejemplo imprime lo siguiente:
                </p>
                <pre class="codeblock">
El primer número es 1234567890
El segundo número no es válido
                </pre>
                <h2><a id="accessing-members-of-an-enclosing-class">Acceder a Miembros de una Clase Envolvente</a></h2>
                <p>
                    Una clase local tiene acceso a los miembros de su clase envolvente. En el ejemplo previo, el constructor de
                    <code>NumeroTelefono</code> accede al miembro <code>EjemploClaseLocal.expresionRegular</code>.
                </p>
                <p>
                    Además, una clase local tiene acceso a las variables locales. Sin embargo, una clase local sólo puede acceder a
                    las variables locales que son declaradas finales. Cuando una clase local accede a una variable local o parámetro
                    del bloque envolvente, <em>captura</em> esa variable o parámetro. Por ejemplo, el constructor
                    <code>NumeroTelefono</code> puede acceder a la variable local <code>longitudNumero</code> porque fue declarada
                    final; <code>longitudNumero</code> es una <em>variable capturada</em>.
                </p>
                <p>
                    Sin embargo, empezando en Java SE 8, una clase local puede acceder a variables locales y parámetros del bloque
                    envolvente que son finales o <em>efectivamente finales</em>. Una variable o parámetro cuyo valor no es nunca
                    cambiado después de ser inicializada es efectivamente final. Por ejemplo, suponga que la variable 
                    <code>longitudNumero</code> no es declarada final, y usted añade la sentencia de asignación destacada en el
                    constructor <code>NumeroTelefono</code> :
                </p>
                <pre class="codeblock">
NumeroTelefono(String numeroTelefono) {
    <strong>longitudNumero = 7;</strong>
    String numeroActual = numeroTelefono.replaceAll(
        expresionRegular, "");
    if (numeroActual.length() == longitudNumero)
        numeroTelefonoFormateado = numeroActual;
    else
        numeroTelefonoFormateado = null;
}
                </pre>
                <p>
                    Debido a esta sentencia de asignación, la variable <code>longitudNumero</code> no es efectivametne final nunca
                    más. Como resultado, el compilador de Java genera un mensaje de error similar a "las variables locales 
                    referenciadas desde una clase interna deben ser finales o efectivamente finales" donde la clase interna 
                    <code>NumeroTelefono</code> intenta acceder a la variable <code>longitudNumero</code> :
                </p>
                <pre class="codeblock">if (numeroActual.length() == longitudNumero)</pre>
                <p>
                    Empezando en Java SE 8, si declara la clase local en un método, puede acceder a los parámetros del método. Por
                    ejemplo, puede definir el siguiente método en la clase local <code>NumeroTelefono</code> :
                </p>
                <pre class="codeblock">
public void imprimeNumerosOriginales() {
    System.out.println("Los números originales son  " + numeroTelefono1 +
        " t " + numeroTelefono2);
}
                </pre>
                <p>
                    El método <code>imprimeNumerosOriginales</code> accede a los parámetros <code>numeroTelefono1</code> y
                    <code>numeroTelefono2</code> del método <code>validaNumeroTelefono</code>.
                </p>
                <h3><a id="shadowing-and-local-classes">Sombreado y Clases Locales</a></h3>
                <p>
                    Las declaraciones de un tipo (tal como una variable) en una clase local ocultan las declaraciones en el alcance
                    envolvente que tenga el mismo nombre. Vea
                    <a class="TutorialLink" target="_top" href="../../java/javaOO/nested.html#shadowing">Ocultación</a> para más
                    información.
                </p>
                <h2><a id="local-classes-are-similar-to-inner-classes">Las Clases Locales Son Similares a las Clases Internas</a></h2>
                <p>
                    Las clases locales son similares a las clases internas porque no pueden definir o declarar ningún miembro 
                    estático. Las clases locales en los métodos estáticos, tal como la clase <code>NumeroTelefono</code>, la cual
                    está definida en el método estático <code>validaNumeroTelefono</code>, puede solo hacer referencia a miembros
                    estáticos de la clase envolvente. Por ejemplo, si usted no define la variable miembro 
                    <code>expresionRegular</code> como estática, entonces el compilador de Java genera un error similar a "variable
                    no-estática <code>expresionRegular</code> no puede ser referenciada desde un contexto estático.".
                </p>
                <p>
                    Las clases locales son no-estáticas porque tienen acceso a los miembros de la instancia del bloque envolvente.
                    En consecuencia, no pueden contener la mayoría de los tipos de declaraciones estáticas.
                </p>
                <p>
                    No puede declarar una interfaz dentro de un bloque; los interfaces son inherentemente estáticos. Por ejemplo, 
                    el siguiente extracto de código no compila porque el interfaz <code>HolaAhi</code> está definido dentro del cuerpo
                    del método <code>saludaEnIngles</code> :
                </p>
                <pre class="codeblock">
    public void saludaEnIngles() {
        interface HolaAhi {
           public void saluda();
        }
        class InglesHolaAhi implements HolaAhi {
            public void saluda() {
                System.out.println("Hello " + name);
            }
        }
        HolaAhi miSaludo = new InglesHolaAhi();
        miSaludo.saluda();
    }
                </pre>
                <p>
                    No puede declarar inicializadores estáticos o interfaces miembro en una clase local. El siguiente extracto de
                    código no compila porque el método <code>InglesAdios.diAdios</code> es declarado <code>static</code>. El
                    compilador genera un error similar a "el modificador 'static¡ se permite solo en declaraciones de variables
                    constantes" cuando encuentra esta definición de método:
                </p>
                <pre class="codeblock">
    public void diAdiosEnIngles() {
        class InglesAdios {
            public static void diAdios() {
                System.out.println("Bye bye");
            }
        }
        InglesAdios.diAdios();
    }
                </pre>
                <p>
                    Una clase local puede teener miembros estáticos siempre que sean variables constantes. (Una 
                    <em>variable constante</em> es una variable de un tipo primitivo o tipo <code>String</code> que es declarada
                    final e inicializada con una expresión constante en tiempo-de-compilación. Una expresión constante en
                    tiempo-de-compilación es típicamente una cadena o una expresión arítmetica que puede ser evaluada en tiempo de
                    compilación. Vea
                    <a class="TutorialLink" target="_top" href="classvars.html">Entendiendo los Miembros de una Clase</a> para más
                    información). El siguiente extracto de código compila porque el miembro estático
                    <code>InglesAdios.despedida</code> es una variable constante:
                </p>
                <pre class="codeblock">
    public void diAdiosEnIngles() {
        class InglesAdios {
            public static final String despedida = "Bye bye";
            public void diAdios() {
                System.out.println(despedida);
            }
        }
        InglesAdios miInglesAdios = new InglesAdios();
        miInglesAdios.diAdios();
    }
                </pre>
            </div>
            <div class="NavBit">
                <a target="_top" href="innerclasses.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="anonymousclasses.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">
                                Su uso de ésta
                            </a>
                            página y todo el material en las páginas bajo el anuncio &quot;Los Tutoriales de Java&quot; está sujeto
                            a estos
                            <a href="../../information/cpyr.html">
                                avisos legales
                            </a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank"
                               href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank"
                               href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión
                            </a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Ejemplo de Clase Interior<br />
            <b>Página siguiente:</b> Clases Anónimas
        </div>
    </body>
</html> 