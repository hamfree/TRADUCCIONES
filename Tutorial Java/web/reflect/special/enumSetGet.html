<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Obteniendo y Estableciendo Campos en los Tipos Enumerados (Los Tutoriales de Java&trade; &gt; La IPA de Reflexión &gt; 
            Matrices y Tipos Enumerados)
        </title>
        <meta name="description" content="Este tutorial de reflexión de Java describe el uso de la reflexión para acceder y 
              manipular clases, campos, métodos y constructores" />
        <meta name="keywords" content="java programming, learn java, java sample code, java reflection" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Matrices y Tipos Enumerados</a></div>
                <div class="linkAHEAD"><a href="array.html">Matrices</a></div>
                <div class="linkBHEAD"><a href="arrayComponents.html">Identificando los Tipos del Matriz</a></div>
                <div class="linkBHEAD"><a href="arrayInstance.html">Creando Nuevas Matrices</a></div>
                <div class="linkBHEAD"><a href="arraySetGet.html">Obteniendo y estableciendo Matrices y sus Componentes</a></div>
                <div class="linkBHEAD"><a href="arrayTrouble.html">Solución de Problemas</a></div>
                <div class="linkAHEAD"><a href="enum.html">Tipos Enumerados</a></div>
                <div class="linkBHEAD"><a href="enumMembers.html">Examinando las Enumeraciones</a></div>
                <div class="nolinkBHEAD">Obteniendo y Estableciendo Campos en los Tipos Enumerados</div>
                <div class="linkBHEAD"><a href="enumTrouble.html">Solución de Problemas</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> La IPA de Reflexión<br />
                <b>Lección:</b> Matrices y Tipos Enumerados<br />
                <b>Sección:</b> Tipos Enumerados
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">La IPA de Reflexión</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Matrices y Tipos Enumerados</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="enumMembers.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="enumTrouble.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Obteniendo y Estableciendo Campos en los Tipos Enumerados</h1>
            </div>
            <div id="PageContent">
                <p>
                    Los campos que almacenan enumeraciones se establecen y recuperan como cualquier otro tipo de referencia, usando 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#set-java.lang.Object-java.lang.Object-">
                        <code>Field.set()</code></a> y
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#get-java.lang.Object-">
                        <code>Field.get()</code></a>. Para más información sobre acceso a campos, vea la sección 
                    <a href="../member/field.html">Campos</a> de este recorrido.
                </p>
                <p>
                    Considere una aplicación que necesita modificar dinámicamente el nivel de registro en una aplicación de servidor 
                    que normalmente no permite este cambio durante la ejecución. Asuma que la instancia del objeto servidor está 
                    disponible. El ejemplo 
                    <a class="SourceLink" target="_blank" href="example/SetTrace.java" 
                       onclick="showCode('../../displayCode.html', 'example/SetTrace.java'); return false;">
                        <code>SetTrace</code></a> muestra cómo el codigo puede traducir la representación 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html"><code>String</code></a> de una 
                    enumeración en un tipo de enumeración y recuperar y establecer el valor de un campo que almacena una 
                    enumeración.
                </p>
                <div class="codeblock">
                    <pre>

import java.lang.reflect.Field;
import static java.lang.System.out;

enum TraceLevel { OFF, LOW, MEDIUM, HIGH, DEBUG }

class MyServer {
    private TraceLevel level = TraceLevel.OFF;
}

public class SetTrace {
    public static void main(String... args) {
        TraceLevel newLevel = TraceLevel.valueOf(args[0]);

        try {
            MyServer svr = new MyServer();
            Class&lt;?&gt; c = svr.getClass();
            Field f = c.getDeclaredField(&quot;level&quot;);
            f.setAccessible(true);
            TraceLevel oldLevel = (TraceLevel)f.get(svr);
            out.format(&quot;Original trace level:  %s%n&quot;, oldLevel);

            if (oldLevel != newLevel) {
                f.set(svr, newLevel);
                out.format(&quot;    New  trace level:  %s%n&quot;, f.get(svr));
            }

            // el código de producción debería manejar esta excepción con más gracia
        } catch (IllegalArgumentException x) {
            x.printStackTrace();
        } catch (IllegalAccessException x) {
            x.printStackTrace();
        } catch (NoSuchFieldException x) {
            x.printStackTrace();
        }
    }
}
                    </pre>
                </div>
                <p>
                    Ya que las constantes de enumeración son singletons, los operadores <code>==</code> y <code>!=</code> se pueden 
                    usar para comparar constantes de enumeración del mismo tipo.
                </p>
                <div class="codeblock">
                    <pre>
&#36; <em>java SetTrace OFF</em>
Original trace level:  OFF
&#36; <em>java SetTrace DEBUG</em>
Original trace level:  OFF
    New  trace level:  DEBUG
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="enumMembers.html">&laquo;&nbsp;Anterior</a>&bull;
                <a target="_top" href="../TOC.html">TdC</a>&bull;
                <a target="_top" href="enumTrouble.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Examinando las Enumeraciones<br />
            <b>Página siguiente:</b> Solución de Problemas
        </div>
    </body>
</html> 
