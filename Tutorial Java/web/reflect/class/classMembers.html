<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Descubriendo Miembros de Clases (Los Tutoriales de Java&trade; &gt; La IPA de Reflexión &gt; Clases)
        </title>
        <meta name="description" content="Este tutorial de reflexión de Java describe el uso de la reflexión para acceder y 
              manipular clases, campos, métodos y constructores" />
        <meta name="keywords" content="java programming, learn java, java sample code, java reflection" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Clases</a></div>
                <div class="linkAHEAD"><a href="classNew.html">Recuperando Objetos de la Clase</a></div>
                <div class="linkAHEAD"><a href="classModifiers.html">Examinando Modificadores de Clases y Tipos</a></div>
                <div class="nolinkAHEAD">Descubriendo Miembros de Clases</div>
                <div class="linkAHEAD"><a href="classTrouble.html">Solución de Problemas</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> La IPA de Reflexión<br />
                <b>Lección:</b> Clases
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">La IPA de Reflexión</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Clases</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="classModifiers.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="classTrouble.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Descubriendo Miembros de Clases</h1>
            </div>
            <div id="PageContent">
                <p>
                    Hay dos categorías de métodos proporcionados en 
                    <a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">
                        <code>Class</code></a> para acceder a campos, métodos, y constructores: métodos que enumeran estos miembros 
                    y métodos que buscan miembros particulares. También hay distintos métodos para acceder a miembros 
                    declarados directamente en la clase contra métodos que buscan las superinterfaces y superclases para los 
                    miembros heredados. Las tablas siguientes proporcionan un resumen de todos los métodos de localización de 
                    miembros y sus características.
                </p>
                <p>
                    <br />
                </p>
                <table class="celda">
                    <caption>
                        Métodos de Class para Localizar Campos
                    </caption>
                    <tr>
                        <th id="h1" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">IPA de <code>Class</code></a>
                        </th>
                        <th id="h2" class="celda">¿Lista de miembros?</th>
                        <th id="h3" class="celda">¿Miembros heredados?</th>
                        <th id="h4" class="celda">¿Miembros privadoss?</th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredField-java.lang.String-">
                                <code>getDeclaredField()</code></a>
                        </td>
                        <td headers="h2" class="celda centrado">no</td>
                        <td headers="h3" class="celda centrado">no</td>
                        <td headers="h4" class="celda centrado">sí</td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getField-java.lang.String-">
                                <code>getField()</code></a>
                        </td>
                        <td headers="h2" class="celda centrado">no</td>
                        <td headers="h3" class="celda centrado">sí</td>
                        <td headers="h4" class="celda centrado">no</td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--">
                                <code>getDeclaredFields()</code></a>
                        </td>
                        <td headers="h2" class="celda centrado">sí</td>
                        <td headers="h3" class="celda centrado">no</td>
                        <td headers="h4" class="celda centrado">sí</td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getFields--">
                                <code>getFields()</code></a>
                        </td>
                        <td headers="h2" class="celda centrado">sí</td>
                        <td headers="h3" class="celda centrado">sí</td>
                        <td headers="h4" class="celda centrado">no</td>
                    </tr>
                </table>
                <p>
                    <br />
                </p>
                <table class="celda">
                    <caption>
                        Métodos de Class para Localizar Métodos
                    </caption>
                    <tr>
                        <th id="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">IPA de <code>Class</code></a>
                        </th>
                        <th id="h102" class="celda">¿Lista de miembros?</th>
                        <th id="h103" class="celda">¿Miembros heredados?</th>
                        <th id="h104" class="celda">¿Miembros privados?</th>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethod-java.lang.String-java.lang.Class...-">
                                <code>getDeclaredMethod()</code></a>
                        </td>
                        <td headers="h102" class="celda centrado">no</td>
                        <td headers="h103" class="celda centrado">no</td>
                        <td headers="h104" class="celda centrado">sí</td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class...-">
                                <code>getMethod()</code></a>
                        </td>
                        <td headers="h102" class="celda centrado">no</td>
                        <td headers="h103" class="celda centrado">sí</td>
                        <td headers="h104" class="celda centrado">no</td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethods--">
                                <code>getDeclaredMethods()</code></a>
                        </td>
                        <td headers="h102" class="celda centrado">sí</td>
                        <td headers="h103" class="celda centrado">no</td>
                        <td headers="h104" class="celda centrado">sí</td>
                    </tr>
                    <tr>
                        <td headers="h101" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethods--">
                                <code>getMethods()</code></a>
                        </td>
                        <td headers="h102" class="celda centrado">sí</td>
                        <td headers="h103" class="celda centrado">sí</td>
                        <td headers="h104" class="celda centrado">no</td>
                    </tr>
                </table>
                <p>
                    <br />
                </p>
                <table class="celda">
                    <caption>
                        Métodos de Class para Localizar Constructores
                    </caption>
                    <tr>
                        <th id="h201" class="celda">
                            <a class="APILink" target="_blank" 
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">IPA de <code>Class</code></a>
                        </th>
                        <th id="h202" class="celda">¿Lista de miembros?</th>
                        <th id="h203" class="celda">¿Miembros heredados?</th>
                        <th id="h204" class="celda">¿Miembros privados?</th>
                    </tr>
                    <tr>
                        <td headers="h201" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructor-java.lang.Class...-">
                                <code>getDeclaredConstructor()</code></a>
                        </td>
                        <td headers="h202" class="celda centrado">no</td>
                        <td headers="h203" class="celda centrado">N/D<sup>1</sup></td>
                        <td headers="h204" class="celda centrado">sí</td>
                    </tr>
                    <tr>
                        <td headers="h201" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-">
                                <code>getConstructor()</code></a>
                        </td>
                        <td headers="h202" class="celda centrado">no</td>
                        <td headers="h203" class="celda centrado">N/D<sup>1</sup></td>
                        <td headers="h204" class="celda centrado">no</td>
                    </tr>
                    <tr>
                        <td headers="h201" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructors--">
                                <code>getDeclaredConstructors()</code></a>
                        </td>
                        <td headers="h202" class="celda centrado">sí</td>
                        <td headers="h203" class="celda centrado">N/A<sup>1</sup></td>
                        <td headers="h204" class="celda centrado">sí</td>
                    </tr>
                    <tr>
                        <td headers="h201" class="celda">
                            <a class="APILink" target="_blank"
                               href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructors--">
                                <code>getConstructors()</code></a>
                        </td>
                        <td headers="h202" class="celda centrado">sí</td>
                        <td headers="h203" class="celda centrado">N/A<sup>1</sup></td>
                        <td headers="h204" class="celda centrado">no</td>
                    </tr>
                </table>
                <p>
                    <sup>1</sup> Los constructores no se heredan.
                </p>
                <p>
                    Dado un nombre de clase y una indicación de qué miembros son de interés, el ejemplo 
                    <a class="SourceLink" target="_blank" href="example/ClassSpy.java" 
                       onclick="showCode('../../displayCode.html', 'example/ClassSpy.java'); return false;">
                        <code>ClassSpy</code></a> usa los métodos <code>get*s()</code> para determinar la lista de todos los 
                        elementos públicos, incluyendo aquellos que son heredados.
                </p>
                <div class="codeblock">
                    <pre>

import java.lang.reflect.Constructor;
import java.lang.reflect.Field;
import java.lang.reflect.Method;
import java.lang.reflect.Member;
import static java.lang.System.out;

enum ClassMember { CONSTRUCTOR, FIELD, METHOD, CLASS, ALL }

public class ClassSpy {
    public static void main(String... args) {
	try {
	    Class&lt;?&gt; c = Class.forName(args[0]);
	    out.format(&quot;Class:%n  %s%n%n&quot;, c.getCanonicalName());

	    Package p = c.getPackage();
	    out.format(&quot;Package:%n  %s%n%n&quot;,
		       (p != null ? p.getName() : &quot;-- No Package --&quot;));

	    for (int i = 1; i &lt; args.length; i++) {
		switch (ClassMember.valueOf(args[i])) {
		case CONSTRUCTOR:
		    printMembers(c.getConstructors(), &quot;Constructor&quot;);
		    break;
		case FIELD:
		    printMembers(c.getFields(), &quot;Fields&quot;);
		    break;
		case METHOD:
		    printMembers(c.getMethods(), &quot;Methods&quot;);
		    break;
		case CLASS:
		    printClasses(c);
		    break;
		case ALL:
		    printMembers(c.getConstructors(), &quot;Constuctors&quot;);
		    printMembers(c.getFields(), &quot;Fields&quot;);
		    printMembers(c.getMethods(), &quot;Methods&quot;);
		    printClasses(c);
		    break;
		default:
		    assert false;
		}
	    }

        // production code should handle these exceptions more gracefully
	} catch (ClassNotFoundException x) {
	    x.printStackTrace();
	}
    }

    private static void printMembers(Member[] mbrs, String s) {
	out.format(&quot;%s:%n&quot;, s);
	for (Member mbr : mbrs) {
	    if (mbr instanceof Field)
		out.format(&quot;  %s%n&quot;, ((Field)mbr).toGenericString());
	    else if (mbr instanceof Constructor)
		out.format(&quot;  %s%n&quot;, ((Constructor)mbr).toGenericString());
	    else if (mbr instanceof Method)
		out.format(&quot;  %s%n&quot;, ((Method)mbr).toGenericString());
	}
	if (mbrs.length == 0)
	    out.format(&quot;  -- No %s --%n&quot;, s);
	out.format(&quot;%n&quot;);
    }

    private static void printClasses(Class&lt;?&gt; c) {
	out.format(&quot;Classes:%n&quot;);
	Class&lt;?&gt;[] clss = c.getClasses();
	for (Class&lt;?&gt; cls : clss)
	    out.format(&quot;  %s%n&quot;, cls.getCanonicalName());
	if (clss.length == 0)
	    out.format(&quot;  -- No member interfaces, classes, or enums --%n&quot;);
	out.format(&quot;%n&quot;);
    }
}
                    </pre>
                </div>
                <p>
                    Este ejemplo es relativamente compacto; sin embargo el método <code>printMembers()</code> es un poco incómodo 
                    debido al hecho de que la interfaz 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Member.html">
                        <code>java.lang.reflect.Member</code></a> ha existido desde las más tempranas implementaciones de reflexión 
                        y no pudo ser modificada para incluir el método <code>getGenericString()</code> más útil cuando se 
                        introdujeron los genéricos. Las únicas alternativas son probar y emitir como se muestra, reemplazar este 
                        método con <code>printConstructors()</code>, <code>printFields()</code>, y <code>printMethods()</code>, o 
                        estar satisfecho con los resultados relativamente escasos de 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Member.html#getName--">
                        <code>Member.getName()</code></a>.
                </p>
                <p>
                    A continuación se muestran ejemplos del resultado y su interpretación. La entrada del usuario está en cursiva.
                </p>
                <div class="codeblock">
                    <pre>
&#36; <em>java ClassSpy java.lang.ClassCastException CONSTRUCTOR</em>
Class:
  java.lang.ClassCastException

Package:
  java.lang

Constructor:
  public java.lang.ClassCastException()
  public java.lang.ClassCastException(java.lang.String)
                    </pre>
                </div>
                <p>
                    Dado que los constructores no se heredan, los constructores del mecanismo de encadenamiento de excepciones 
                    (aquellos con un parámetro 
                    <a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html">
                        <code>Throwable</code></a>) que se definen en la superclase inmediata, 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html">
                        <code>RuntimeException</code></a> y otras superclases no se encuentran.
                </p>
                <div class="codeblock">
                    <pre>
&#36; <em>java ClassSpy java.nio.channels.ReadableByteChannel METHOD</em>
Class:
  java.nio.channels.ReadableByteChannel
    
Package:
  java.nio.channels

Methods:
  public abstract int java.nio.channels.ReadableByteChannel.read
    (java.nio.ByteBuffer) throws java.io.IOException
  public abstract void java.nio.channels.Channel.close() throws
    java.io.IOException
  public abstract boolean java.nio.channels.Channel.isOpen()
                    </pre>
                </div>
                <p>
                    La interfaz 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html">
                        <code>java.nio.channels.ReadableByteChannel</code></a> define 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html#read-java.nio.ByteBuffer-">
                        <code>read()</code></a>. Los métodos restantes se heredan desde una super interfaz. Este código podría ser 
                        fácilmente modificado para listar solo aquellos métodos que están declarados realmente en la clase 
                        reemplazando <code>get*s()</code> con <code>getDeclared*s()</code>.
                </p>
                <div class="codeblock">
                    <pre>
&#36; <em>java ClassSpy ClassMember FIELD METHOD</em>
Class:
  ClassMember

Package:
  -- No Package --

Fields:
  public static final ClassMember ClassMember.CONSTRUCTOR
  public static final ClassMember ClassMember.FIELD
  public static final ClassMember ClassMember.METHOD
  public static final ClassMember ClassMember.CLASS
  public static final ClassMember ClassMember.ALL

Methods:
  public static ClassMember ClassMember.valueOf(java.lang.String)
  public static ClassMember[] ClassMember.values()
  public final int java.lang.Enum.hashCode()
  public final int java.lang.Enum.compareTo(E)
  public int java.lang.Enum.compareTo(java.lang.Object)
  public final java.lang.String java.lang.Enum.name()
  public final boolean java.lang.Enum.equals(java.lang.Object)
  public java.lang.String java.lang.Enum.toString()
  public static &lt;T&gt; T java.lang.Enum.valueOf
    (java.lang.Class&lt;T&gt;,java.lang.String)
  public final java.lang.Class&lt;E&gt; java.lang.Enum.getDeclaringClass()
  public final int java.lang.Enum.ordinal()
  public final native java.lang.Class&lt;?&gt; java.lang.Object.getClass()
  public final native void java.lang.Object.wait(long) throws
    java.lang.InterruptedException
  public final void java.lang.Object.wait(long,int) throws
    java.lang.InterruptedException
  public final void java.lang.Object.wait() hrows java.lang.InterruptedException
  public final native void java.lang.Object.notify()
  public final native void java.lang.Object.notifyAll()
                    </pre>
                </div>
                <p>
                    En la porción de campos de estos resultados, las constantes de enumeración se listan. Mientrar estas son 
                    técnicamente campos, podría ser útil distinguirlas de otros campos. Este ejemplo podría ser modificado para 
                    usar 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#isEnumConstant--">
                        <code>java.lang.reflect.Field.isEnumConstant()</code></a> para este propósito. El ejemplo 
                    <a class="SourceLink" target="_blank" href="../special/example/EnumSpy.java" 
                       onclick="showCode('../../displayCode.html', '../special/example/EnumSpy.java'); return false;">
                        <code>EnumSpy</code></a> en una sección posterior de este recorrido, 
                    <a href="../special/enumMembers.html">Examinando las Enumeraciones</a>, contiene una posible implementación.
                </p>
                <p>
                    En la sección de métodos de la salida, observer que el nombre del método incluye el nombre de la clase 
                    declarante. Así, el método <code>toString()</code> es implementado por 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#toString--"><code>Enum</code></a>, y no 
                       es heredado desde 
                    <a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">
                        <code>Object</code></a>. El código podría modificarse para hacer esto más obvio usando 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#getDeclaringClass--">
                        <code>Field.getDeclaringClass()</code></a>. El fragmento siguiente ilustra parte de una potencial solución.
                </p>
                <div class="codeblock">
                    <pre>
if (mbr instanceof Field) {
    Field f = (Field)mbr;
    out.format("  %s%n", f.toGenericString());
    out.format("  -- declared in: %s%n", f.getDeclaringClass());
}
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="classModifiers.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="classTrouble.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Examinando Modificadores de Clases y Tipos<br />
            <b>Página siguiente:</b> Solución de Problemas
        </div>
    </body>
</html> 
