<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Diseñando un Interfaz Remoto (Los Tutoriales de Java&trade; &gt; RMI)
        </title>
        <meta name="description" content="Este tutorial del RMI de Java describe el sistema RMI de Java. Recorre un ejemplo completo
              de cliente/servidor" />
        <meta name="keywords" content="java programming, learn java, java sample code, java rmi, java client server" />
        <link rel="stylesheet" href="../indice.css" type="text/css"/>
        <script src="../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkAHEAD"><a href="overview.html">Una descripción de las Aplicaciones RMI (Remote Method Interface)</a></div>
                <div class="linkAHEAD"><a href="server.html">Escribiendo un Servidor RMI</a></div>
                <div class="nolinkBHEAD">Diseñando un Interfaz Remoto</div>
                <div class="linkBHEAD"><a href="implementing.html">Implementando un Intefaz Remoto</a></div>
                <div class="linkAHEAD"><a href="client.html">Creando un Programa Cliente</a></div>
                <div class="linkAHEAD"><a href="example.html">Compilando y Ejecutando el Ejemplo</a></div>
                <div class="linkBHEAD"><a href="compiling.html">Compilando los Programas de Ejemplo</a></div>
                <div class="linkBHEAD"><a href="running.html">Ejecutando los Programas de Ejemplo</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> RMI<br />
                <b>Sección:</b> Escribiendo un Servidor RMI
            </div>
            <div id="BreadCrumbs">
                <a href="../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="./index.html" target="_top">RMI</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="server.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="./TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="implementing.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Diseñando un Interfaz Remoto</h1>
            </div>
            <div id="PageContent">
                <p>
                    En el núcleo del motor de cálculo existe un protocolo que permite enviar las tareas al motor de cálculo, que el 
                    motor de cálculo a ejecutar esas tareas, y que los resultados de esas tareas se devuelvan al cliente. Este 
                    protocolo se expresa en las interfaces que son admitidas por el motor de cálculo. La comunicación remota para 
                    este protoco se ilustra en la figura siguiente.
                </p>
                <div class="centrado">
                    <img src="../figures/rmi/rmi-3.gif" width="248" height="76" class="imgbottom"
                         alt="comunicaciones remotas entre un cliente y el motor de cálculo" />
                </div>
                <p>
                    Cada interfaz contiene un único método. La interfaz remota del motor de cálculo, <code>Compute</code>, permite 
                    enviar las tareas al motor. La interfaz de cliente, <code>Task</code>, define cómo ejecuta el motor de cálculo 
                    una tarea enviada.
                </p>
                <p>
                    La interfaz 
                    <a class="SourceLink" target="_blank" href="examples/compute/Compute.java" 
                       onclick="showCode('../displayCode.html', 'examples/compute/Compute.java'); return false;">
                        <code>compute.Compute</code></a> define la parte accesible de forma remota, el motor de cálculo en sí. Aquí 
                    está el código fuente para la interfaz <code>Compute</code>:
                </p>
                <div class="codeblock">
                    <pre>
package compute;

import java.rmi.Remote;
import java.rmi.RemoteException;

public interface Compute extends Remote {
    &lt;T&gt; T executeTask(Task&lt;T&gt; t) throws RemoteException;
}
                    </pre>
                </div>
                <p>
                    Al extender la interfaz <code>java.rmi.Remote</code>, la interfaz <code>Compute</code> se identifica a sí misma 
                    como una interfaz cuyos métodos pueden invocarse desde otra máquina virtual Java. Cualquier objeto que 
                    implemente esta interfaz puede ser un objeto remoto.
                </p>
                <p>
                    Como un miembro de una interfaz remota, el método <code>executeTask</code> es un método remoto. Por lo tanto, 
                    este método debe ser definido como capaz de lanzar una <code>java.rmi.RemoteException</code>. Esta excepción es 
                    lanzada por el sistema RMI desde una invocación a método remoto para indicar que ha ocurrido un fallo de 
                    comunicación o un error de protocolo. Una <code>RemoteException</code> es una excepción comprobada, así que 
                    cualquier código que invoque un método remoto necesita manejar esta excepción capturándola o declarándola en su 
                    cláusula <code>throws</code>.
                </p>
                <p>
                    La segunda interfaz necesaria para el motor de cálculo es la interfaz <code>Task</code>, que es el tipo del 
                    parámetro al método <code>executeTask</code> en la interfaz <code>Compute</code>. La interfaz 
                    <a class="SourceLink" target="_blank" href="examples/compute/Task.java" 
                       onclick="showCode('../displayCode.html', 'examples/compute/Task.java'); return false;">
                        <code>compute.Task</code></a> define la interfaz entre el motor de cálculo y el trabajo que se necesita 
                    hacer, proporcionando la forma de iniciar el trabajo. Aquí está el código fuente para la interfaz 
                    <code>Task</code>:
                </p>
                <div class="codeblock">
                    <pre>
package compute;

public interface Task&lt;T&gt; {
    T execute();
}
                    </pre>
                </div>
                <p>
                    La interfaz <code>Task</code> define un único método, <code>execute</code>, que no tiene parámetros y no lanza 
                    excepciones. Ya que la interfaz no extiende <code>Remote</code>, el método en esta interfaz no necesita listar 
                    <code>java.rmi.RemoteException</code> en su cláusula <code>throws</code>.
                </p>
                <p>
                    La interfaz <code>Task</code> tiene un parámetro de tipo, <code>T</code>, que representa el tipo del resultado 
                    del cálculo de la tarea. El método <code>execute</code> de esta interfaz devuelve el resultado del cálculo y, 
                    por lo tanto, su tipo de retorno es <code>T</code>.
                </p>
                <p>
                    El método <code>executeTask</code> de la interfaz <code>Compute</code>, a su vez, devuelve el resultado de la 
                    ejecución de la instancia <code>Task</code> que se le pasó. Por lo tanto, el método <code>executeTask</code> 
                    tiene su propio parámetro de tipo, <code>T</code>, que asocia su propio tipo de retorno con el tipo de 
                    resultado de la instancia <code>Task</code> pasada. 
                </p>
                <p>
                    RMI usa el mecanismo de serialización de objetos de Java para transportar los objetos por valor entre máquinas 
                    virtuales de Java. Para que un objeto se considere serializable, su clase debe implementar la interfaz de 
                    marcador <code>java.io.Serializable</code>. Por lo tanto, las clases que implementan la interfaz 
                    <code>Task</code> también deben implementar <code>Serializable</code>, al igual que las clases de los objetos 
                    utilizados para los resultados de la tarea.
                </p>
                <p>
                    Un objeto <code>Compute</code> puede ejecutar diferentes clases de tareas siempre que sean implementaciones del 
                    tipo <code>Task</code>. Las clases que implementan esta interfaz pueden contener cualquier dato necesitado para 
                    el cálculo de la tarea y cualquier otro método necesitado para el cálculo.
                </p>
                <p>
                    Así es como RMI hace posible este sencillo motor de cálculo. Debido a que RMI puede asumir que los objetos 
                    <code>Task</code> están escritos en el lenguaje de programación Java, las implementaciones del objeto 
                    <code>Task</code> que eran previamente desconocidas al motor de cálculo son descargadas por RMI en la máquina 
                    virtual de Java del motor de cálculo según sea necesario. Esta capacidad permite a los clientes del motor de 
                    cálculo a definir nuevas clases de tareas que se ejecutarán en la máquina servidor sin necesidad de que el 
                    código se instale explícitamente en esa máquina.
                </p>
                <p>
                    El motor de cálculo, implementado por la clase <code>ComputeEngine</code>, implementa la interfaz 
                    <code>Compute</code>, lo que le permite que se le envíen diferentes tareas mediante llamadas a su método 
                    <code>executeTask</code>. Estas tareas se ejecutan utilizando la implementación de la tarea del método 
                    <code>execute</code> y los resultados son devueltos al cliente remoto.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="server.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="./TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="implementing.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Escribiendo un Servidor RMI<br />
            <b>Página siguiente:</b> Implementando un Intefaz Remoto
        </div>
    </body>
</html> 
