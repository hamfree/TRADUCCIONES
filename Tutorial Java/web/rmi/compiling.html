<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Compilando los Programas de Ejemplo (Los Tutoriales de Java&trade; &gt; RMI)
        </title>
        <meta name="description" content="Este tutorial del RMI de Java describe el sistema RMI de Java. Recorre un ejemplo completo
              de cliente/servidor" />
        <meta name="keywords" content="java programming, learn java, java sample code, java rmi, java client server" />
        <link rel="stylesheet" href="../indice.css" type="text/css"/>
        <script src="../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkAHEAD"><a href="overview.html">Una descripción de las Aplicaciones RMI (Remote Method Interface)</a></div>
                <div class="linkAHEAD"><a href="server.html">Escribiendo un Servidor RMI</a></div>
                <div class="linkBHEAD"><a href="designing.html">Diseñando un Interfaz Remoto</a></div>
                <div class="linkBHEAD"><a href="implementing.html">Implementando un Intefaz Remoto</a></div>
                <div class="linkAHEAD"><a href="client.html">Creando un Programa Cliente</a></div>
                <div class="linkAHEAD"><a href="example.html">Compilando y Ejecutando el Ejemplo</a></div>
                <div class="nolinkBHEAD">Compilando los Programas de Ejemplo</div>
                <div class="linkBHEAD"><a href="running.html">Ejecutando los Programas de Ejemplo</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> RMI<br />
                <b>Sección:</b> Compilando y Ejecutando el Ejemplo
            </div>
            <div id="BreadCrumbs">
                <a href="../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="./index.html" target="_top">RMI</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="example.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="./TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="running.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Compilando los Programas de Ejemplo</h1>
            </div>
            <div id="PageContent">
                <p>
                    En un escenario del mundo real en el cual se despliega un servicio tal como el motor de cálculo, es probable 
                    que un desarrollador cree un fichero Archivo Java (JAR) que contenga las interfaces <code>Compute</code> y 
                    <code>Task</code> para que las clases del servidor las implementen y los programas del cliente las usen. A 
                    continuación, un desarrollador, quizás el mismo desarrollador del fichero JAR de interfaces, escribiría una 
                    implementación de la interfaz <code>Compute</code> y desplegaría ese servicio en una máquina disponible a los 
                    clientes. Los desarrolladores de los programas cliente pueden usar las interfaces <code>Compute</code> y 
                    <code>Task</code>, contenidas en el fichero JAR, e independientemente desarrollar una tarea y un programa 
                    cliente que usa un servicio <code>Compute</code>.
                </p>
                <p>
                    En esta sección, aprende cómo configurar el fichero JAR, las clases del servidor, y las clases del cliente. 
                    Verá que la clase <code>Pi</code> del cliente será descargada en el servidor en tiempo de ejecución. También, 
                    las interfaces <code>Compute</code> y <code>Task</code> serán descargadas desde el servidor al registro en 
                    tiempo de ejecución.
                </p>
                <p>
                    Este ejemplo separa las interfaces, la implementación de objeto remot, y el código de cliente en tres paquetes:
                </p>
                <ul>
                    <li>
                        <code>compute</code> &ndash; interfaces 
                        <a class="SourceLink" target="_blank" href="examples/compute/Compute.java" 
                           onclick="showCode('../displayCode.html', 'examples/compute/Compute.java'); return false;">
                            <code>Compute</code></a> y
                        <a class="SourceLink" target="_blank" href="examples/compute/Task.java" 
                           onclick="showCode('../displayCode.html', 'examples/compute/Task.java'); return false;">
                            <code>Task</code></a>
                    </li>
                    <li>
                        <code>engine</code> &ndash; clase de implementación 
                        <a class="SourceLink" target="_blank" href="examples/engine/ComputeEngine.java" 
                           onclick="showCode('../displayCode.html', 'examples/engine/ComputeEngine.java'); return false;">
                            <code>ComputeEngine</code></a>
                    </li>
                    <li>
                        <code>client</code> &ndash; código del cliente 
                        <a class="SourceLink" target="_blank" href="examples/client/ComputePi.java" 
                           onclick="showCode('../displayCode.html', 'examples/client/ComputePi.java'); return false;">
                            <code>ComputePi</code></a> e implementación de la tarea 
                        <a class="SourceLink" target="_blank" href="examples/client/Pi.java" 
                           onclick="showCode('../displayCode.html', 'examples/client/Pi.java'); return false;">
                            <code>Pi</code></a> 
                    </li>
                </ul>
                <p>
                    En primer lugar, debe crear el fichero JAR de interfaz para proporcionarlo a los desarrolladores de servidores 
                    y clientes.

                </p>
                <h2>
                    Construir un Fichero JAR de Clases Interfaz
                </h2>
                <p>
                    En primer lugar, necesita compilar los ficheros fuentes de interfaz en el paquete <code>compute</code> y 
                    después construir un fichero JAR que contiene sus ficheros class. Asuma que el usuario <code>waldo</code> ha 
                    escrito estas interfaces y colocó los ficheros fuente en el directorio <code>c:\home\waldo\src\compute</code> 
                    en Windows o el directorio <code>/home/waldo/src/compute</code> en Solaris OS o Linux. Dadas estas rutas, puede 
                    usar los comandos siguientes para compilar las interfaces y crear el fichero JAR:
                </p>
                <p>
                    <strong>Microsoft Windows</strong>:
                </p>
                <div class="codeblock">
                    <pre>
cd c:\home\waldo\src
javac compute\Compute.java compute\Task.java
jar cvf compute.jar compute\*.class
                    </pre>
                </div>
                <p>
                    <strong>Solaris OS o Linux</strong>:
                </p>
                <div class="codeblock">
                    <pre>
cd /home/waldo/src
javac compute/Compute.java compute/Task.java
jar cvf compute.jar compute/*.class
                    </pre>
                </div>
                <hr />
                <p>
                    El comando <code>jar</code> muestra la salida siguiente debido a la opción <code>-v</code>:
                </p>
                <div class="codeblock">
                    <pre>
added manifest
adding: compute/Compute.class(in = 307) (out= 201)(deflated 34%)
adding: compute/Task.class(in = 217) (out= 149)(deflated 31%)
                    </pre>
                </div>
                <p>
                    Ahora, puede distribuir el fichero <code>compute.jar</code> a los desarrolladores de las aplicaciones servidor 
                    y cliente de forma que puedan hacer uso de las interfaces.
                </p>
                <p>
                    Después de crear clases del lado del servidor o del lado del cliente con el compilador <code>javac</code>, si 
                    alguna de esas clases necesitará ser descargada dinámicamente por otras máquinas virtuales Java, debe 
                    asegurarse de que sus archivos de clase estén colocados en una ubicación accesible a la red. En este ejemplo, 
                    para Solaris OS o Linux esta ubicación es <code>/home/<i>user</i>/public_html/classes</code> porque muchos 
                    servidores web permiten el acceso al directorio <code>public_html</code> de un usuario a través de una URL de 
                    HTTP construída como <code>http://host/~<i>user</i>/</code>. Si su servidor web no admite esta convención, 
                    podría usar una ubicación diferente en la jerarquía del servidor web, o podría usar una URL de fichero en su 
                    lugar. Las URLs de fichero toman la forma <code>file:/home/<i>user</i>/public_html/classes/</code> en Solaris 
                    OS o Linux y la forma <code>file:/c:/home/<i>user</i>/public_html/classes/</code> en Windows. Puede también 
                    seleccionar otro tipo de URL, como sea apropiado.
                </p>
                <p>
                    La accesibilidad de red de los ficheros class permite al tiempo de ejecución de RMI descargar el código cuando 
                    se necesite. En vez de definir su propio protocolo para descarga de código, RMI usa protocolor URL admitidos 
                    por la plataforma Java (por ejemplo, HTTP) para descargar el código. Tenga en cuenta que no es necesario 
                    utilizar un servidor web completo y pesado para servir estos archivos de clase. Por ejemplo, un servidor HTTP 
                    simple que proporcione la funcionalidad necesitada para hacer las clases disponibles para descargar en RMI a 
                    través de HTTP se puede encontrar  
                    <a href="http://www.oracle.com/webfolder/technetwork/java/core/basic/rmi/class-server.zip">aquí</a>. 
                    <br />
                    Vea también <a href="http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136424.html">Inicio de 
                        Invocación de Método Remoto</a>.
                </p>
                <h2>
                    Construir las Clases del Servidor
                </h2>
                <p>
                    El paquete <code>engine</code>  contiene solo una clase de implementación del lado del servidor, 
                    <code>ComputeEngine</code>, la implementación de la interfaz remota <code>Compute</code>.
                </p>
                <p>
                    Asuma que la usuaria <code>ann</code>, la desarrolladorea de la clase <code>ComputeEngine</code>, ha colocado 
                    <code>ComputeEngine.java</code> en el directorio <code>c:\home\ann\src\engine</code> en Windows o el directorio 
                    <code>/home/ann/src/engine</code> en Solaris OS o Linux. Ella está desplegando los ficheros class para clientes 
                    a descargar en un subdirectorio de su directorio <code>public_html</code>, 
                    <code>c:\home\ann\public_html\classes</code> en Windows o <code>/home/ann/public_html/classes</code> en Solaris 
                    OS o Linux. Esta ubicación es accesible a través de algunos servidores web como 
                    <code>http://<i>maquina</i>:<i>puerto</i>/~ann/classes/</code>.
                </p>
                <p>
                    La clase <code>ComputeEngine</code> depende de las interfaces <code>Compute</code> y <code>Task</code>, las 
                    cuales están contenidas en el fichero JAR <code>compute.jar</code>. Por lo tanto, necesita el fichero 
                    <code>compute.jar</code> en su ruta de clases cuando construya las clases del servidor. Asuma que el fichero 
                    <code>compute.jar</code> está ubicado en el directorio <code>c:\home\ann\public_html\classes</code> en Windows 
                    o el directorio <code>/home/ann/public_html/classes</code> en Solaris OS o Linux. Dadas estas rutas, puede usar 
                    los comandos siguientes para construir las clases del servidor:
                </p>
                <p>
                    <strong>Microsoft Windows</strong>:
                </p>
                <div class="codeblock">
                    <pre>
cd c:\home\ann\src
javac -cp c:\home\ann\public_html\classes\compute.jar
    engine\ComputeEngine.java
                    </pre>
                </div>
                <p>
                    <strong>Solaris OS o Linux</strong>:
                </p>
                <div class="codeblock">
                    <pre>
cd /home/ann/src
javac -cp /home/ann/public_html/classes/compute.jar
    engine/ComputeEngine.java
                    </pre>
                </div>
                <p>
                    La clase esbozo para <code>ComputeEngine</code> implementa la interfaz <code>Compute</code>, que se refiere a 
                    la interfaz <code>Task</code>. Así, las definiciones de clase para esas dos interfaces necesitan ser accesibles 
                    a través de la red para el esbozo para ser recibidas por otras máquinas virtuales de Java tales como la máquina 
                    virtual de Java del registro. La máquina virtual Java del cliente ya tendrá estas interfaces en su ruta de 
                    clases, por lo que en realidad no necesita descargar sus definiciones. El fichero <code>compute.jar</code> bajo 
                    el directorio <code>public_html</code> puede servir para este propósito.
                </p>
                <p>
                    Ahora, el motor de cálculo está listo para desplegar. Podría hacer eso ahora, o podría esperar hasta después de 
                    que haya construido el cliente.
                </p>
                <h2>
                    Construir las Clases del Cliente
                </h2>
                <p>
                    El paquete <code>client</code> contiene dos clases, <code>ComputePi</code>, el programa cliente principal, y 
                    <code>Pi</code>, la implementación del cliente de la interfaz <code>Task</code>.
                </p>
                <p>
                    Asuma que el usuario <code>jones</code>, el desarrollador de las clases cliente, ha colocado 
                    <code>ComputePi.java</code> y <code>Pi.java</code> en el directorio <code>c:\home\jones\src\client</code> en 
                    Windows o el directorio <code>/home/jones/src/client</code> en Solaris OS o Linux. El está desplegando los 
                    ficheros class para el motor de cálculo para descargar en un subdirectorio de su directorio 
                    <code>public_html</code>, <code>c:\home\jones\public_html\classes</code> en Windows o 
                    <code>/home/jones/public_html/classes</code> en Solaris OS o Linux. Esta ubicación está accesible a través de 
                    algunos servidores web como 
                    <code>http://<i>maquina</i>:<i>puerto</i>/~jones/classes/</code>.
                </p>
                <p>
                    Las clases cliente dependen de las interfaces <code>Compute</code> y <code>Task</code>, que estñan contenidas 
                    en el fichero JAR <code>compute.jar</code>. Por lo tanto, necesita el fichero <code>compute.jar</code> en su 
                    ruta de clases <code>c:\home\jones\public_html\classes</code> en Windows o el directorio 
                    <code>/home/jones/public_html/classes</code> en Solaris OS o Linux. Dadas estas rutas, puede usar los comandos 
                    siguientes para construir las clases del cliente:
                </p>
                <p>
                    <strong>Microsoft Windows</strong>:
                </p>
                <div class="codeblock">
                    <pre>
cd c:\home\jones\src
javac -cp c:\home\jones\public_html\classes\compute.jar
    client\ComputePi.java client\Pi.java
mkdir c:\home\jones\public_html\classes\client
cp client\Pi.class
    c:\home\jones\public_html\classes\client
                    </pre>
                </div>
                <p>
                    <strong>Solaris OS o Linux</strong>:
                </p>
                <div class="codeblock">
                    <pre>
cd /home/jones/src
javac -cp /home/jones/public_html/classes/compute.jar
    client/ComputePi.java client/Pi.java
mkdir /home/jones/public_html/classes/client
cp client/Pi.class
    /home/jones/public_html/classes/client
                    </pre>
                </div>
                <p>
                    Sólo la clase <code>Pi</code> necesita ser colocada en el directorio <code>public_html\classes\client</code>  
                    porque sólo la clase <code>Pi</code> necesita estar disponible para descargar a la máquina virtual de Java del 
                    motor de cálculo. Ahora, puede ejecutar el servidor y después el cliente.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="example.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="./TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="running.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Compilando y Ejecutando el Ejemplo<br />
            <b>Página siguiente:</b> Ejecutando los Programas de Ejemplo
        </div>
    </body>
</html> 
