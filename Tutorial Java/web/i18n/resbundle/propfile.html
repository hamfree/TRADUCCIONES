<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Respaldando un ResourceBundle con Ficheros de Propiedades (Los Tutoriales de Java&trade; &gt; Internacionalización &gt;
            Aislando Datos de una Localización Específica)
        </title>
        <meta name="description" content="Este tutorial de internacionalización de Java describe la configuración regional, 
              aislando datos específicos de la configuración regional, formateando datos, nombre de dominio internacionalizado e 
              identificador de recursos" />
        <meta name="keywords" content="java programming, learn java, java sample code, i18n, internationalization, locale, text
              formatting" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Aislando Datos de una Localización Específica</a></div>
                <div class="linkAHEAD"><a href="concept.html">Sobre la Clase ResourceBundle</a></div>
                <div class="linkAHEAD"><a href="prepare.html">Preparándose para Utilizar un ResourceBundle</a></div>
                <div class="nolinkAHEAD">Respaldando un ResourceBundle con Ficheros de Propiedades</div>
                <div class="linkAHEAD"><a href="list.html">Usando un ListResourceBundle</a></div>
                <div class="linkAHEAD"><a href="control.html">Personalizando la Carga de un Resource Bundle</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Internacionalización<br />
                <b>Lección:</b> Aislando Datos de una Localización Específica
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Internacionalización</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Aislando Datos de una Localización Específica</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="prepare.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="list.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Respaldando un ResourceBundle con Ficheros de Propiedades</h1>
            </div>
            <div id="PageContent">
                <p>
                    Esta sección recorre un programa de ejemplo llamado 
                    <a class="SourceLink" target="_blank" href="examples/PropertiesDemo.java"
                       onclick="showCode('../../displayCode.html', 'examples/PropertiesDemo.java'); return false;">
                        <code>PropertiesDemo</code></a>.
                </p>
                <h2>
                    1. Crear el Fichero de Propiedades Predeterminado
                </h2>
                <p>
                    Un fichero de propiedades es un fichero de texto simple. Puede crear y mantener un fichero de propiedades 
                    simplemente con cualquier editor de texto.
                </p>
                <p>
                    Siempre debe crear un fichero de propiedades predeterminado. El nombre de este fichero empieza con el nombre 
                    base de su <code>ResourceBundle</code> y termina con el sufijo <code>.properties</code>. En el programa 
                    <code>PropertiesDemo</code> el nombre base es <code>LabelsBundle</code>. Por lo tanto el fichero de propiedades 
                    predeterminado se llama <code>LabelsBundle.properties</code>. Este fichero contiene las líneas siguientes:
                </p>
                <div class="codeblock">
                    <pre>
# This is the default LabelsBundle.properties file
s1 = computer
s2 = disk
s3 = monitor
s4 = keyboard
                    </pre>
                </div>
                <p>
                    Tenga en cuenta que en el archivo anterior las líneas de comentarios comienzan con un signo de almohadilla (#). 
                    Las otras líneas contiene pares clave-valor. La clave está al lado izquierdo del signo igual y el valor está a 
                    la derecha. Por ejemplo, <code>s2</code> es la clave que corresponde al valor <code>disk</code>. La clave es 
                    arbitraria. Podríamos haber llamado a <code>s2</code> de alguna otra forma, como <code>msg5</code> o 
                    <code>diskID</code>. Una vez definida, sin embargo, la clave no debe cambiar porque es referenciada en el 
                    código fuente. Los valores pueden cambiarse. En realidad, cuando sus traductores crean nuevos ficheros de 
                    propiedades para adaptarse a idiomas adicionales, traducirán los valores a varios idiomas.
                </p>
                <h2>
                    2. Crear Archivos de Propiedades Adicionales Según Sea Necesario
                </h2>
                <p>
                    Para admitir un <code>Locale</code> adicional, sus traductores crearán un nuevo fichero de propiedades que 
                    contiene los valores traducidos. No se requieren cambios a su código fuente, porque su programa hace referencia 
                    a las claves, no los valores.
                </p>
                <p>
                    Por ejemplo, para agregar soporte para el idioma alemán, sus traductores traducirían los valores en 
                    <code>LabelsBundle.properties</code> y los colocan en un fichero llamado 
                    <code>LabelsBundle_de.properties</code>. Observe que el nombre de este fichero, como el del fichero 
                    predeterminado, empieza con el nombre base <code>LabelsBundle</code> y termina con el sufijo 
                    <code>.properties</code>. Sin embargo, dado que este fichero está destinado a un <code>Locale</code> 
                    específico, el nombre base va seguido del código de idioma (<code>de</code>). Los contenidos de 
                    <code>LabelsBundle_de.properties</code> son como sigue:
                </p>
                <div class="codeblock">
                    <pre>
# This is the LabelsBundle_de.properties file
s1 = Computer
s2 = Platte
s3 = Monitor
s4 = Tastatur
                    </pre>
                </div>
                <p>
                    El programa de ejemplo <code>PropertiesDemo</code> viene con tres archivos de propiedades:
                </p>
                <div class="codeblock">
                    <pre>
LabelsBundle.properties
LabelsBundle_de.properties
LabelsBundle_fr.properties
                    </pre>
                </div>
                <h2>
                    3. Especificar el Locale
                </h2>
                <p>
                    El programa <code>PropertiesDemo</code> crea los objetos <code>Locale</code> como sigue:
                </p>
                <div class="codeblock">
                    <pre>
Locale[] supportedLocales = {
    Locale.FRENCH,
    Locale.GERMAN,
    Locale.ENGLISH
};
                    </pre>
                </div>
                <p>
                    Estos objetos <code>Locale</code> deben coincidir con los ficheros de propiedad creados en los dos pasos 
                    anteriores. Por ejemplo, el objeto <code>Locale.FRENCH</code> se corresponde con el fichero 
                    <code>LabelsBundle_fr.properties</code>. El objeto <code>Locale.ENGLISH</code> no tiene fichero 
                    <code>LabelsBundle_en.properties</code> coincidente, por lo que se usa el fichero predeterminado.
                </p>
                <h2>
                    4. Crear el ResourceBundle
                </h2>
                <p>
                    Este paso muestra cómo el <code>Locale</code>, los ficheros de propiedades, y el <code>ResourceBundle</code> se 
                    relacionan. Para crear el <code>ResourceBundle</code>, invoque el método <code>getBundle</code>, especificando 
                    el nombre base y el <code>Locale</code>:
                </p>
                <div class="codeblock">
                    <pre>
ResourceBundle labels = ResourceBundle.getBundle("LabelsBundle", currentLocale);
                    </pre>
                </div>
                <p>
                    El método <code>getBundle</code> primero busca por un fichero class que coincida con el nombre base y el 
                    <code>Locale</code>. Si no encuentra un fichero class, entonces comprueba los ficheros de propiedades. En el 
                    programa <code>PropertiesDemo</code> hemos respaldado el <code>ResourceBundle</code> con ficheros de 
                    propiedades en vez de con ficheros class. Cuando el método <code>getBundle</code> localiza el fichero de 
                    propiedades correcto, devuelve un objeto <code>PropertyResourceBundle</code> que contiene los pares clave-valor 
                    del fichero de propiedades.
                </p>
                <h2>
                    5. Obtener el Texto Localizado
                </h2>
                <p>
                    Para recupera el valor traducido desde el <code>ResourceBundle</code>, invoque el método <code>getString</code> 
                    como sigue:
                </p>
                <div class="codeblock">
                    <pre>
String value = labels.getString(key);
                    </pre>
                </div>
                <p>
                    El objeto <code>String</code> devuelto por <code>getString</code> se corresponde a la clave especificada. El 
                    <code>String</code> está en el idioma adecuado, siempre que exista un archivo de propiedades para el 
                    <code>Locale</code> especificado.
                </p>
                <h2>
                    6. Iterar a través de Todas las Claves
                </h2>
                <p>
                    Este paso es opcional. Cuando depura su programa, podría querer recuperar los valores de todas las claves en un 
                    <code>ResourceBundle</code>. El método <code>getKeys</code> devuelve una <code>Enumeration</code> de todas las 
                    claves en un <code>ResourceBundle</code>. Puede iterar a través de la <code>Enumeration</code> y recuperar cada 
                    valor con el método <code>getString</code>. Las siguientes líneas de código, las cuales son del programa 
                    <code>PropertiesDemo</code>, le muestran como se hace:
                </p>
                <div class="codeblock">
                    <pre>
ResourceBundle labels = ResourceBundle.getBundle("LabelsBundle", currentLocale);
Enumeration bundleKeys = labels.getKeys();

while (bundleKeys.hasMoreElements()) {
    String key = (String)bundleKeys.nextElement();
    String value = labels.getString(key);
    System.out.println("key = " + key + ", " + "value = " + value);
}
                    </pre>
                </div>
                <h2>
                    7. Ejecutar el Programa Demostración
                </h2>
                <p>
                    Ejecutar el programa <code>PropertiesDemo</code> genera la siguiente salida. Las tres primeras líneas muestran 
                    los valores devueltos por <code>getString</code> para varios objetos <code>Locale</code>. El programa visualiza 
                    las últimas cuatro líneas cuando itera a través de las claves con el método <code>getKeys</code>.
                </p>
                <div class="codeblock">
                    <pre>
Locale = fr, key = s2, value = Disque dur
Locale = de, key = s2, value = Platte
Locale = en, key = s2, value = disk

key = s4, value = Clavier
key = s3, value = Moniteur
key = s2, value = Disque dur
key = s1, value = Ordinateur
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="prepare.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="list.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Preparándose para Utilizar un ResourceBundle<br />
            <b>Página siguiente:</b> Usando un ListResourceBundle
        </div>
    </body>
</html> 
