<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Convirtiendo Dígitos Latinos a Otros Dígitos Unicode (Los Tutoriales de Java&trade; &gt; Internacionalización &gt;
            Trabajando con Texto)
        </title>
        <meta name="description" content="Este tutorial de internacionalización de Java describe la configuración regional, 
              aislando datos específicos de la configuración regional, formateando datos, nombre de dominio internacionalizado e 
              identificador de recursos" />
        <meta name="keywords" content="java programming, learn java, java sample code, i18n, internationalization, locale, text
              formatting" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Trabajando con Texto</a></div>
                <div class="linkAHEAD"><a href="charintro.html">Comprobando las Propiedades de los Caracteres</a></div>
                <div class="linkAHEAD"><a href="collationintro.html">Comparando Cadenas</a></div>
                <div class="linkBHEAD"><a href="locale.html">Realizando Comparaciones Independientes de la Localización</a></div>
                <div class="linkBHEAD"><a href="rule.html">Personalización de Reglas de intercalación</a></div>
                <div class="linkBHEAD"><a href="perform.html">Mejorando el rendimiento de la intercalación</a></div>
                <div class="linkAHEAD"><a href="unicode.html">Unicode</a></div>
                <div class="linkBHEAD"><a href="terminology.html">Terminología</a></div>
                <div class="linkBHEAD"><a href="supplementaryChars.html">Caracteres Complementarios como Sustitutos</a></div>
                <div class="linkBHEAD"><a href="characterClass.html">IPAs de Character y String</a></div>
                <div class="linkBHEAD"><a href="usage.html">Ejemplo de Uso</a></div>
                <div class="linkBHEAD"><a href="design.html">Consideraciones de Diseño</a></div>
                <div class="linkBHEAD"><a href="info.html">Más Información</a></div>
                <div class="linkAHEAD"><a href="boundaryintro.html">Detectando los Límites de Texto</a></div>
                <div class="linkBHEAD"><a href="about.html">Sobre la Clase BreakIterator</a></div>
                <div class="linkBHEAD"><a href="char.html">Límites de Carácter</a></div>
                <div class="linkBHEAD"><a href="word.html">Límites de Palabra</a></div>
                <div class="linkBHEAD"><a href="sentence.html">Límites de Oración</a></div>
                <div class="linkBHEAD"><a href="line.html">Límites de Línea</a></div>
                <div class="nolinkAHEAD">Convirtiendo Dígitos Latinos a Otros Dígitos Unicode</div>
                <div class="linkAHEAD"><a href="convertintro.html">Convirtiendo Texto No Unicode</a></div>
                <div class="linkBHEAD"><a href="string.html">Codificación de Byte y Strings</a></div>
                <div class="linkBHEAD"><a href="stream.html">Flujos de Character y Byte</a></div>
                <div class="linkAHEAD"><a href="normalizerapi.html">Normalizando Texto</a></div>
                <div class="linkAHEAD"><a href="bidi.html">Trabajando con Texto Bidireccional con la Clase JTextComponent</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Internacionalización<br />
                <b>Lección:</b> Trabajando con Texto
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Internacionalización</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Trabajando con Texto</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="line.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="convertintro.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Convirtiendo Dígitos Latinos a Otros Dígitos Unicode</h1>
            </div>
            <div id="PageContent">
                <p>
                    Por defecto, cuando el texto contiene valores numéricos, estos valores se visualizan usando dígitos latinos 
                    (europeos). Cuando se prefieren otras formas de dígito Unicode, use la clase 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html">
                        <code>java.awt.font.NumericShaper</code></a>. La IPA de <code>NumericShaper</code> le permite visualizar un 
                        valor numérico representado internamente como un valor ASCII en cualquier forma de dígito Unicode.
                </p>
                <p>
                    El trozo de código siguiente, del ejemplo 
                    <a class="SourceLink" target="_blank"
                       href="examples/ArabicDigits.java"
                       onclick="showCode('../../displayCode.html', 'examples/ArabicDigits.java'); return false;">
                        <code>ArabicDigits</code></a>, muestra cómo usar una instancia de <code>NumericShaper</code> para convertir
                        dígitos latinos en dígitos árabes. La línea que determina la acción de modelado está en negrita.
                </p>
                <div class="codeblock">
                    <pre>
ArabicDigitsPanel(String fontname) {
    HashMap map = new HashMap();
    Font font = new Font(fontname, Font.PLAIN, 60);
    map.put(TextAttribute.FONT, font);
    <strong>map.put(TextAttribute.NUMERIC_SHAPING,
        NumericShaper.getShaper(NumericShaper.ARABIC));</strong>

    FontRenderContext frc = new FontRenderContext(null, false, false);
    layout = new TextLayout(text, map, frc);
}

// ...

public void paint(Graphics g) {
    Graphics2D g2d = (Graphics2D)g;
    layout.draw(g2d, 10, 50);
}
                    </pre>
                </div>
                <p>
                    La insatncia <code>NumericShaper</code> para dígitos árabes se recupera y coloca dentro de un 
                    <code>HashMap</code> para la clave de atributo 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/TextAttribute.html#NUMERIC_SHAPING">
                        <code>TextLayout.NUMERIC_SHAPING</code></a>. El mapa hash se pasa a la instancia <code>TextLayout</code>. 
                        Después de reproducir el texto en el método <code>paint</code>, los dígitos se visualizan en el silabario 
                        deseado. En este ejemplo, los dígitos latinos, del 0 al 9, se dibujaron como dígitos arábigos.
                </p>
                <div class="centrado">
                    <img src="../../figures/i18n/ArabicDigits.png" width="589" height="102"
                         alt="Salida del ejemplo ArabicDigits mostrando dígitos arábigos del 0 al 9" />
                </div>
                <p>
                    El ejemplo anterior usa la constante <code>NumericShaper.ARABIC</code> para recuperar el moldeador deseado, 
                    pero la clase 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#field_summary">
                        <code>NumericShaper</code></a> proporciona constantes para muchos idiomas. Estas constantes se definen como 
                        máscaras de bit y se denominan como <em>constantes basadas en máscaras de bit</em> de 
                        <code>NumericShaper</code>.
                </p>
                <h2>
                    Constantes de Rango Basadas en Enumeración
                </h2>
                <p>
                    Una forma alternativa de especificar un conjunto particular de dígitos es usar el tipo enumerado (enum) 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.Range.html">
                        <code>NumericShaper.Range</code></a>. Esta enumeración, presentada en la versión 7 de Java SE, también 
                        proporciona un conjunto de 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.Range.html#field_summary">
                        constantes</a>. Aunque estas constantes se definen usando mecanismos diferentes, la máscara de bits 
                    <code>NumericShaper.ARABIC</code> es funcionalmente equivalente a la enumeración 
                    <code>NumericShaper.Range.ARABIC</code>, y existe un método <code>getShaper</code> correspondiente para cada 
                    tipo de constante:
                </p>
                <ul>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getShaper-int-">
                            <code>getShaper(int singleRange)</code></a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getShaper-java.awt.font.NumericShaper.Range-">
                            <code>getShaper(NumericShaper.Range singleRange)</code></a>
                    </li>
                </ul>
                <p>
                    El ejemmplo 
                    <a class="SourceLink" target="_blank"
                       href="examples/ArabicDigitsEnum.java"
                       onclick="showCode('../../displayCode.html', 'examples/ArabicDigitsEnum.java'); return false;">
                        <code>ArabicDigitsEnum</code></a> es idéntico al ejemplo ArabicDigits, excepto que usa la enumeración 
                    <code>NumericShaper.Range</code> para espeficicar el silabario de idioma:
                </p>
                <div class="codeblock">
                    <pre>
ArabicDigitsEnumPanel(String fontname) {
    HashMap map = new HashMap();
    Font font = new Font(fontname, Font.PLAIN, 60);
    map.put(TextAttribute.FONT, font);
    <strong>map.put(TextAttribute.NUMERIC_SHAPING,
        NumericShaper.getShaper(NumericShaper.Range.ARABIC));</strong>
    FontRenderContext frc = new FontRenderContext(null, false, false);
    layout = new TextLayout(text, map, frc);
}
                    </pre>
                </div>
                <p>
                    Ambos métodos <code>getShaper</code> aceptan un parámetro <code>singleRange</code>. Con uno u otro tipo de 
                    constante, puede especificar un rango de dígitos específicos del silabario. Las constantes de máscara de bits 
                    pueden ser combinadas usando el operando <code>OR</code>, o puede crear un conjunto de enumeraciones 
                    <code>NumericShaper.Range</code>. A continuación se muestra como definir un rango usando cada tipo de constante:
                </p>
                <div class="codeblock">
                    <pre>
NumericShaper.MONGOLIAN | NumericShaper.THAI |
NumericShaper.TIBETAN
EnumSet.of(
    NumericShaper.Range.MONGOLIAN,
    NumericShaper.Range.THAI,
    NumericShaper.Range.TIBETAN)
                    </pre>
                </div>
                <p>
                    Puede consultar al objeto <code>NumericShaper</code> para determinar qué rangos soporta usando tanto el método 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getRanges--">
                        <code>getRanges</code></a> para moldeadores basados en máscaras de bit o el método 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getRangeSet--">
                        <code>getRangeSet</code></a> para moldeadores basados en enumeraciones.
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;
                    <p>
                        Puede usar las constante basadas en máscaras de bit tradicionales o las constantes <code>Range</code> 
                        basadas en enumeraciones. A continuación, se muestran algunas consideraciones a la hora de decidir cuál 
                        usar:
                    </p>
                    <ul>
                        <li>La IPA de <code>Range</code> requiere el KDJ 7 o posterior.</li>
                        <li>La IPA de <code>Range</code> cubre más rangos Unicode que la IPA de máscaras de bit.</li>
                        <li>La IPA de máscaras de bits es un poquito más rápida que la IPA de <code>Range</code> IPA.</li>
                    </ul>
                    <hr />
                </div>
                <h2>
                    Representar Dígitos de Acuerdo al Contexto de Idioma
                </h2>
                <p>
                    El ejemplo 
                    <a class="SourceLink" target="_blank"
                       href="examples/ArabicDigits.java"
                       onclick="showCode('../../displayCode.html', 'examples/ArabicDigits.java'); return false;">
                        <code>ArabicDigits</code></a> fue diseñado para usar el moldeador de un idioma específico, pero algunas 
                        veces los dígitos deben ser representados de acuerdo al contexto del idioma. Por ejemplo, si el texto que 
                        precede a los dígitos usa el silabario Thai, se prefieren los dígitos Thai. Si el texto se visualiza en 
                        tibetano, se prefieren los dígitos tibetanos.
                </p>
                <p>
                    Puede lograr esto usando uno de los métodos <code>getContextualShaper</code>:
                </p>
                <ul>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getContextualShaper-int-">
                            getContextualShaper(int ranges)</a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getContextualShaper-int-int-">
                            getContextualShaper(int ranges, int defaultContext)</a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getContextualShaper-java.util.Set-">
                            getContextualShaper(Set&lt;NumericShaper.Range&gt; ranges)</a>
                    </li>
                    <li>
                        <a class="APILink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/api/java/awt/font/NumericShaper.html#getContextualShaper-java.util.Set-java.awt.font.NumericShaper.Range-">
                            getContextualShaper(Set&lt;NumericShaper.Range&gt; ranges, NumericShaper.Range defaultContext)</a>
                    </li>
                </ul>
                <p>
                    Los dos primeros métodos usan las constantes de máscaras de bit, y los dos últimos usan las constantes de 
                    enumeración. Los metodos que aceptan un parámetro <code>defaultContext</code> le capacitan para especificar el 
                    moldeador inicial que se usa cuando se visualizen los valores numéricos antes del texto. Cuando no está definido 
                    un contexto predeterminado, los dígitos iniciales se muestran con formas latinas.
                </p>
                <p>
                    El ejemplo 
                    <a class="SourceLink" target="_blank" href="examples/ShapedDigits.java"
                       onclick="showCode('../../displayCode.html', 'examples/ShapedDigits.java'); return false;">
                        <code>ShapedDigits</code></a> muestra como trabajan los moldeadores. Se visualizan cinco diseños de texto:
                </p>
                <ol>
                    <li>
                        El primer diseño no usa moldeador; todos los dígitos se visualizan con el silabario latino.
                    </li>
                    <li>
                        El segundo diseño moldea todos los dígitos como dígitos arábigos, independientemente del contexto de idioma.
                    </li>
                    <li>
                        El tercer diseño emplea un moldeador contextual que usa dígitos arábigos. El contexto predeterminado se 
                        define como arábigo.
                    </li>
                    <li>
                        El cuarto diseño emplea un moldeador contextual que dígitos arábigos, pero el moldeador no especifica un 
                        contexto predeterminado.
                    </li>
                    <li>
                        El quinto diseño emplea un moldeador contextual que usa la máscara de bits <code>ALL_RANGES</code>, pero el 
                        moldeador no especifica un contexto predeterminado.
                    </li>
                </ol>
                <div class="centrado">
                    <img src="../../figures/i18n/ShapedDigits.png" width="590" height="378"
                         alt="Salida del ejemplo ilustrando cmo trabajan los moldeadores contextuales" />
                </div>
                <p>
                    Las líneas de código siguientes muestran como los moldeadores, si se usan, están definidos:
                </p>
                <ol>
                    <li>
                        No se usa moldeador.
                    </li>
                    <li>
                        <code>NumericShaper arabic = NumericShaper.getShaper(NumericShaper.ARABIC);</code>
                    </li>
                    <li>
                        <code>NumericShaper contextualArabic = NumericShaper.getContextualShaper(NumericShaper.ARABIC, NumericShaper.ARABIC);</code>
                    </li>
                    <li>
                        <code>NumericShaper contextualArabicASCII = NumericShaper.getContextualShaper(NumericShaper.ARABIC);</code>
                    </li>
                    <li>
                        <code>NumericShaper contextualAll = NumericShaper.getContextualShaper(NumericShaper.ALL_RANGES);</code>
                    </li>
                </ol>
                <p>
                    Vea el ejemplo 
                    <a class="SourceLink" target="_blank" href="examples/ShapedDigits.java"
                       onclick="showCode('../../displayCode.html', 'examples/ShapedDigits.java'); return false;">
                        <code>ShapedDigits.java</code></a> para obtener más detalles sobre la implementación.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="line.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="convertintro.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Límites de Línea<br />
            <b>Página siguiente:</b> Convirtiendo Texto No Unicode
        </div>
    </body>
</html> 
