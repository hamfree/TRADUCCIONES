<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Flujos de Character y Byte (Los Tutoriales de Java&trade; &gt; Internacionalización &gt; Trabajando con Texto)
        </title>
        <meta name="description" content="Este tutorial de internacionalización de Java describe la configuración regional, 
              aislando datos específicos de la configuración regional, formateando datos, nombre de dominio internacionalizado e 
              identificador de recursos" />
        <meta name="keywords" content="java programming, learn java, java sample code, i18n, internationalization, locale, text
              formatting" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script  src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Trabajando con Texto</a></div>
                <div class="linkAHEAD"><a href="charintro.html">Comprobando las Propiedades de los Caracteres</a></div>
                <div class="linkAHEAD"><a href="collationintro.html">Comparando Cadenas</a></div>
                <div class="linkBHEAD"><a href="locale.html">Realizando Comparaciones Independientes de la Localización</a></div>
                <div class="linkBHEAD"><a href="rule.html">Personalización de Reglas de intercalación</a></div>
                <div class="linkBHEAD"><a href="perform.html">Mejorando el rendimiento de la intercalación</a></div>
                <div class="linkAHEAD"><a href="unicode.html">Unicode</a></div>
                <div class="linkBHEAD"><a href="terminology.html">Terminología</a></div>
                <div class="linkBHEAD"><a href="supplementaryChars.html">Caracteres Complementarios como Sustitutos</a></div>
                <div class="linkBHEAD"><a href="characterClass.html">IPAs de Character y String</a></div>
                <div class="linkBHEAD"><a href="usage.html">Ejemplo de Uso</a></div>
                <div class="linkBHEAD"><a href="design.html">Consideraciones de Diseño</a></div>
                <div class="linkBHEAD"><a href="info.html">Más Información</a></div>
                <div class="linkAHEAD"><a href="boundaryintro.html">Detectando los Límites de Texto</a></div>
                <div class="linkBHEAD"><a href="about.html">Sobre la Clase BreakIterator</a></div>
                <div class="linkBHEAD"><a href="char.html">Límites de Carácter</a></div>
                <div class="linkBHEAD"><a href="word.html">Límites de Palabra</a></div>
                <div class="linkBHEAD"><a href="sentence.html">Límites de Oración</a></div>
                <div class="linkBHEAD"><a href="line.html">Límites de Línea</a></div>
                <div class="linkAHEAD"><a href="shapedDigits.html">Convirtiendo Dígitos Latinos a Otros Dígitos Unicode</a></div>
                <div class="linkAHEAD"><a href="convertintro.html">Convirtiendo Texto No Unicode</a></div>
                <div class="linkBHEAD"><a href="string.html">Codificación de Byte y Strings</a></div>
                <div class="nolinkBHEAD">Flujos de Character y Byte</div>
                <div class="linkAHEAD"><a href="normalizerapi.html">Normalizando Texto</a></div>
                <div class="linkAHEAD"><a href="bidi.html">Trabajando con Texto Bidireccional con la Clase JTextComponent</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Internacionalización<br />
                <b>Lección:</b> Trabajando con Texto<br />
                <b>Sección:</b> Convirtiendo Texto No Unicode
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Internacionalización</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Trabajando con Texto</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="string.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="normalizerapi.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Flujos de Character y Byte</h1>
            </div>
            <div id="PageContent">
                <p>
                    El paquete <code>java.io</code> proporciona clases que le permiten convertir entre flujos de caracteres Unicode 
                    y flujos de bytes de texto no Unicode. Con la clase 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStreamReader.html">
                        <code>InputStreamReader</code></a>, puede convertir flujos de bytes en flujos de caracteres. Puede usar la 
                    clase 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStreamWriter.html">
                        <code>OutputStreamWriter</code></a> para traducir flujos de caracteres en flujos de bytes. La figura 
                    siguiente ilustra el proceso de conversión:
                </p>
                <div class="centrado">
                    <img src="../../figures/i18n/i18n-6.gif" width="419" height="89"
                         alt="Esta figura representa el proceso de conversión" />
                </div>
                <p>
                    Cuando crea los objetos <code>InputStreamReader</code> y <code>OutputStreamWriter</code>, especifica la 
                    codificación de los bytes que quiere convertir. Por ejemplo, para traducir un fichero de texto de la 
                    codificación UTF-8 a Unicode, puede crear un <code>InputStreamReader</code> como sigue:
                </p>
                <div class="codeblock">
                    <pre>
FileInputStream fis = new FileInputStream("test.txt");
InputStreamReader isr = new InputStreamReader(fis, "UTF8");
                    </pre>
                </div>
                <p>
                    Si omite el identificador de codificación, <code>InputStreamReader</code> y <code>OutputStreamWriter</code> 
                    confiarán en la codificación predeterminada. Puede determinar que codificación usa un 
                    <code>InputStreamReader</code> o un <code>OutputStreamWriter</code> invocando el método 
                    <code>getEncoding</code>, como sigue:
                </p>
                <div class="codeblock">
                    <pre>
InputStreamReader defaultReader = new InputStreamReader(fis);
String defaultEncoding = defaultReader.getEncoding();
                    </pre>
                </div>
                <p>
                    El ejemplo a continuación le muestra cómo realizar conversiones de conjuntos de caracteres con las clases 
                    <code>InputStreamReader</code> y <code>OutputStreamWriter</code>. El código de fuente completo para este 
                    ejemplo está en 
                    <a class="SourceLink" target="_blank" href="examples/StreamConverter.java"
                       onclick="showCode('../../displayCode.html',
                                       'examples/StreamConverter.java');
                               return false;"><code>StreamConverter.java</code></a>. Este program visualizar caracteres japoneses. 
                    Antes de intentarlo, verifique que las fuentes apropiadas han sido instaladas en su sistema. Si está 
                    usandon un software KDJ que es compatible con la versión 1.1, haga una copia del fichero 
                    <code>font.properties</code> y reemplázelo con el fichero <code>font.properties.ja</code>.
                </p>
                <p>
                    El programa <code>StreamConverter</code> convierte una secuencia de caracteres Unicode desde un objeto 
                    <code>String</code> en un <code>FileOutputStream</code> de bytes codificados en UFT-8. El método que realiza la 
                    conversión se llama <code>writeOutput</code>:
                </p>
                <div class="codeblock">
                    <pre>
static void writeOutput(String str) {
    try {
        FileOutputStream fos = new FileOutputStream("test.txt");
        Writer out = new OutputStreamWriter(fos, "UTF8");
        out.write(str);
        out.close();
    } 
    catch (IOException e) {
        e.printStackTrace();
    }
}
                    </pre>
                </div>
                <p>
                    El método <code>readInput</code> lee los bytes codificados en UTF-8 desde el fichero creado por el método 
                    <code>writeOutput</code>. Un objeto <code>InputStreamReader</code> convierte los bytes de UTF-8 a Unicode y 
                    devuelve el resultado en un objeto <code>String</code>.  El método <code>readInput</code> es como sigue:
                </p>
                <div class="codeblock">
                    <pre>
static String readInput() {
    StringBuffer buffer = new StringBuffer();
    try {
        FileInputStream fis = new FileInputStream("test.txt");
        InputStreamReader isr = new InputStreamReader(fis, "UTF8");
        Reader in = new BufferedReader(isr);
        int ch;
        while ((ch = in.read()) &gt; -1) {
            buffer.append((char)ch);
        }
        in.close();
        return buffer.toString();
    } 
    catch (IOException e) {
        e.printStackTrace();
        return null;
    }
}
                    </pre>
                </div>
                <p>
                    El método <code>main</code> del programa <code>StreamConverter</code> invoca el método <code>writeOutput</code> 
                    para crear un fichero de bytes codificados en UTF-8. El método <code>readInput</code> lee el mismo fichero, 
                    conviertiendo los bytes de vuelta a Unicode. Aquí está el código fuente para el método <code>main</code>:
                </p>
                <div class="codeblock">
                    <pre>
public static void main(String[] args) {
    String jaString = new String("\u65e5\u672c\u8a9e\u6587\u5b57\u5217");
    writeOutput(jaString); 
    String inputString = readInput();
    String displayString = jaString + " " + inputString;
    new ShowString(displayString, "Conversion Demo");
}
                    </pre>
                </div>
                <p>
                    La cadena original (<code>jaString</code>) debería ser idéntica a la cadena nuevamente creada 
                    (<code>inputString</code>). Para mostrar que las dos cadenas son la misma, el programa las concatena y 
                    las visualiza con un objeto <code>ShowString</code>. La clase <code>ShowString</code> visualiza una cadena con 
                    el método <code>Graphics.drawString</code>. El código fuente para esta clase está en 
                    <a class="SourceLink" target="_blank" href="examples/ShowString.java"
                       onclick="showCode('../../displayCode.html', 'examples/ShowString.java'); return false;">
                        <code>ShowString.java</code></a>. Cuando el programa <code>StreamConverter</code> instancia 
                    <code>ShowString</code>, la ventana siguiente aparece. La repetición de los caracteres visualizados verifica 
                    que las dos cadenas son idénticas:
                </p>
                <div class="centrado">
                    <img src="../../figures/i18n/conversion.gif" width="478" height="108"
                         alt="Esto es una captura de pantalla del programa StreamConverter" />
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="string.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="normalizerapi.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Codificación de Byte y Strings<br />
            <b>Página siguiente:</b> Normalizando Texto
        </div>
    </body>
</html> 
