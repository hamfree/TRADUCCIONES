<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Utilizando Objetos WebRowSet (Los Tutoriales de Java&trade; &gt; Acceso a Bases de Datos JDBC(TM) &gt; 
            Lo Básico de JDBC)
        </title>
        <meta name="description" content="Este tutorial de Java JDBC describe cómo usar la IPA JDBC para crear, insertar, 
              actualizar y consultar tablas. También aprenderá cómo usar declaraciones simples y preparadas, procedimientos 
              almacenados y realizar transacciones" />
        <meta name="keywords" content="java programming, learn java, java sample code, jdbc, prepared statement, result set" />
        <meta charset="UTF-8"/>
        
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Lo Básico de JDBC</a></div>
                <div class="linkAHEAD"><a href="gettingstarted.html">Empezando</a></div>
                <div class="linkAHEAD"><a href="processingsqlstatements.html">Procesando Sentencias SQL con JDBC</a></div>
                <div class="linkAHEAD"><a href="connecting.html">Estableciendo una Conexión</a></div>
                <div class="linkAHEAD"><a href="sqldatasources.html">Conectando con Objetos DataSource</a></div>
                <div class="linkAHEAD"><a href="sqlexception.html">Manejando SQLExceptions</a></div>
                <div class="linkAHEAD"><a href="tables.html">Configurando Tablas</a></div>
                <div class="linkAHEAD"><a href="retrieving.html">Recuperando y Modificando Valores de los Result Sets</a></div>
                <div class="linkAHEAD"><a href="prepared.html">Usando Prepared Statements</a></div>
                <div class="linkAHEAD"><a href="transactions.html">Usando Transacciones</a></div>
                <div class="linkAHEAD"><a href="rowset.html">Usando Objetos RowSet</a></div>
                <div class="linkAHEAD"><a href="jdbcrowset.html">Utilizando Objetos JdbcRowSet</a></div>
                <div class="linkAHEAD"><a href="cachedrowset.html">Utilizando CachedRowSetObjects</a></div>
                <div class="linkAHEAD"><a href="joinrowset.html">Utilizando Objetos JoinRowSet</a></div>
                <div class="linkAHEAD"><a href="filteredrowset.html">Utilizando Objetos FilteredRowSet</a></div>
                <div class="nolinkAHEAD">Utilizando Objetos WebRowSet</div>
                <div class="linkAHEAD"><a href="sqltypes.html">Usando Tipos de Datos Avanzados</a></div>
                <div class="linkAHEAD"><a href="blob.html">Utilizando Objetos Grandes</a></div>
                <div class="linkAHEAD"><a href="sqlxml.html">Utilizando Objetos SQLXML</a></div>
                <div class="linkAHEAD"><a href="array.html">Utilizando Objetos Array</a></div>
                <div class="linkAHEAD"><a href="distinct.html">Usando el Tipo de Datos DISTINCT</a></div>
                <div class="linkAHEAD"><a href="sqlstructured.html">Utilizando Objetos Estructurados</a></div>
                <div class="linkAHEAD"><a href="sqlcustommapping.html">Usando Mapeados de Tipos Personalizados</a></div>
                <div class="linkAHEAD"><a href="sqldatalink.html">Utilizando Objetos Datalink</a></div>
                <div class="linkAHEAD"><a href="sqlrowid.html">Utilizando Objetos RowId</a></div>
                <div class="linkAHEAD"><a href="storedprocedures.html">Usando Procedimientos Almacenados</a></div>
                <div class="linkAHEAD"><a href="jdbcswing.html">Usando JDBC con una IPA de IGU</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Acceso a Bases de Datos JDBC(TM)<br />
                <b>Lección:</b> Lo Básico de JDBC
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Acceso a Bases de Datos JDBC(TM)</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Lo Básico de JDBC</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="filteredrowset.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="sqltypes.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Utilizando Objetos WebRowSet</h1>
            </div>
            <div id="PageContent">
                <p>
                    Un objeto <code>WebRowSet</code> es muy especial porque además de ofrecer todas las capacidades de un objeto 
                    <code>CachedRowSet</code>, puede escribirse a sí mismo como un documento XML y puede también leer ese documento 
                    XML para volver a convertirse en un objeto <code>WebRowSet</code>. Debido a que XML es el lenguaje a través del 
                    cual empresas dispares pueden comunicarse entre sí, se ha convertido en el estándar para la comunicación de 
                    servicios web. Com consecuencia, un objeto <code>WebRowSet</code> satisface  una necesidad real al permitir que  
                    los Servicios Web envíen y reciban datos de una base de datos en la forma de documento XML.
                </p>
                <p>
                    Los siguientes temas están cubiertos:
                </p>
                <ul>
                    <li>
                        <a href="#creating-and-populating-webrowset-object">Crear y Llenar Objetos WebRowSet</a>
                    </li>
                    <li>
                        <a href="#writing-and-reading-webrowset-object-to-xml">Escribir y Leer Objetos WebRowSet a XML</a>
                    </li>
                    <li>
                        <a href="#what-is-in-xml-document">Qué Hay en los Documentos XML</a>
                    </li>
                    <li>
                        <a href="#making-changes-to-webrowset-object">Hacer Cambios a los Objetos WebRowSet</a>
                    </li>
                </ul>
                <p>
                    La compañía Coffee Break se ha expandido para vender café en línea. Los usuarios piden café por libras desde 
                    el sitio web de Coffee Break. La lista de precios es regularmente actualizada obteniendo la última información 
                    de la base de datos de la compañía. Esta sección demuestra cómo enviar los datos de precio como un documento 
                    XML con un objeto <code>WebRowSet</code>  y una única llamada a método.
                </p>
                <h2>
                    <a id="creating-and-populating-webrowset-object">Crear y Llenar Objetos WebRowSet</a>
                </h2>
                <p>
                    Puede crear un nuevo objeto <code>WebRowSet</code> con el constructor por defecto definido en la implementación 
                    de referencia, <code>WebRowSetImpl</code>, como se muestra en la siguiente línea de código:
                </p>
                <div class="codeblock">
                    <pre>
<code>WebRowSet</code> priceList = new WebRowSetImpl();
                    </pre>
                </div>
                <p>
                    Aunque el objeto <code>priceList</code> no tiene datos aún, tiene las propiedades predeterminadas de un objeto 
                    <code>BaseRowSet</code>. Su objeto <code>SyncProvider</code> es en principio establecido con la implementación 
                    <code>RIOptimisticProvider</code>, la cual es la predeterminada para todos los objetos <code>RowSet</code> 
                    desconectados. Sin embargo, la implementación de <code>WebRowSet</code> restablece el objeto 
                    <code>SyncProvider</code> para que sea la implementación <code>RIXMLProvider</code>.
                </p>
                <p>
                    Puede usar una instancia de <code>RowSetFactory</code>, la cual se crea desde la clase 
                    <code>RowSetProvider</code>, para crear un objeto <code>WebRowSet</code>. Vea 
                    <a href="jdbcrowset.html#rowsetfactory">Usar la Interfaz RowSetFactory</a> en 
                    <a href="jdbcrowset.html">Utilizando Objetos JdbcRowSet</a> para más información.
                </p>
                <p>
                    Las oficinas centrales de Coffee Break envian regularmente actualizaciones de la lista de precios a su sitio 
                    web. Esta información sobre objetos <code>WebRowSet</code> le mostrará una forma en que puede enviar la última 
                    lista de precios en un documento XML.
                </p>
                <p>
                    La lista de precios consiste de los datos en las columnas <code>COF_NAME</code> y <code>PRICE</code> de la 
                    tabla <code>COFFEES</code>. El siguiente fragmento de código establece las propiedades necesarias y llena el 
                    objeto <code>priceList</code> con los datos de la lista de precios:
                </p>
                <div class="codeblock">
                    <pre>
public void getPriceList(String username, String password) {
    priceList.setCommand("SELECT COF_NAME, PRICE FROM COFFEES");
    priceList.setURL("jdbc:mySubprotocol:myDatabase");
    priceList.setUsername(username);
    priceList.setPassword(password);
    priceList.execute();
    // ...
}
                    </pre>
                </div>
                <p>
                    En este punto, además de las propiedades predeterminadas, el objeto <code>priceList</code> contiene los datos 
                    en las columnas <code>COF_NAME</code> y <code>PRICE</code> de la tabla <code>COFFEES</code> y también los 
                    metadatos sobre esas dos columnas.
                </p>
                <h2>
                    <a id="writing-and-reading-webrowset-object-to-xml">Escribir y Leer Objetos WebRowSet a XML</a>
                </h2>
                <p>
                    Para escribir un objeto <code>WebRowSet</code> como un documento XML, llame al método <code>writeXml</code>. 
                    Para leer los contenidos de ese documento XML en un objeto <code>WebRowSet</code>, llame al método 
                    <code>readXml</code>. Ambos métodos hacen su trabajo en segundo plano, lo que significa que todo, excepto los 
                    resultados, es invisible para usted.
                </p>
                <h3>
                    Usar el Método writeXml 
                </h3>
                <p>
                    El método <code>writeXml</code> escribe el objeto <code>WebRowSet</code> que lo invocó como un documento XML 
                    que representa su estado actual. Escribe este documento XML al flujo que usted le pase. El flujo puede ser un 
                    objeto <code>OutputStream</code>, tal como un objeto <code>FileOutputStream</code>, o un objeto 
                    <code>Writer</code>, tal como un objeto <code>FileWriter</code>. Si usted pasa al método <code>writeXml</code> 
                    un objeto <code>OutputStream</code>, escribirá en bytes, lo cual puede manejar todos los tipos de datos; si le 
                    pasa un objeto <code>Writer</code>, escribirá en caracteres. El código siguiente demuestra escribir el objeto 
                    <code>WebRowSet</code> <code>priceList</code> como un documento XML al objeto <code>FileOutputStream</code> 
                    <code>oStream</code>:
                </p>
                <div class="codeblock">
                    <pre>
java.io.FileOutputStream oStream =
    new java.io.FileOutputStream("priceList.xml");
priceList.writeXml(oStream);
                    </pre>
                </div>
                <p>
                    El código siguiente escribe el documento XML que representa <code>priceList</code> al objeto 
                    <code>FileWriter</code> <code>writer</code> en vez de a un objeto <code>OutputStream</code>. La clase 
                    <code>FileWriter</code> es una clase de conveniencia para escribir caracteres a un fichero.
                </p>
                <div class="codeblock">
                    <pre>
java.io.FileWriter writer =
    new java.io.FileWriter("priceList.xml");
priceList.writeXml(writer);
                    </pre>
                </div>
                <p>
                    Las otras dos versiones del método <code>writeXml</code> le permiten llenar un objeto <code>WebRowSet</code> 
                    con los contenidos de un objeto <code>ResultSet</code> antes de escribirlo a un flujo. En la línea siguiente 
                    de código, el método <code>writeXml</code> lee los contenidos del objeto <code>ResultSet</code> <code>rs</code> 
                    en el objeto <code>priceList</code> y entonces escribe <code>priceList</code> a un objeto 
                    <code>FileOutputStream</code> <code>oStream</code> como un documento XML.
                </p>
                <div class="codeblock">
                    <pre>
priceList.writeXml(rs, oStream);
                    </pre>
                </div>
                <p>
                    En la siguiente línea de código, el método <code>writeXml</code> llena <code>priceList</code> con los 
                    contenidos de <code>rs</code>, pero escribe el documento XML a un objeto <code>FileWriter</code> en vez de a un 
                    objeto <code>OutputStream</code>:
                </p>
                <div class="codeblock">
                    <pre>
priceList.writeXml(rs, writer);
                    </pre>
                </div>
                <h3>
                    Usar el Método readXml
                </h3>
                <p>
                    El método <code>readXml</code> analiza un documento XML para construir el objeto <code>WebRowSet</code> que el 
                    documento XML describe. De forma similar al método <code>writeXml</code>, puede pasarle a <code>readXml</code> 
                    un objeto <code>InputStream</code> o un objeto <code>Reader</code> desde el cual leer el documento XML.
                </p>
                <div class="codeblock">
                    <pre>
java.io.FileInputStream iStream =
    new java.io.FileInputStream("priceList.xml");
priceList.readXml(iStream);

java.io.FileReader reader = new
    java.io.FileReader("priceList.xml");
priceList.readXml(reader);
                    </pre>
                </div>
                <p>
                    Tenga en cuenta que puede leer la descripción XML en un nuevo objeto <code>WebRowSet</code> o en el mismo 
                    objeto <code>WebRowSet</code> que llamó al método <code>writeXml</code>. En el escenario, donde la información 
                    de la lista de precios está siendo enviada desde las oficinas centrales al sitio Web, usaría un nuevo objeto 
                    <code>WebRowSet</code>, como se muestra en las siguientes líneas de código:
                </p>
                <div class="codeblock">
                    <pre>
WebRowSet recipient = new WebRowSetImpl();
java.io.FileReader reader =
    new java.io.FileReader("priceList.xml");
recipient.readXml(reader);
                    </pre>
                </div>
                <h2>
                    <a id="what-is-in-xml-document">Qué Hay en los Documentos XML</a>
                </h2>
                <p>
                    Los objetos <code>RowSet</code> son más que simplemente los datos que contienen. Tienen propiedades y metadatos 
                    sobre sus columnas también. Por lo tanto, un documento XML que representa un objeto <code>WebRowSet</code> 
                    incluye esta otra información además de sus datos. Además, los datos de un documento XML incluyen tanto los 
                    valores actuales como los originales. (Recuerde que los valores originales son los valores que existían 
                    inmediatamente antes de que se hicieran los cambios más recientes en los datos. Estos valores son necesarios 
                    para verificar si el valor correspondiente en la base de datos ha sido cambiado, creando así un conflicto sobre 
                    qué valor debe ser persistente: el nuevo valor que ingresó en el objeto <code>RowSet</code> o el nuevo valor que 
                    otra persona puso en la base de datos).
                </p>
                <p>
                    El Esquema XML de WebRowSet, en sí mismo un documento XML, define que un documento XML que representa un objeto 
                    <code>WebRowSet</code> contendrá también el formato en el cual debe ser presentado. Tanto el remitente como 
                    el destianario usan este esquema porque le indica al remitente cómo escribir el documento XML (que representa 
                    el objeto <code>WebRowSet</code>) y al destinatario cómo analizar el documento XML. Ya que la escritura y 
                    lectura real se hace internamente por las implementaciones de los métodos <code>writeXml</code> y 
                    <code>readXml</code>, usted, como un usuario, no necesita entender lo que hay en el documento de Esquema XML de 
                    WebRowSet.
                </p>
                <p>
                    Los documentos XML contienen elementos y subelementos en una estructura jerárquica. Lo siguiente son los tres 
                    elementos principales en un documento XML que describe un objeto <code>WebRowSet</code>:
                </p>
                <ul>
                    <li>
                        <a href="#properties-webrowset">Propiedades</a>
                    </li>
                    <li>
                        <a href="#metadata-webrowset">Metadatos</a>
                    </li>
                    <li>
                        <a href="#data-webrowset">Datos</a>
                    </li>
                </ul>
                <p>
                    Las etiquetas de elemento señalan el principio y el final de un elemento. Por ejemplo, la etiqueta 
                    <code>&lt;properties&gt;</code> señala el principio del elemento propiedades, y la etiqueta 
                    <code>&lt;/properties&gt;</code> señala su final. La etiqueta <code>&lt;map/&gt;</code> es una forma corta de 
                    decir que el subelemento mapa (uno de los subelementos en el elemento propiedades) no tiene asignado ningún 
                    valor. Los siguientes documentos XML de muestra utilizan espaciado y sangría para facilitar la lectura, pero no 
                    se utilizan en un documento XML real, donde el espaciado no significa nada.
                </p>
                <p>
                    Las tres secciones siguientes le muestran qué contienen los tres elementos principales para el objeto 
                    <code>WebRowSet</code> <code>priceList</code>, creado en el ejemplo 
                    <a href="gettingstarted.html"><code>WebRowSetSample.java</code></a>.
                </p>
                <h3>
                    <a id="properties-webrowset">Propiedades</a>
                </h3>
                <p>
                    Llamar al método <code>writeXml</code> en el objeto <code>priceList</code> produciría un documento XML 
                    describiendo <code>priceList</code>. La sección de propiedades de este documento XML se parecería a lo 
                    siguiente:
                </p>
                <div class="codeblock">
                    <pre>
&lt;properties&gt;
  &lt;command&gt;
    select COF_NAME, PRICE from COFFEES
  &lt;/command&gt;
  &lt;concurrency&gt;1008&lt;/concurrency&gt;
  &lt;datasource&gt;&lt;null/&gt;&lt;/datasource&gt;
  &lt;escape-processing&gt;true&lt;/escape-processing&gt;
  &lt;fetch-direction&gt;1000&lt;/fetch-direction&gt;
  &lt;fetch-size&gt;0&lt;/fetch-size&gt;
  &lt;isolation-level&gt;2&lt;/isolation-level&gt;
  &lt;key-columns&gt;
    &lt;column&gt;1&lt;/column&gt;
  &lt;/key-columns&gt;
  &lt;map&gt;
  &lt;/map&gt;
  &lt;max-field-size&gt;0&lt;/max-field-size&gt;
  &lt;max-rows&gt;0&lt;/max-rows&gt;
  &lt;query-timeout&gt;0&lt;/query-timeout&gt;
  &lt;read-only&gt;true&lt;/read-only&gt;
  &lt;rowset-type&gt;
    ResultSet.TYPE_SCROLL_INSENSITIVE
  &lt;/rowset-type&gt;
  &lt;show-deleted&gt;false&lt;/show-deleted&gt;
  &lt;table-name&gt;COFFEES&lt;/table-name&gt;
  &lt;url&gt;jdbc:mysql://localhost:3306/testdb&lt;/url&gt;
  &lt;sync-provider&gt;
    &lt;sync-provider-name&gt;
      com.sun.rowset.providers.RIOptimisticProvider
    &lt;/sync-provider-name&gt;
    &lt;sync-provider-vendor&gt;
      Sun Microsystems Inc.
    &lt;/sync-provider-vendor&gt;
    &lt;sync-provider-version&gt;
      1.0
    &lt;/sync-provider-version&gt;
    &lt;sync-provider-grade&gt;
      2
    &lt;/sync-provider-grade&gt;
    &lt;data-source-lock&gt;1&lt;/data-source-lock&gt;
  &lt;/sync-provider&gt;
&lt;/properties&gt;
                    </pre>
                </div>
                <p>
                    Observe que algunas propiedades no tienen valor. Por ejemplo, la propiedad <code>datasource</code> se indica 
                    con la etiqueta <code>&lt;datasource/&gt;</code>, lo cual es una forma corta de decir 
                    <code>&lt;datasource&gt;&lt;/datasource&gt;</code>. No se da ningún valor porque la propiedad <code>url</code> 
                    está establecida. Todas las conexiones que se establezcan se realizarán utilizando esta URL de JDBC, por lo que 
                    no es necesario establecer ningún objeto <code>DataSource</code>. Además, las propiedades <code>username</code> 
                    y <code>password</code> no se enumeran porque deben permanecer secretas.
                </p>
                <h3>
                    <a id="metadata-webrowset">Metadatos</a>
                </h3>
                <p>
                    La sección de metadatos del documento XML describe un objeto <code>WebRowSet</code> que contiene información 
                    sobre las columnas en ese objeto <code>WebRowSet</code>. A continuación se muestra cómo se ve esta sección para 
                    el objeto <code>WebRowSet</code> <code>priceList</code>. Dado que el objeto <code>priceList</code> tiene dos 
                    columnas, el documento XML que lo describe tiene dos elementos <code>&lt;column-definition&gt;</code>. Cada 
                    elemento <code>&lt;column-definition&gt;</code> tiene subelementos que proporcionan información sobre la 
                    columna que se describe.
                </p>
                <div class="codeblock">
                    <pre>
&lt;metadata&gt;
  &lt;column-count&gt;2&lt;/column-count&gt;
  &lt;column-definition&gt;
    &lt;column-index&gt;1&lt;/column-index&gt;
    &lt;auto-increment&gt;false&lt;/auto-increment&gt;
    &lt;case-sensitive&gt;false&lt;/case-sensitive&gt;
    &lt;currency&gt;false&lt;/currency&gt;
    &lt;nullable&gt;0&lt;/nullable&gt;
    &lt;signed&gt;false&lt;/signed&gt;
    &lt;searchable&gt;true&lt;/searchable&gt;
    &lt;column-display-size&gt;
      32
    &lt;/column-display-size&gt;
    &lt;column-label&gt;COF_NAME&lt;/column-label&gt;
    &lt;column-name&gt;COF_NAME&lt;/column-name&gt;
    &lt;schema-name&gt;&lt;/schema-name&gt;
    &lt;column-precision&gt;32&lt;/column-precision&gt;
    &lt;column-scale&gt;0&lt;/column-scale&gt;
    &lt;table-name&gt;coffees&lt;/table-name&gt;
    &lt;catalog-name&gt;testdb&lt;/catalog-name&gt;
    &lt;column-type&gt;12&lt;/column-type&gt;
    &lt;column-type-name&gt;
      VARCHAR
    &lt;/column-type-name&gt;
  &lt;/column-definition&gt;
  &lt;column-definition&gt;
    &lt;column-index&gt;2&lt;/column-index&gt;
    &lt;auto-increment&gt;false&lt;/auto-increment&gt;
    &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;
    &lt;currency&gt;false&lt;/currency&gt;
    &lt;nullable&gt;0&lt;/nullable&gt;
    &lt;signed&gt;true&lt;/signed&gt;
    &lt;searchable&gt;true&lt;/searchable&gt;
    &lt;column-display-size&gt;
      12
    &lt;/column-display-size&gt;
    &lt;column-label&gt;PRICE&lt;/column-label&gt;
    &lt;column-name&gt;PRICE&lt;/column-name&gt;
    &lt;schema-name&gt;&lt;/schema-name&gt;
    &lt;column-precision&gt;10&lt;/column-precision&gt;
    &lt;column-scale&gt;2&lt;/column-scale&gt;
    &lt;table-name&gt;coffees&lt;/table-name&gt;
    &lt;catalog-name&gt;testdb&lt;/catalog-name&gt;
    &lt;column-type&gt;3&lt;/column-type&gt;
    &lt;column-type-name&gt;
      DECIMAL
    &lt;/column-type-name&gt;
  &lt;/column-definition&gt;
&lt;/metadata&gt;
                    </pre>
                </div>
                <p>
                    Desde esta sección de metadatos, puede ver que hay dos columnas en cada fila. La primera columna es 
                    <code>COF_NAME</code>, que contiene valores del tipo <code>VARCHAR</code>. La segunda columna es 
                    <code>PRICE</code>, que contiene valores del tipo <code>REAL</code>, etcétera. Tenga en cuenta que los tipos de 
                    columna son los tipos de datos utilizados en la fuente de datos, no los tipos en el lenguaje de programación 
                    Java. Para obtener o actualizar valores en la columna <code>COF_NAME</code>, usa los métodos 
                    <code>getString</code> o <code>updateString</code>, y el controlador hace la conversión al tipo 
                    <code>VARCHAR</code>, como suele hacer.
                </p>
                <h3>
                    <a id="data-webrowset">Datos</a>
                </h3>
                <p>
                    La sección de datos da los valores para cada columna en cada fila del objeto <code>WebRowSet</code>. Si ha 
                    llenado el objeto <code>priceList</code> y no ha hecho cambios en él, el elemento de datos del documento XML 
                    tendrá el siguiente aspecto. En la sección siguiente verá como el documento XML cambia cuando modifica los 
                    datos en el objeto <code>priceList</code>.
                </p>
                <p>
                    Para cada fila hay un elemento <code>&lt;currentRow&gt;</code>, y porque <code>priceList</code> tiene dos 
                    columnas, cada elemento <code>&lt;currentRow&gt;</code> contiene dos elementos 
                    <code>&lt;columnValue&gt;</code>.
                </p>
                <div class="codeblock">
                    <pre>
&lt;data&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;Colombian&lt;/columnValue&gt;
    &lt;columnValue&gt;7.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;
      Colombian_Decaf
    &lt;/columnValue&gt;
    &lt;columnValue&gt;8.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;Espresso&lt;/columnValue&gt;
    &lt;columnValue&gt;9.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;French_Roast&lt;/columnValue&gt;
    &lt;columnValue&gt;8.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;French_Roast_Decaf&lt;/columnValue&gt;
    &lt;columnValue&gt;9.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
&lt;/data&gt;
                    </pre>
                </div>
                <h2>
                    <a id="making-changes-to-webrowset-object">Hacer Cambios a los Objetos WebRowSet</a>
                </h2>
                <p>
                    Puede hacer cambios a un objeto <code>WebRowSet</code> de la mism forma que los haría a un objeto 
                    <code>CachedRowSet</code>.  A diferencia de un objeto <code>CachedRowSet</code>, sin embargo, un objeto 
                    <code>WebRowSet</code> mantiene la pista de las actualizaciones, inserciones, y eliminaciones de forma que el 
                    método <code>writeXml</code> pueda escribir tanto los valores actuales como los valores originales. Las tres 
                    secciones siguientes demuestran cómo se realizan cambios en los datos y cómo se ve el documento XML que 
                    describe el objeto <code>WebRowSet</code> después de cada cambio. No tiene que hacer nada en absoluto con 
                    respecto al documento XML; cualquier cambio se realiza automáticamente, al igual que al escribir y leer el 
                    documento XML.
                </p>
                <h3>
                    Insertar Filas
                </h3>
                <p>
                    Si el propietario de la cadena Coffee Break quiere agregar un nuevo café a la lista de precios, el código 
                    podría verse así:
                </p>
                <div class="codeblock">
                    <pre>
priceList.absolute(3);
priceList.moveToInsertRow();
priceList.updateString(COF_NAME, "Kona");
priceList.updateFloat(PRICE, 8.99f);
priceList.insertRow();
priceList.moveToCurrentRow();
                    </pre>
                </div>
                <p>
                    En la implementación de referencia, se realiza una inserción inmediatamente después de la fila actual. En el 
                    precedente fragmento de código, la fila actual es la tercera fila, así que la nueva fila sería agregada 
                    después de la tercera fila y se convertirá en la nueva cuarta fila. Para reflejar esta inserción, el documento 
                    XML debe tener el siguiente elemento <code>&lt;insertRow&gt;</code> agregado a él después del tercer elemento 
                    <code>&lt;currentRow&gt;</code> en el elemento <code>&lt;data&gt;</code>.
                </p>
                <p>
                    El elemento <code>&lt;insertRow&gt;</code> se verá similar a lo siguiente.
                </p>
                <div class="codeblock">
                    <pre>
&lt;insertRow&gt;
  &lt;columnValue&gt;Kona&lt;/columnValue&gt;
  &lt;columnValue&gt;8.99&lt;/columnValue&gt;
&lt;/insertRow&gt;
                    </pre>
                </div>
                <h2>
                    Eliminar Filas
                </h2>
                <p>
                    El propietario decide que Espresso no se está vendiendo bastante y debería ser eliminado de los cafes vendidos 
                    en las tiendas de The Coffee Break. El propietario por lo tanto queire borrar Espresso de la lista de precios. 
                    Espresso está en la tercera fila del objeto <code>priceList</code>, así que las siguientes líneas de código lo 
                    eliminan:
                </p>
                <div class="codeblock">
                    <pre>
priceList.absolute(3); priceList.deleteRow();
                    </pre>
                </div>
                <p>
                    El elemento siguiente <code>&lt;deleteRow&gt;</code> aparecerá después de la segunda fila en la sección de 
                    datos del documento XML, indicando que la tercera fila ha sido eliminada.
                </p>
                <div class="codeblock">
                    <pre>
&lt;deleteRow&gt;
  &lt;columnValue&gt;Espresso&lt;/columnValue&gt;
  &lt;columnValue&gt;9.99&lt;/columnValue&gt;
&lt;/deleteRow&gt;

                    </pre>
                </div>
                <h2>
                    Modificar Filas
                </h2>
                <p>
                    El propietario además decide que el precio del café Colombian es demasiado caro y quiere bajarlo a 
                    &#36;6.99 por libra. El código siguiente establece el nuevo precio para el café Colombian, el cual está en la 
                    primera fila, a &#36;6.99 por libra:
                </p>
                <div class="codeblock">
                    <pre>
priceList.first();
priceList.updateFloat(PRICE, 6.99);
                    </pre>
                </div>
                <p>
                    El documento XML reflejará este cambio en un elemento <code>&lt;updateRow&gt;</code> que da el nuevo valor.
                    El valor para la primera columna no cambió, así hay sólo un elemento <code>&lt;updateValue&gt;</code> para la 
                    segunda columna:
                </p>
                <div class="codeblock">
                    <pre>
&lt;currentRow&gt;
  &lt;columnValue&gt;Colombian&lt;/columnValue&gt;
  &lt;columnValue&gt;7.99&lt;/columnValue&gt;
  &lt;updateRow&gt;6.99&lt;/updateRow&gt;
&lt;/currentRow&gt;

                    </pre>
                </div>
                <p>
                    En este punto, con la inserción de una fila, la eliminación de una fila, y la modificacón de una fila, el 
                    documento XML para el objeto <code>priceList</code> se vería así:
                </p>
                <div class="codeblock">
                    <pre>
&lt;data&gt;
  &lt;insertRow&gt;
    &lt;columnValue&gt;Kona&lt;/columnValue&gt;
    &lt;columnValue&gt;8.99&lt;/columnValue&gt;
  &lt;/insertRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;Colombian&lt;/columnValue&gt;
    &lt;columnValue&gt;7.99&lt;/columnValue&gt;
    &lt;updateRow&gt;6.99&lt;/updateRow&gt;
  &lt;/currentRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;
      Colombian_Decaf
    &lt;/columnValue&gt;
    &lt;columnValue&gt;8.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
  &lt;deleteRow&gt;
    &lt;columnValue&gt;Espresso&lt;/columnValue&gt;
    &lt;columnValue&gt;9.99&lt;/columnValue&gt;
  &lt;/deleteRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;French_Roast&lt;/columnValue&gt;
    &lt;columnValue&gt;8.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
  &lt;currentRow&gt;
    &lt;columnValue&gt;
      French_Roast_Decaf
    &lt;/columnValue&gt;
    &lt;columnValue&gt;9.99&lt;/columnValue&gt;
  &lt;/currentRow&gt;
&lt;/data&gt;
                    </pre>
                </div>
                <h2>
                    Ejemplo de Código de WebRowSet
                </h2>
                <p>
                    El ejemplo <code><a href="gettingstarted.html">WebRowSetSample.java</a></code> demuestra todas las 
                    características descritas en esta página.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="filteredrowset.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="sqltypes.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Utilizando Objetos FilteredRowSet<br />
            <b>Página siguiente:</b> Usando Tipos de Datos Avanzados
        </div>
    </body>
</html> 
