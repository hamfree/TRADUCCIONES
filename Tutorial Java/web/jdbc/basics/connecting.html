<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Estableciendo una Conexión (Los Tutoriales de Java&trade; &gt; Acceso a Bases de Datos JDBC(TM) &gt; Lo Básico de JDBC)
        </title>
        <meta name="description" content="Este tutorial de Java JDBC describe cómo usar la IPA JDBC para crear, insertar, 
              actualizar y consultar tablas. También aprenderá cómo usar declaraciones simples y preparadas, procedimientos 
              almacenados y realizar transacciones" />
        <meta name="keywords" content="java programming, learn java, java sample code, jdbc, prepared statement, result set" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Lo Básico de JDBC</a></div>
                <div class="linkAHEAD"><a href="gettingstarted.html">Empezando</a></div>
                <div class="linkAHEAD"><a href="processingsqlstatements.html">Procesando Sentencias SQL con JDBC</a></div>
                <div class="nolinkAHEAD">Estableciendo una Conexión</div>
                <div class="linkAHEAD"><a href="sqldatasources.html">Conectando con Objetos DataSource</a></div>
                <div class="linkAHEAD"><a href="sqlexception.html">Manejando SQLExceptions</a></div>
                <div class="linkAHEAD"><a href="tables.html">Configurando Tablas</a></div>
                <div class="linkAHEAD"><a href="retrieving.html">Recuperando y Modificando Valores de los Result Sets</a></div>
                <div class="linkAHEAD"><a href="prepared.html">Usando Prepared Statements</a></div>
                <div class="linkAHEAD"><a href="transactions.html">Usando Transacciones</a></div>
                <div class="linkAHEAD"><a href="rowset.html">Usando Objetos RowSet</a></div>
                <div class="linkAHEAD"><a href="jdbcrowset.html">Utilizando Objetos JdbcRowSet</a></div>
                <div class="linkAHEAD"><a href="cachedrowset.html">Utilizando CachedRowSetObjects</a></div>
                <div class="linkAHEAD"><a href="joinrowset.html">Utilizando Objetos JoinRowSet</a></div>
                <div class="linkAHEAD"><a href="filteredrowset.html">Utilizando Objetos FilteredRowSet</a></div>
                <div class="linkAHEAD"><a href="webrowset.html">Utilizando Objetos WebRowSet</a></div>
                <div class="linkAHEAD"><a href="sqltypes.html">Usando Tipos de Datos Avanzados</a></div>
                <div class="linkAHEAD"><a href="blob.html">Utilizando Objetos Grandes</a></div>
                <div class="linkAHEAD"><a href="sqlxml.html">Utilizando Objetos SQLXML</a></div>
                <div class="linkAHEAD"><a href="array.html">Utilizando Objetos Array</a></div>
                <div class="linkAHEAD"><a href="distinct.html">Usando el Tipo de Datos DISTINCT</a></div>
                <div class="linkAHEAD"><a href="sqlstructured.html">Utilizando Objetos Estructurados</a></div>
                <div class="linkAHEAD"><a href="sqlcustommapping.html">Usando Mapeados de Tipos Personalizados</a></div>
                <div class="linkAHEAD"><a href="sqldatalink.html">Utilizando Objetos Datalink</a></div>
                <div class="linkAHEAD"><a href="sqlrowid.html">Utilizando Objetos RowId</a></div>
                <div class="linkAHEAD"><a href="storedprocedures.html">Usando Procedimientos Almacenados</a></div>
                <div class="linkAHEAD"><a href="jdbcswing.html">Usando JDBC con una IPA de IGU</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Acceso a Bases de Datos JDBC(TM)<br />
                <b>Lección:</b> Lo Básico de JDBC
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Acceso a Bases de Datos JDBC(TM)</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Lo Básico de JDBC</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="processingsqlstatements.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="sqldatasources.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Estableciendo una Conexión</h1>
            </div>
            <div id="PageContent">
                <p>
                    Primero, necesita establecer una conexión con la fuente de datos que quiere usar. Una fuente de datos puede ser 
                    un DBMS, un sistema de ficheros heredado, o alguna otra fuente de datos con su controlador JDBC 
                    correspondiente. Típicamente, una aplicación JDBC se conecta a una fuente de datos destino usando una de dos 
                    clases:
                </p>
                <ul>
                    <li>
                        <p>
                            <code>DriverManager</code>: Esta clase completamente implementada conecta una aplicación a una fuente 
                            de datos, la cual se especifica por una URL de base de datos. Cuando esta clase intenta establecer una 
                            conexión por primera vez, carga automáticamente los controladores JDBC 4.0 que se encuentren dentro de 
                            la ruta de clases. Tenga en cuenta que su aplicación debe cargar manualmente cualquier controlador 
                            JDBC anterior a la versión 4.0.
                        </p>
                    </li>
                    <li>
                        <p>
                            <code>DataSource</code>: Esta interfaz se prefiere sobre <code>DriverManager</code> porque permite que 
                            los detalles sobre la fuente de datos subyacente sean transparentes para su aplicación. Las propiedades 
                            de un objeto <code>DataSource</code> se establecen de forma que representan una fuente de datos 
                            particular. Vea <a href="sqldatasources.html">Conectando con Objetos DataSource</a> para más 
                            información. Para más información sobre el desarrollo de aplicaciones con la clase 
                            <code>DataSource</code>, vea el último 
                            <em><a href="http://docs.oracle.com/javaee/6/tutorial/doc/">Tutorial de Java EE</a></em>.
                        </p>
                    </li>
                </ul>
                <p>
                    <strong>Nota</strong>: Los ejemplos en este tutorial usan la clase <code>DriverManager</code> en vez de la 
                    clase <code>DataSource</code> porque es más fácil de usar y los ejemplos no requieren las características de la 
                    clase <code>DataSource</code>.
                </p>
                <p>
                    Esta página cubre los temas siguientes:
                </p>
                <ul>
                    <li>
                        <a href="#drivermanager">Usar la Clase DriverManager</a>
                    </li>
                    <li>
                        <a href="#db_connection_url">Especificar las URLs de Conexión de Bases de Datos</a>
                    </li>
                </ul>
                <h2>
                    <a id="drivermanager">Usar la Clase DriverManager</a>
                </h2>
                <p>
                    Conectar a su DBMS con la clase <code>DriverManager</code> implica llamar al método 
                    <code>DriverManager.getConnection</code>. El método siguiente, 
                    <code><a href="gettingstarted.html">JDBCTutorialUtilities.getConnection</a></code>, establece una conexión 
                    de base de datos:
                </p>
                <div class="codeblock">
                    <pre>
public Connection getConnection() throws SQLException {

    Connection conn = null;
    Properties connectionProps = new Properties();
    connectionProps.put("user", this.userName);
    connectionProps.put("password", this.password);

    if (this.dbms.equals("mysql")) {
        conn = DriverManager.getConnection(
                   "jdbc:" + this.dbms + "://" +
                   this.serverName +
                   ":" + this.portNumber + "/",
                   connectionProps);
    } else if (this.dbms.equals("derby")) {
        conn = DriverManager.getConnection(
                   "jdbc:" + this.dbms + ":" +
                   this.dbName +
                   ";create=true",
                   connectionProps);
    }
    System.out.println("Connected to database");
    return conn;
}
                    </pre>
                </div>
                <p>
                    El método <code>DriverManager.getConnection</code> establece una conexión de base de datos. Este método 
                    requiere una URL de base de datos, que varía dependiendo de su DBMS. Lo siguiente son algunos ejemplos de URLs 
                    de bases de datos:
                </p>
                <ol>
                    <li>
                        <p>
                            MySQL: <code>jdbc:mysql://localhost:3306/</code>, donde <code>localhost</code> es el nombre del 
                            servidor que aloja su base de datos, y <code>3306</code> es el número de puerto
                        </p>
                    </li>
                    <li>
                        <p>
                            Java DB: <code>jdbc:derby:<em>testdb</em>;create=true</code>, donde <code><em>testdb</em></code> es el 
                            nombre de la base de datos a conectar, y <code>create=true</code> instruye al DBMS a crear la base de 
                            datos.
                        </p>
                        <p>
                            <strong>Nota</strong>: Esta URL establece una conexión de base de datos con el Controlador Embebido 
                            de Java DB. Java DB también incluye un Controlador Cliente de Red, el cual usa una URL diferente.
                        </p>
                    </li>
                </ol>
                <p>
                    Este método especifica el nombre de usaurio y la contraseña requerida para acceder a la DBMS con el objeto 
                    <code>Properties</code>.
                </p>
                <p>
                    <strong>Nota</strong>:
                </p>
                <ul>
                    <li>
                        <p>
                            Típicamente, en la URL de base de datos, puede también especificar el nombre de una base de datos 
                            existente a la cual quiere conectar. Por ejemplo, la URL <code>jdbc:mysql://localhost:3306/mysql</code> 
                            representa la URL de base de datos para la base de datos MySQL llamada <code>mysql</code>. Los ejemplos 
                            en este tutorial usan una URL que no especifica una base de datos específica porque los ejemplos crean 
                            una base de datos nueva.
                        </p>
                    </li>
                    <li>
                        <p>
                            En versiones previas de JDBC, para obtener una conexión, primero tenía que inicializar su controlador 
                            JDBC llamando al método <code>Class.forName</code>. Estos métodos requerían un objeto de tipo 
                            <code>java.sql.Driver</code>. Cada controlador JDBC contiene una o más clases que implementan la 
                            interfaz <code>java.sql.Driver</code>. Los controladores para Java DB son 
                            <code>org.apache.derby.jdbc.EmbeddedDriver</code> y <code>org.apache.derby.jdbc.ClientDriver</code>, 
                            y la clase para MySQL Connector/J es <code>com.mysql.jdbc.Driver</code>. Vea la documentación de su 
                            controlador DBMS para obtener el nombre de la clase que implementa la interfaz 
                            <code>java.sql.Driver</code>.
                        </p>
                        <p>
                            Cualquier controlador JDBC 4.0 que se encuentre en su ruta de clases es automáticamente cargado. (Sin 
                            embargo, debe manualmente cargar cualquier controlador previo a JDBC 4.0 con el método 
                            <code>Class.forName</code>).
                        </p>
                    </li>
                </ul>
                <p>
                    El método devuelve un objeto <code>Connection</code>, el cual representa una conexión con el DBMS o una base 
                    de datos específica. Consulte la base de datos a través de este objeto.
                </p>
                <h2>
                    <a id="db_connection_url">Especificar URLs de Conexión a Bases de Datos</a>
                </h2>
                <p>
                    Una URL de conexión de base de datos es una cadena que su controlador JDBC usa para conectar a una base de 
                    datos. Puede contener información tal como dónde buscar la base de datos, el nombre de la base de datos a la 
                    que conectar, y propiedades de configuración. La sintaxis exacta de una URL de conexión de base de datos es 
                    especificada por su DBMS.
                </p>
                <h3>
                    URLs de Conexión de Bases de Datos Java DB
                </h3>
                <p>
                    La siguiente es la sintaxis de la URL de conexión de la base de datos Java DB:
                </p>
                <div class="codeblock">
                    <pre>
jdbc:derby:[<em>subsubprotocol</em>:][<em>databaseName</em>]
    [;<em>attribute</em>=<em>value</em>]*
                    </pre>
                </div>
                <ul>
                    <li>
                        <code><em>subsubprotocol</em></code> especifica dónde debe buscar Java DB por la base de datos, ya sea en 
                        un directorio, en la memoria, en una ruta de clase o en un archivo JAR. Normalmente se omite.
                    </li>
                    <li>
                        <code><em>databaseName</em></code> es el nombre de la base de datos a la que conectarse.
                    </li>
                    <li>
                        <code><em>attribute</em>=<em>value</em></code> representa una lista de atributos opcionales, 
                        separados por puntos y comas. Estos atributos le permiten instruir a Java DB para que realice varias 
                        tareas, incluidas las siguientes:
                        <ul>
                            <li>
                                Crear la base de datos especificada en la URL de conexión.
                            </li>
                            <li>
                                Cifrar la base de datos especificada en la URL de conexión.
                            </li>
                            <li>
                                Especificar los directorios para almacenar información de seguimiento y registro.
                            </li>
                            <li>
                                Especificar un nombre de usuario y contraseña para conectar a la base de datos.
                            </li>
                        </ul>
                    </li>
                </ul>
                <p>
                    Vea la <em>Guía del Desarrollador de Java DB</em> y el  <em>Manual de Referencia de Java DB</em> de la 
                    <a href="http://docs.oracle.com/javadb/index_jdk8.html">Documentación Técnica de Java DB</a> para más 
                    información.
                </p>
                <h3>
                    URL del Connector/J de la Base de Datos MySQL
                </h3>
                <p>
                    Lo siguiente es la sintaxis de la URL de conexión de Connector/J para la base de datos MySQL:
                </p>
                <div class="codeblock">
                    <pre>
jdbc:mysql://[<em>host</em>][,<em>failoverhost</em>...]
    [:<em>port</em>]/[<em>database</em>]
    [?<em>propertyName1</em>][=<em>propertyValue1</em>]
    [&amp;<em>propertyName2</em>][=<em>propertyValue2</em>]...
                    </pre>
                </div>
                <ul>
                    <li>
                        <code><em>host</em>:<em>port</em></code> es el nombre de la máquina y el número de puerto de la computadora 
                        que aloja su base de datos. Si no se especifica, los valores predeterminados de <code><em>host</em></code> 
                        y <code><em>port</em></code>  son 127.0.0.1 y 3306, respectivamente.
                    </li>
                    <li>
                        <code><em>database</em></code> es el nombre de la base de datos a la que conectarse. Si no se especifica, 
                        una conexión se hace sin base de datos predeterminada.
                    </li>
                    <li>
                        <code><em>failover</em></code> es el nombre de una base de datos en espera (MySQL Connector/J admite la 
                        conmutación por error).
                    </li>
                    <li>
                        <code><em>propertyName</em>=<em>propertyValue</em></code> representa una lista de propiedades opcionales, 
                        separadas por signos de ampersand. Estos atributos le permiten instruir a MySQL Connector/J para realizar 
                        varias tareas.
                    </li>
                </ul>
                <p>
                    Vea el <a href="http://dev.mysql.com/doc/"><em>Manual de Referencia MySQL</em></a> para más información.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="processingsqlstatements.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="sqldatasources.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Procesando Sentencias SQL con JDBC<br />
            <b>Página siguiente:</b> Conectando con Objetos DataSource
        </div>
    </body>
</html> 
