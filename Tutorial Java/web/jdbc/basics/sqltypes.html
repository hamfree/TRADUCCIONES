<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Usando Tipos de Datos Avanzados (Los Tutoriales de Java&trade; &gt; Acceso a Bases de Datos JDBC(TM) &gt; 
            Lo Básico de JDBC)
        </title>
        <meta name="description" content="Este tutorial de Java JDBC describe cómo usar la IPA JDBC para crear, insertar, 
              actualizar y consultar tablas. También aprenderá cómo usar declaraciones simples y preparadas, procedimientos 
              almacenados y realizar transacciones" />
        <meta name="keywords" content="java programming, learn java, java sample code, jdbc, prepared statement, result set" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Lo Básico de JDBC</a></div>
                <div class="linkAHEAD"><a href="gettingstarted.html">Empezando</a></div>
                <div class="linkAHEAD"><a href="processingsqlstatements.html">Procesando Sentencias SQL con JDBC</a></div>
                <div class="linkAHEAD"><a href="connecting.html">Estableciendo una Conexión</a></div>
                <div class="linkAHEAD"><a href="sqldatasources.html">Conectando con Objetos DataSource</a></div>
                <div class="linkAHEAD"><a href="sqlexception.html">Manejando SQLExceptions</a></div>
                <div class="linkAHEAD"><a href="tables.html">Configurando Tablas</a></div>
                <div class="linkAHEAD"><a href="retrieving.html">Recuperando y Modificando Valores de los Result Sets</a></div>
                <div class="linkAHEAD"><a href="prepared.html">Usando Prepared Statements</a></div>
                <div class="linkAHEAD"><a href="transactions.html">Usando Transacciones</a></div>
                <div class="linkAHEAD"><a href="rowset.html">Usando Objetos RowSet</a></div>
                <div class="linkAHEAD"><a href="jdbcrowset.html">Utilizando Objetos JdbcRowSet</a></div>
                <div class="linkAHEAD"><a href="cachedrowset.html">Utilizando CachedRowSetObjects</a></div>
                <div class="linkAHEAD"><a href="joinrowset.html">Utilizando Objetos JoinRowSet</a></div>
                <div class="linkAHEAD"><a href="filteredrowset.html">Utilizando Objetos FilteredRowSet</a></div>
                <div class="linkAHEAD"><a href="webrowset.html">Utilizando Objetos WebRowSet</a></div>
                <div class="nolinkAHEAD">Usando Tipos de Datos Avanzados</div>
                <div class="linkAHEAD"><a href="blob.html">Utilizando Objetos Grandes</a></div>
                <div class="linkAHEAD"><a href="sqlxml.html">Utilizando Objetos SQLXML</a></div>
                <div class="linkAHEAD"><a href="array.html">Utilizando Objetos Array</a></div>
                <div class="linkAHEAD"><a href="distinct.html">Usando el Tipo de Datos DISTINCT</a></div>
                <div class="linkAHEAD"><a href="sqlstructured.html">Utilizando Objetos Estructurados</a></div>
                <div class="linkAHEAD"><a href="sqlcustommapping.html">Usando Mapeados de Tipos Personalizados</a></div>
                <div class="linkAHEAD"><a href="sqldatalink.html">Utilizando Objetos Datalink</a></div>
                <div class="linkAHEAD"><a href="sqlrowid.html">Utilizando Objetos RowId</a></div>
                <div class="linkAHEAD"><a href="storedprocedures.html">Usando Procedimientos Almacenados</a></div>
                <div class="linkAHEAD"><a href="jdbcswing.html">Usando JDBC con una IPA de IGU</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Acceso a Bases de Datos JDBC(TM)<br />
                <b>Lección:</b> Lo Básico de JDBC
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Acceso a Bases de Datos JDBC(TM)</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Lo Básico de JDBC</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="webrowset.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="blob.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Usando Tipos de Datos Avanzados</h1>
            </div>
            <div id="PageContent">
                <p>
                    Los tipos de datos avanzados introducidos en esta sección dan a una base de datos relacional más flexibilidad 
                    porque pueden usarse como un valor para una columna de tabla. Por ejemplo, una columna puede usarse para 
                    almacenar valores <code>BLOB</code> (<b>Nota del Traductor:</b> objeto grande binario, binary large object, en 
                    inglés), las cuales pueden almacenar cantidades muy grandes de datos como bytes en crudo. Una columna puede 
                    también ser del tipo <code>CLOB</code> (<b>Nota del Traductor:</b> objeto grande de caracteres, character large 
                    object, en inglés), la cual es capaz de almacenar cantidades muy grandes de datos en formato de caracteres.
                </p>
                <p>
                    La última versión del estándar ANSI/ISO SQL se conoce comunmente como SQL:2003. Este estándar especifica los 
                    tipos de datos siguientes:
                </p>
                <ul>
                    <li>
                        <p>
                            Tipos incorporados en SQL92, los cuales consisten en los familiares tipos SQL de columna tales como 
                            <code>CHAR</code>, <code>FLOAT</code>, y <code>DATE</code>
                        </p>
                    </li>
                    <li>
                        <p>
                            Tipos incorporados en SQL99, los cuales consisten de tipos agregados por SQL99:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    <code>BOOLEAN</code>: Booleano (verdadero o falso) 
                                </p>
                            </li>
                            <li>
                                <p>
                                    <code>BLOB</code>: Objeto Grande Binario (Binary Large OBject, en inglés)
                                </p>
                            </li>
                            <li>
                                <p>
                                    <code>CLOB</code>: Objeto Grande de Caracteres (Character Large OBject, en inglés)
                                </p>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Nuevos tipos incorporados agregados por SQL:2003:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    <code>XML</code>: Objeto XML 
                                </p>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Tipos definidos por el usuario:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    Tipo estructurado: tipo definido por el usuario; por ejemplo:
                                </p>
                                <div class="codeblock">
                                    <pre>
CREATE TYPE PLANE_POINT
AS (X FLOAT, Y FLOAT) NOT FINAL
                                    </pre>
                                </div>
                            </li>
                            <li>
                                <p>
                                    Tipo <code>DISTINCT</code>: Tipo definido por el usuario basado en un tipo incorporado; por 
                                    ejemplo:
                                </p>
                                <div class="codeblock">
                                    <pre>
CREATE TYPE MONEY
AS NUMERIC(10,2) FINAL
                                    </pre>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Tipos construídos: Nuevos tipos basados en un tipo base dado:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    <code>REF(<em>tipo-estructurado</em>)</code>: Puntero que denota de forma persistente una 
                                    instancia de un tipo estructurado que reside en la base de datos
                                </p>
                            </li>
                            <li>
                                <p>
                                    <code><em>tipo-base</em> ARRAY[<em>n</em>]</code>: Matriz de <em>n</em> elementos de tipo-base
                                </p>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Localizadores: entidades que son punteros lógicos a datos que residen en el servidor de la base de 
                            datos. Un <em>localizador</em> existe en la computadora del cliente y es un puntero lógico y 
                            transitorio a los datos del servidor. Un localizador típicamente se refiere a datos que son demasiado 
                            grandes para materializarlos en el cliente, tales como imágenes o audio. (Las 
                            <em>vistas materializadas</em> son resultados de consultas que han sido almacendas o 
                            &quot;materializadas&quot; de antemano como objetos del esquema). Hay operadores definidos en el nivel 
                            SQL para recuperar partes de los datos a los que se accede aleatoriamente indicados por el localizador:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    <code>LOCATOR(<em>tipo-estructurado</em>)</code>: Localizador a una instancia estructurada en 
                                    el servidor
                                </p>
                            </li>
                            <li>
                                <p>
                                    <code>LOCATOR(<em>matriz</em>)</code>: Localizador a una matriz en el servidor
                                </p>
                            </li>
                            <li>
                                <p>
                                    <code>LOCATOR(<em>blob</em>)</code>: Localizador a un objeto grande binario en el servidor
                                </p>
                            </li>
                            <li>
                                <p>
                                    <code>LOCATOR(<em>clob</em>)</code>: Localizador a un objeto grande de caracteres en el servidor
                                </p>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            <code>Enlace de datos</code>: Tipo para gestionar datos externos a la fuente de datos. Los valores de
                            enlace de datos (<code>Datalink</code> en inglés) son parte de SQL MED (Gestión de Datos Externos, 
                            Management of External Data, en inglés), una parte de la especificación estándar de SQL ANSI/ISO.
                        </p>
                    </li>
                </ul>
                <h2>
                    Asignación de Tipos Avanzados
                </h2>
                <p>
                    La IPA de JDBC proporciona mapeos predeterminados para los tipos de datos avanzados especificados por el 
                    estándar SQL:2003. La lista siguiente proporciona los tipos de datos y las interfaces o clases a las que se 
                    asignan:
                </p>
                <ul>
                    <li>
                        <code>BLOB</code>: interfaz <code>Blob</code>
                    </li>
                    <li>
                        <code>CLOB</code>: interfaz <code>Clob</code>
                    </li>
                    <li>
                        <code>NCLOB</code>: interfaz <code>NClob</code>
                    </li>
                    <li>
                        <code>ARRAY</code>: interfaz <code>Array</code>
                    </li>
                    <li>
                        <code>XML</code>: interfaz <code>SQLXML</code>
                    </li>
                    <li>
                        Tipos Estructurados: interfaz <code>Struct</code>
                    </li>
                    <li>
                        <code>REF(tipo estructurado)</code>: interfaz <code>Ref</code>
                    </li>
                    <li>
                        <code>ROWID</code>: interfaz <code>RowId</code>
                    </li>
                    <li>
                        <code>DISTINCT</code>: Tipo al cual el tipo base está asignado. Por ejemplo, un valor <code>DISTINCT</code> 
                        basado en el tipo SQL <code>NUMERIC</code> se asigna a un tipo <code>java.math.BigDecimal</code> porque 
                        <code>NUMERIC</code> se asigna a <code>BigDecimal</code> en el lenguaje de programación Java.
                    </li>
                    <li>
                        <code>DATALINK</code>: objeto <code>java.net.URL</code>
                    </li>
                </ul>
                <h2>
                    Usando Tipos de Datos Avanzados
                </h2>
                <p>
                    Puede recuperar, almacenar, y actualizar tipos de datos avanzados de la misma forma que maneja otros tipos de 
                    datos. Utiliza los métodos <code>ResultSet.get<em>TipoDato</em></code> o 
                    <code>CallableStatement.get<em>TipoDato</em></code> para recuperarlos, 
                    <code>PreparedStatement.set<em>TipoDato</em></code> para almacenarlos, y los métodos 
                    <code>ResultSet.update<em>DataType</em></code> para actualizarlos. (La variable <code><em>TipoDato</em></code>
                    es el nombre de la interfaz de Java o clase mapeada a un tipo de datos avanzado). Probablemente el 90 por 
                    ciento de las operaciones realizadas sobre tipos de datos avanzados implican el uso de los métodos 
                    <code>get<em>TipoDato</em></code>, <code>set<em>TipoDato</em></code>, y <code>update<em>TipoDato</em></code>. 
                    La tabla siguiente muestra qué métodos usar:
                </p>
                <table class="celda">
                    <caption>Tipos de datos avanzados y métodos correspondientes</caption>
                    <tr>
                        <th id="h1" class="celda"><strong>Tipo Avanzado de Dato</strong></th>
                        <th id="h2" class="celda"><strong>Método <code>get<em>TipoDato</em></code></strong></th>
                        <th id="h3" class="celda"><strong>Método <code>set<em>TipoDato</em></code></strong></th>
                        <th id="h4" class="celda"><strong>Método <code>update<em>TipoDato</em></code></strong></th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>BLOB</code></td>
                        <td headers="h2" class="celda"><code>getBlob</code></td>
                        <td headers="h3" class="celda"><code>setBlob</code></td>
                        <td headers="h4" class="celda"><code>updateBlob</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>CLOB</code></td>
                        <td headers="h2" class="celda"><code>getClob</code></td>
                        <td headers="h3" class="celda"><code>setClob</code></td>
                        <td headers="h4" class="celda"><code>updateClob</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>NCLOB</code></td>
                        <td headers="h2" class="celda"><code>getNClob</code></td>
                        <td headers="h3" class="celda"><code>setNClob</code></td>
                        <td headers="h4" class="celda"><code>updateNClob</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>ARRAY</code></td>
                        <td headers="h2" class="celda"><code>getArray</code></td>
                        <td headers="h3" class="celda"><code>setArray</code></td>
                        <td headers="h4" class="celda"><code>updateArray</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>XML</code></td>
                        <td headers="h2" class="celda"><code>getSQLXML</code></td>
                        <td headers="h3" class="celda"><code>setSQLXML</code></td>
                        <td headers="h4" class="celda"><code>updateSQLXML</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>Structured type</code></td>
                        <td headers="h2" class="celda"><code>getObject</code></td>
                        <td headers="h3" class="celda"><code>setObject</code></td>
                        <td headers="h4" class="celda"><code>updateObject</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>REF(tipo estructurado)</code></td>
                        <td headers="h2" class="celda"><code>getRef</code></td>
                        <td headers="h3" class="celda"><code>setRef</code></td>
                        <td headers="h4" class="celda"><code>updateRef</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>ROWID</code></td>
                        <td headers="h2" class="celda"><code>getRowId</code></td>
                        <td headers="h3" class="celda"><code>setRowId</code></td>
                        <td headers="h4" class="celda"><code>updateRowId</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>DISTINCT</code></td>
                        <td headers="h2" class="celda"><code>getBigDecimal</code></td>
                        <td headers="h3" class="celda"><code>setBigDecimal</code></td>
                        <td headers="h4" class="celda"><code>updateBigDecimal</code></td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda"><code>DATALINK</code></td>
                        <td headers="h2" class="celda"><code>getURL</code></td>
                        <td headers="h3" class="celda"><code>setURL</code></td>
                        <td headers="h4" class="celda"><code>updateURL</code></td>
                    </tr>
                </table>
                <p>
                    <strong>Nota</strong>: El tipo de dato <code>DISTINCT</code> se comporta de forma diferente a los otros tipos 
                    de datos avanzados de SQL. Al ser un tipo definido por el usuario que se basa en tipos integrados ya 
                    existentes, no tiene interfaz mapeada en el lenguaje de programación Java. Por consiguiente, use el método 
                    que corresponda al tipo de Java en el cual el tipo de dato <code>DISTINCT</code> se basa. Vea 
                    <a href="distinct.html">Usando el Tipo de Datos DISTINCT</a> para más información.
                </p>
                <p>
                    Por ejemplo, el siguiente fragmento de código recupera un valor SQL <code>ARRAY</code>. Para este ejemplo, 
                    suponga que la columna <code>SCORES</code> en la tabla <code>STUDENTS</code> contiene valores del tipo 
                    <code>ARRAY</code>. La variable <code><em>stmt</em></code> es un objeto <code>Statement</code>.
                </p>
                <div class="codeblock">
                    <pre>
ResultSet rs = stmt.executeQuery(
    "SELECT SCORES FROM STUDENTS " +
    "WHERE ID = 002238&quot;);
rs.next();
Array scores = rs.getArray(&quot;SCORES&quot;);
                    </pre>
                </div>
                <p>
                    La variable <code><em>scores</em></code> es un puntero lógico al objeto SQL <code>ARRAY</code> almacenado en la 
                    tabla <code>STUDENTS</code> en la fila para el estudiante <code>002238</code>.
                </p>
                <p>
                    Si quiere almacenar un valor en la base de datos, use el método <code>set</code> apropiado. Por ejemplo, el 
                    siguiente fragmento de código, en el cual <code><em>rs</em></code> es un objeto <code>ResultSet</code>, 
                    almacena un objeto <code>Clob</code>:
                </p>
                <div class="codeblock">
                    <pre>
Clob notes = rs.getClob("NOTES");
PreparedStatement pstmt =
    con.prepareStatement(
        "UPDATE MARKETS SET COMMENTS = ? " +
        "WHERE SALES &lt; 1000000&quot;);
pstmt.setClob(1, notes);
pstmt.executeUpdate();
                    </pre>
                </div>
                <p>
                    Este código establece <code><em>notes</em></code> como el primer parámetro en la sentencia de actualización que 
                    se está enviando a la base de datos. El valor <code>Clob</code> designado por <code><em>notes</em></code> será 
                    almacenado en la tabla <code>MARKETS</code> en la columna <code>COMMENTS</code> en cada fila donde el valor en 
                    la columna <code>SALES</code> es menor que un millón.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="webrowset.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="blob.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Utilizando Objetos WebRowSet<br />
            <b>Página siguiente:</b> Utilizando Objetos Grandes
        </div>
    </body>
</html> 
