<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        <title>
            Accediendo a las Cookies (Los Tutoriales de Java&trade; &gt; Implantación &gt; Haciendo Más con Aplicaciones Java 
            Ricas de Internet)
        </title>
        <meta name="description"
              content="Este tutorial de implantación de Java describe el desarrollo e implantación de appplets, aplicaciones Java
              Web Star, aplicaciones ricas de Internet, y herramientas JAR relacionadas" />
        <meta name="keywords"
              content="java programming, learn java, java sample code, java applet, java web start, rich internet application,
              RIA, jar, plugin, plug-in" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Haciendo Más con Aplicaciones Java Ricas de Internet</a></div>
                <div class="linkAHEAD"><a href="settingArgsProperties.html">Fijando Argumentos Confiables y Propiedades Seguras</a></div>
                <div class="linkBHEAD"><a href="properties.html">Propiedades del Sistema</a></div>
                <div class="linkAHEAD"><a href="jnlpAPI.html">IPA JNLP</a></div>
                <div class="linkBHEAD"><a href="usingJNLPAPI.html">Accediendo al Cliente Usando la IPA de JNLP</a></div>
                <div class="linkAHEAD"><a href="cookies.html">Cookies</a></div>
                <div class="nolinkBHEAD">Accediendo a las Cookies</div>
                <div class="linkAHEAD"><a href="customizeRIALoadingExperience.html">Personalizando la Experiencia de Carga</a></div>
                <div class="linkAHEAD"><a href="security.html">La Seguridad en Aplicaciones Ricas de Internet</a></div>
                <div class="linkAHEAD"><a href="devGuidelines.html">Directrices para Asegurar Aplicaciones Ricas de Internet</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Implantación<br />
                <b>Lección:</b> Haciendo Más con Aplicaciones Java Ricas de Internet<br />
                <b>Sección:</b> Cookies
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Implantación</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Haciendo Más con Aplicaciones Java Ricas de Internet</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="cookies.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="customizeRIALoadingExperience.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Accediendo a las Cookies</h1>
            </div>
            <div id="PageContent">
                <p>
                    Puede establecer y recuperar cookies en sus aplicaciiones ricas de Internet (RIA, en inglés). Las cookies
                    pueden mejorar las capacidades de su RIA. Por ejemplo, considere el escenario donde tiene applets en varias
                    páginas web. Un applet en una página web no puede acceder directamente o compartir información con un applet
                    en otra página web. En este escenario, las cookies ofrecen una conexión importante entre applets y ayudan a un
                    applet a pasar información a otro applet en una página web diferente. Las aplicaciones Java Web Start pueden
                    también usar cookies para almacenar información en el cliente.
                </p>
                <p>
                    El ejemplo del Applet Cookie tiene una clase
                    <a class="SourceLink" target="_blank" 
                       href="examples/applet_AccessingCookies/src/CookieAccessor.java "
                       onclick="showCode('../../displayCode.html', 'examples/applet_AccessingCookies/src/CookieAccessor.java '); return false;">
                        <code>CookieAccessor</code></a> que recupera y configura cookies.
                </p>
                <h2>
                    <a id="retrieving"></a>Recuperar cookies
                </h2>
                <p>
                    El trozo de código siguiente muestra el método <code>getCookieUsingCookieHandler</code> de la clase
                    <code>CookieAccessor</code>:
                </p>
                <div class="codeblock">
                    <pre>
public void getCookieUsingCookieHandler() { 
    try {       
        // Instancia CookieManager;
        // asegúrese de configurar CookiePolicy
        CookieManager manager = new CookieManager();
        manager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);
        CookieHandler.setDefault(manager);

        // obtiene contenido de URLConnection;
        // las cookies son configuradas por el sitio web
        URL url = new URL("http://host.example.com");
        URLConnection connection = url.openConnection();
        connection.getContent();

        // obtiene cookies de la CookieStore
        // subyacente
        CookieStore cookieJar =  manager.getCookieStore();
        List &lt;HttpCookie&gt; cookies =
            cookieJar.getCookies();
        for (HttpCookie cookie: cookies) {
          System.out.println("CookieHandler recuperó la cookie: " + cookie);
        }
    } catch(Exception e) {
        System.out.println("Incapaz de obtener la cookie usando el manejador de cookies");
        e.printStackTrace();
    }
}  
                    </pre>
                </div>
                <p>
                    La clase
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/CookieManager.html"><code>CookieManager</code></a>
                    es el punto de entrada principal para la gestión de cookies. Cree una instancia de la clase 
                    <code>CookieManager</code> y configure su
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/CookiePolicy.html"><code>CookiePolicy</code></a>.
                       Configure esta instancia del <code>CookieManager</code> como el predeterminado
                       <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/CookieHandler.html"><code>CookieHandler</code></a>.
                </p>
                <p>
                    Abra una
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html"><code>URLConnection</code></a>
                    al sitio web de su elección.
                </p>
                <p>A continuación, recupere las cookies del
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/CookieStore.html"><code>CookieStore</code></a>
                    subyacente usando el método <code>getCookies</code>.
                </p>
                <h2>
                    Configurando Cookies
                </h2>
                <p>
                    El trozo de código siguiente muestra el método <code>setCookieUsingCookieHandler</code> de la clase
                    <code>CookieAccessor</code>:
                </p>
                <div class="codeblock">
                    <pre>
public void setCookieUsingCookieHandler() {
    try {
        // Instancia CookieManager
        CookieManager manager = new CookieManager();
        CookieHandler.setDefault(manager);
        CookieStore cookieJar =  manager.getCookieStore();

        // crea la cookie
        HttpCookie cookie = new HttpCookie("UserName", "John Doe");

        // agrega la cookie al CookieStore para una
        // URL particular
        URL url = new URL("http://host.example.com");
        cookieJar.add(url.toURI(), cookie);
        System.out.println("Cookie agregada usando el manejador de cookies");
    } catch(Exception e) {
        System.out.println("Incapaza de configurar la cookie usando el manejador de cookies");
        e.printStackTrace();
    }
}
                    </pre>
                </div>
                <p>
                    Como se mostró en <a href="#retrieving">Recuperar Cookies</a>, la clase
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/CookieManager.html"><code>CookieManager</code></a>
                    es el punto de entrada principal para la gestión de cookies. Cree una instancia de la clase 
                    <code>CookieManager</code> y establezca la instancia como la predeterminada 
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/CookieHandler.html"><code>CookieHandler</code></a>.
                </p>
                <p>
                    Cree la deseada
                    <a class="APILink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/api/java/net/HttpCookie.html"><code>HttpCookie</code></a> con la
                    información necesaria. En nuestro ejemplo, hemos creado una nueva <code>HttpCookie</code> que establece
                    <code>UserName</code> como <code>John Doe</code>.
                </p>
                <p>
                    A continuación, agregue la cookie al almacén de cookies subyacente.
                </p>
                <h2>
                    Ejecutar el Ejemplo de Applet Cookie
                </h2>
                <p>
                    Para acceder a las cookies, debe firmar el fichero JAR de su RIA y solicitar permiso para ejecutarse fuera de
                    la caja de arena de seguridad. Vea la documentación para la herramienta
                    <a class="OutsideLink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/technotes/tools/index.html#security"><code>jarsigner</code></a>
                    para aprender a cómo firmar ficheros JAR. Vea 
                    <a class="TutorialLink" target="_top" href="../doingMoreWithRIA/security.html">La Seguridad en Aplicaciones 
                        Ricas de Internet</a> para información sobre la solicitud de permisos.
                </p>
                <p>
                    <a class="TutorialLink" target="_top" href="examplesIndex.html#AccessingCookies">Descargue el código fuente</a>
                    para el ejemplo <em>Applet Cookie </em> para experimentar más.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="cookies.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="customizeRIALoadingExperience.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Cookies<br />
            <b>Página siguiente:</b> Personalizando la Experiencia de Carga
        </div>
    </body>
</html> 
