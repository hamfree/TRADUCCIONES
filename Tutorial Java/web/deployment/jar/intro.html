<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Entendiendo el Firmado y la Verificación (Los Tutoriales de Java&trade; &gt; Implantación &gt; Empaquetando Programas 
            en Ficheros JAR)
        </title>        
        <meta name="description"
              content="Este tutorial de implantación de Java describe el desarrollo e implantación de appplets, aplicaciones Java
              Web Star, aplicaciones ricas de Internet, y herramientas JAR relacionadas" />
        <meta name="keywords"
              content="java programming, learn java, java sample code, java applet, java web start, rich internet application,
              RIA, jar, plugin, plug-in" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Empaquetando Programas en Ficheros JAR</a></div>
                <div class="linkAHEAD"><a href="basicsindex.html">Usando Ficheros JAR: Lo Básico</a></div>
                <div class="linkBHEAD"><a href="build.html">Creando un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="view.html">Viendo el Contenido de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="unpack.html">Extrayendo el Contenido de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="update.html">Actualizando un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="run.html">Ejecutando Software Empaquetado en Ficheros JAR</a></div>
                <div class="linkAHEAD"><a href="manifestindex.html">Trabajando con los Ficheros de Manifiesto (Manifest): Lo Básico</a></div>
                <div class="linkBHEAD"><a href="defman.html">Entendiendo el Manifiesto por Defecto</a></div>
                <div class="linkBHEAD"><a href="modman.html">Modificando un Fichero de Manifiesto</a></div>
                <div class="linkBHEAD"><a href="appman.html">Configurando el Punto de Entrada de la Aplicación</a></div>
                <div class="linkBHEAD"><a href="downman.html">Añadiendo Clases al ClassPath del Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="packageman.html">Configurando la Información de la Versión del Paquete</a></div>
                <div class="linkBHEAD"><a href="sealman.html">Sellando Paquetes dentro de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="secman.html">Mejorando la Seguridad con los Atributos del Manifiesto</a></div>
                <div class="linkAHEAD"><a href="signindex.html">Firmando y Verificando los Ficheros JAR</a></div>
                <div class="nolinkBHEAD">Entendiendo el Firmado y la Verificación</div>
                <div class="linkBHEAD"><a href="signing.html">Firmando Ficheros JAR</a></div>
                <div class="linkBHEAD"><a href="verify.html">Verificando Ficheros JAR Firmados</a></div>
                <div class="linkAHEAD"><a href="apiindex.html">Usando IPAs relacionadas con el formato JAR</a></div>
                <div class="linkBHEAD"><a href="jarclassloader.html">La Clase JarClassLoader</a></div>
                <div class="linkBHEAD"><a href="jarrunner.html">La Clase JarRunner</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Implantación<br />
                <b>Lección:</b> Empaquetando Programas en Ficheros JAR<br />
                <b>Sección:</b> Firmando y Verificando los Ficheros JAR
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Implantación</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Empaquetando Programas en Ficheros JAR</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="signindex.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="signing.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Entendiendo el Firmado y la Verificación</h1>
            </div>
            <div id="PageContent">
                <p>
                    La plataforma de Java&trade; le permite firmar digitalmente ficheros JAR. Usted firma digitalmente un fichero 
                    por la misma razón por la que firmaría un documento de papel con un bolígrafo y tinta - permitir a los lectores 
                    conocer que usted escribió el documento, o al menos que el documento tiene su aprobación.
                </p>
                <p>
                    Cuando usted firma una carta, por ejemplo, cualquiera que reconozca su firma puede confirmar que usted escribió 
                    la carta. De forma similiar cuando usted firma digitalmente un fichero, cualquiera que "reconozca" su firma 
                    digital sabe que el fichero proviene de usted. El proceso de "reconocer" firmas electrónicas se llama 
                    <em>verificación</em>.
                </p>
                <p>
                    Cuando se firma el fichero JAR, usted tiene también la opción de sellar la firma con la hora. Similar a poner 
                    una fecha en un documento en papel, la marca de tiempo de la firma identifica cuándo se firmó el archivo JAR. 
                    La marca de tiempo puede ser utilizada para verificar que el certificado usado para firmar el fichero JAR era 
                    válido en la hora y fecha del firmado.
                </p>
                <p>
                    La capacidad de firmar y verificar ficheros es una parte importante de la arquitectura de seguridad de la 
                    plataforma de Java. La seguridad es controlada por la <em>política</em> de seguridad vigente en tiempo de 
                    ejecución. Puede configurar la política para aprobar privilegios de seguridad a applets y a aplicaciones. 
                    Por ejemplo, podría aprobar el permiso a un applet a realizar operaciones normalmente prohibidas tales como 
                    leer y escribir ficheros locales o ejecutar programas ejecutables locales. Si ha descargado algún código que 
                    está firmado por una entidad de confianza, puede usar ese hecho como criterio para decidir qué permisos de 
                    seguridad asignar al código.
                </p>
                <p>
                    Una vez que usted (o su navegador) ha verificado que un applet es de una fuente confiable, puede hacer que la 
                    plataforma relaje las restricciones de seguridad para permitir al applet realizar operaciones que 
                    ordinariamente estarían prohibidas. Un applet de confianza puede tener libertades según lo especificado en el 
                    <em>archivo de políticas</em> vigente.
                </p>
                <p>
                    La plataforma de Java permite la firma y verificación mediante el uso de números especiales llamados 
                    <em>claves</em> púbilicas y privadas. Las claves públicas y privadas vienen en pares, y juegan roles 
                    complementarios.
                </p>
                <p>
                    La clave privada es el "bolígrafo" electrónico con la cual puede firmar un fichero. Como su nombre implica, la 
                    clave privada es conocida sólo por usted  para que nadie más puede "falsificar" su firma. Un fichero firmado 
                    con su clave privada sólo puede ser verificado por su clave pública correspondiente.
                </p>
                <p>
                    Sin embargo, las claves públicas y privadas por sí solas no son suficientes para verificar realmente una firma. 
                    Incluso si usted ha verificado que un fichero firmado contiene un par de claves que coinciden, aún necesita 
                    alguna forma de confirmar que la clave pública en realidad proviene del firmante del que pretende proceder.
                </p>
                <p>
                    Por lo tanto, se requiere un elemento más para que la firma y la verificación funcionen. Ese elemento adicional 
                    es el <em>certificado</em> que el firmante incluye en un fichero JAR firmado. Un certificado es una declaración 
                    firmada digitalmente de una <em>autoridad de certificación</em> reconocida que indica quién posee una clave 
                    pública en particular. Las autoridades de certificación son entidades (típicamente empresas especializadas en 
                    seguridad digital) en las que se confía en toda la industria para firmar y emitir certificados para las claves 
                    y sus propietarios. En el caso de los ficheros JAR firmados, el certificado indica a quién pertenece la clave 
                    pública contenida en el fichero JAR.
                </p>
                <p>
                    Cuando usted firma un fichero JAR su clave pública es colocada dentro del archivo junto con un certificado 
                    asociado de forma que esté fácilmente disponible para usarse por cualquiera que quiera verificar su firma.
                </p>
                <p>
                    Para resumir la firma digital:
                </p>
                <ul>
                    <li>
                        El firmante firma el fichero JAR usando una clave privada.
                    </li>
                    <li>
                        La clave pública correspondiente es colocada en el fichero JAR, junto con su certificado, de forma que 
                        esté disponible para usarse por cualquiera que quiera verificar la firma.
                    </li>
                </ul>
                <p>
                    <a id="digest"></a>
                </p>
                <h2>
                    Resúmenes y el Archivo de Firmas
                </h2>
                <p>
                    Cuando firma un archivo JAR, a cada fichero en el archivo se le da un entrada resumen en el 
                    <a href="manifestindex.html">manifiesto</a> del archivo. Aquí hay un ejemplo de cómo se vería tal entrada:
                </p>
                <div class="codeblock">
                    <pre>
Name: test/classes/ClassOne.class
SHA1-Digest: TD1GZt8G11dXY2p4olSZPc5Rj64=
                    </pre>
                </div>
                <p>
                    Los valores resumen son hashes o representaciones codificadas del contenido de los ficheros tal como estaban en 
                    el momento de la firma. Un resumen de fichero cambiará si y sólo si el fichero cambia.
                </p>
                <p>
                    Cuando se firma un archivo JAR, un fichero de <em>firma</em> se genera automáticamente y es colocado en el 
                    directorio <code>META-INF</code> del archivo JAR, el mismo directorio que contiene el manifiesto del archivo.
                    Los ficheros de firma tienen nombres de fichero con una extensión <code>.SF</code>. Aquí tiene un ejemplo de 
                    los contenidos de un fichero de firma:
                </p>
                <div class="codeblock">
                    <pre>
Signature-Version: 1.0
SHA1-Digest-Manifest: h1yS+K9T7DyHtZrtI+LxvgqaMYM=
Created-By: 1.7.0_06 (Oracle Corporation)

Name: test/classes/ClassOne.class
SHA1-Digest: fcav7ShIG6i86xPepmitOVo4vWY=

Name: test/classes/ClassTwo.class
SHA1-Digest: xrQem9snnPhLySDiZyclMlsFdtM=

Name: test/images/ImageOne.gif
SHA1-Digest: kdHbE7kL9ZHLgK7akHttYV4XIa0=

Name: test/images/ImageTwo.gif
SHA1-Digest: mF0D5zpk68R4oaxEqoS9Q7nhm60=
                    </pre>
                </div>
                <p>
                    Como puede ver, el fichero de firma contiene entradas resumen para los ficheros del archivo que parecen 
                    similares a las entradas de valor-resumen en el manifiesto. Sin embargo, mientras los valores resumen en el 
                    manifiesto están calculados desde los mismos ficheros, los valores resumen en el fichero de firma están 
                    calculados desde las entradas correspondientes en el manifiesto. Los ficheros de firma también contienen un 
                    valor resumen para el manifiesto entero (vea la cabecera <code>SHA1-Digest-Manifest</code> en el ejemplo de 
                    arriba).
                </p>
                <p>
                    Cuando un archivo JAR firmado está siendo verificado, los resúmenes de cada uno de sus ficheros son 
                    re-calculados y comparados con los resúmenes grabados en el manifiesto para asegurarse de que los contenidos 
                    del archivo JAR no han cambiado desde que fue firmado. Como una comprobación adicional, los valores resúmen 
                    para el propio fichero de manifiesto son re-calculados y comparados contra los valores grabados en el fichero 
                    de firma.
                </p>
                <p>
                    Puede leer información adicional sobre los ficheros de firma en la página 
                    <a class="OutsideLink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#JAR_Manifest">Formato del 
                        Manifiesto</a> de la documentación del KDJ&trade;.
                </p>
                <h2>
                    El Archivo de Bloque de Firma
                </h2>
                <p>
                    Además del fichero de firma, un fichero de <em>bloque de firma</em> es colocado automáticamente en el 
                    directorio <code>META-INF</code> cuando se firma un archivo JAR. A diferencia del fichero de manifiesto o el 
                    fichero de firma, los ficheros de bloque de firma no son legibles por los humanos.
                </p>
                <p>
                    El fichero de bloque de firma contiene dos elementos esenciales para la verificación:
                </p>
                <ul>
                    <li>
                        La firma digital para el archivo JAR que fue generada con la clave privada del firmante.
                    </li>
                    <li>
                        El certificado que contiene la clave pública del firmante, para ser usada por cualquiera que quiera 
                        verificar el archivo JAR firmado.
                    </li>
                </ul>
                <p>
                    Los nombres de los ficheros de bloque de firma tendrán típicamente una extensión <code>.DSA</code> indicando 
                    que fueron creados por el Algoritmo de Firma Digital (Digital Signature Algorithm, en inglés) por defecto. Son 
                    posibles otras extensiones de nombre de archivo si se usan claves asociadas con algún otro algoritmo estándar 
                    para la firma.
                </p>
                <hr />
                <h2>
                    Documentación Relacionada
                </h2>
                <p>
                    Para información adicional sobre claves, certificados, y autoridades de certificación, vea 
                </p>
                <ul>
                    <li>
                        <a class="OutsideLink" target="_blank"
                           href="https://docs.oracle.com/javase/8/docs/technotes/tools/index.html#security">Las Herramientas de 
                            Seguridad del KDJ</a>
                    </li>
                    <li>
                        <a class="OutsideLink" target="_blank" 
                           href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/cert3.html">Certificados X.509</a>
                    </li>
                </ul>
                <p>
                    Para más información sobre la arquitectura de seguridad de la plataforma Java, vea esta documentación 
                    relacionada:
                </p>
                <ul>
                    <li>
                        <a class="TutorialLink" target="_top" href="../../security/index.html">Características de Seguridad en Java 
                            SE</a>
                    </li>
                    <li>
                        <a class="OutsideLink" target="_blank" 
                           href="http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136007.html">Seguridada en Java SE</a>
                    </li>
                    <li>
                        <a class="OutsideLink" target="_blank" 
                           href="https://docs.oracle.com/javase/8/docs/technotes/tools/index.html#security">Herramientas de 
                            Seguridad</a>
                    </li>
                </ul>
            </div>
            <div class="NavBit">
                <a target="_top" href="signindex.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="signing.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Firmando y Verificando los Ficheros JAR<br />
            <b>Página siguiente:</b> Firmando Ficheros JAR
        </div>
    </body>
</html> 
