<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Firmando Ficheros JAR (Los Tutoriales de Java&trade; &gt; Implantación &gt; Empaquetando Programas en Ficheros JAR)
        </title>        
        <meta name="description"
              content="Este tutorial de implantación de Java describe el desarrollo e implantación de appplets, aplicaciones Java
              Web Star, aplicaciones ricas de Internet, y herramientas JAR relacionadas" />
        <meta name="keywords"
              content="java programming, learn java, java sample code, java applet, java web start, rich internet application,
              RIA, jar, plugin, plug-in" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Empaquetando Programas en Ficheros JAR</a></div>
                <div class="linkAHEAD"><a href="basicsindex.html">Usando Ficheros JAR: Lo Básico</a></div>
                <div class="linkBHEAD"><a href="build.html">Creando un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="view.html">Viendo el Contenido de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="unpack.html">Extrayendo el Contenido de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="update.html">Actualizando un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="run.html">Ejecutando Software Empaquetado en Ficheros JAR</a></div>
                <div class="linkAHEAD"><a href="manifestindex.html">Trabajando con los Ficheros de Manifiesto (Manifest): Lo Básico</a></div>
                <div class="linkBHEAD"><a href="defman.html">Entendiendo el Manifiesto por Defecto</a></div>
                <div class="linkBHEAD"><a href="modman.html">Modificando un Fichero de Manifiesto</a></div>
                <div class="linkBHEAD"><a href="appman.html">Configurando el Punto de Entrada de la Aplicación</a></div>
                <div class="linkBHEAD"><a href="downman.html">Añadiendo Clases al ClassPath del Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="packageman.html">Configurando la Información de la Versión del Paquete</a></div>
                <div class="linkBHEAD"><a href="sealman.html">Sellando Paquetes dentro de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="secman.html">Mejorando la Seguridad con los Atributos del Manifiesto</a></div>
                <div class="linkAHEAD"><a href="signindex.html">Firmando y Verificando los Ficheros JAR</a></div>
                <div class="linkBHEAD"><a href="intro.html">Entendiendo el Firmado y la Verificación</a></div>
                <div class="nolinkBHEAD">Firmando Ficheros JAR</div>
                <div class="linkBHEAD"><a href="verify.html">Verificando Ficheros JAR Firmados</a></div>
                <div class="linkAHEAD"><a href="apiindex.html">Usando IPAs relacionadas con el formato JAR</a></div>
                <div class="linkBHEAD"><a href="jarclassloader.html">La Clase JarClassLoader</a></div>
                <div class="linkBHEAD"><a href="jarrunner.html">La Clase JarRunner</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Implantación<br />
                <b>Lección:</b> Empaquetando Programas en Ficheros JAR<br />
                <b>Sección:</b> Firmando y Verificando los Ficheros JAR
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Implantación</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Empaquetando Programas en Ficheros JAR</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="intro.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="verify.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Firmando Ficheros JAR</h1>
            </div>
            <div id="PageContent">
                <p>
                    Utilice la Herramienta de Verificación y Firma JAR para firmar archivos JAR y marcar la hora con la firma. 
                    Usted invoca la Herramienta de Verificación y Firma JAR usando el comando <code>jarsigner</code>, al que nos 
                    referiremos como "Jarsigner" para abreviar.
                </p>
                <p>
                    Para firmar un archivo JAR, primero debe tener una clave privada. Las claves privadas y sus claves públicas 
                    asociadas y certificados están almacenados en bases de datos protegidas por contraseña llamadas <em>almacenes 
                    de claves</em>. Un almacén de claves puede mantener las claves de muchos firmantes potenciales. Cada clave en 
                    el almacén de claves  puede ser identificado por un <em>alias</em> el cual es típicamente el nombre del 
                    firmante que posee la clave. La clave que pertenece a Rita Jones podría tener el alias "rita", por ejemplo.
                </p>
                <p>
                    La forma básica del comando para firmar un archivo JAR es 
                </p>
                <div class="codeblock">
                    <pre>
jarsigner <i>fichero-jar alias</i>
                    </pre>
                </div>
                <p>
                    En este comando:
                </p>
                <ul>
                    <li>
                        <code>fichero-jar</code> es la ruta y nombre del archivo JAR que va a ser firmado.
                    </li>
                    <li>
                        <code>alias</code> es el alias que identifica la clave privada que va a ser usada para firmar el archivo 
                        JAR, y el certificado asociado de la clave.
                    </li>
                </ul>
                <p>
                    La herramienta Jarsigner le preguntará por las claves de acceso para el almacén de claves y el alias.
                </p>
                <p>
                    Esta forma básica del comando asume que el almacén de claves que se usa está en un fichero llamado 
                    <code>.keystore</code> en su directorio de inicio. Creará una firma y ficheros de bloque de firma con nombres 
                    <code>x.SF</code> y <code>x.DSA</code> respectivamente, donde <code>x</code> son las ocho primeras letras del 
                    alias, todas convertidas a mayúsculas. Este comando básico <em>sobreescribirá</em> el archivo JAR original con 
                    el archivo JAR firmado.
                </p>
                <p>
                    En la práctica, es posible que desee utilizar una o más de las opciones de comando disponibles. Por ejemplo, se 
                    recomienda estampar la firma en el tiempo para que cualquier herramienta utilizada para implementar su 
                    aplicación pueda verificar que el certificado utilizado para firmar el archivo JAR era válido en el momento en 
                    que se firmó el archivo. La herramienta Jarsigner emite una advertencia si no se incluye una marca de tiempo.
                </p>
                <p>
                    Las opciones preceden a la ruta y nombre del <code>fichero-jar</code>. La tabla siguiente describe las opciones
                    que están disponibles:
                    <br />
                    <br />
                </p>
                <table class="celda">
                    <caption><strong>Opciones del Comando Jarsigner</strong></caption>
                    <tr>
                        <th id="h1" class="celda" style="padding: 3px">
                            Opción
                        </th>
                        <th id="h2" class="celda" style="padding: 3px">
                            Descripción
                        </th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-keystore</code>&nbsp;<i>url</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Especifica un almacén de claves a ser utilizado si no quiere usar la base de datos por defecto 
                            <code>.keystore</code>.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-sigfile</code>&nbsp;<i>file</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Especifica el nombre base para los ficheros .SF y .DSA si no quiere que el nombre base sea tomado de
                            su alias. <i>file</i> debe estar compuesto sólo de letras mayúsculas (A-Z), numerales (0-9), el guión
                            (-), y el guión bajo (_).
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-signedjar</code>&nbsp;<i>file</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Especifica el nombre del archivo JAR firmado que será generado si no quiere que el fichero original 
                            sin firmar sea osbreescrito con el fichero firmado.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-tsa</code>&nbsp;<i>url</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Genera un sello de tiempo para la firma usando la Autoridad de Sellado de Tiempo (TSA) identificada por 
                            la URL.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-tsacert</code>&nbsp;<i>alias</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Genera un sello de tiempo para la firma usando el certificado de la clave pública de la TSA 
                            identificada por el <i>alias</i>.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-altsigner</code>&nbsp;<i>class</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Indica que un mecanismo alternativo de firmado será usado para el sellado de tiempo de la firma. El 
                            nombre completamente cualificado de la clase identifica la clase usada.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px">
                            <code>-altsignerpath</code>&nbsp;<i>classpathlist</i>
                        </td>
                        <td headers="h2" class="celda" style="padding: 3px">
                            Suministra la ruta a la clase identificada por la opción <code>altsigner</code> y cualesquiera ficheros 
                            JAR de los que dependa la clase.
                        </td>
                    </tr>
                </table>
                <h2>
                    Ejemplo
                </h2>
                <p>
                    Veamos un par de ejemplos de firmado de un archivo JAR con la herramienta Jarsigner. En estos ejemplos, 
                    asumiremos lo siguiente:
                </p>
                <ul>
                    <li>
                        Su alias es &quot;johndoe&quot;.
                    </li>
                    <li>
                        El almacén de lcaves que quiere usar está en un fichero llamado &quot;mykeys&quot; en el directorio de 
                        trabajo actual.
                    </li>
                    <li>
                        La TSA que quiere usar para el sellado de tiempo de la firma está ubicada en 
                        <code>http://tsa.url.example.com</code>.
                    </li>
                </ul>
                <p>
                    Bajo estas asunciones, podría usar este comando para firma un archivo JAR llamado <code>app.jar</code>:
                </p>
                <div class="codeblock">
                    <pre>
jarsigner -keystore mykeys -tsa http://tsa.url.example.com app.jar johndoe
                    </pre>
                </div>
                <p>
                    Será preguntado para introducir las claves de acceso tanto del almacén de claves y su alias. Ya que este 
                    comando no hace uso de la opción <code>-sigfile</code>, los ficheros .SF y .DSA que crea serán nombrados 
                    <code>JOHNDOE.SF</code> y <code>JOHNDOE.DSA</code>. Ya que el comando no usa la opción <code>-signedjar</code>, 
                    el archivo firmado resultante sobreescribirá la versión original de <code>app.jar</code>.
                </p>
                <p>
                    Veamos que ocurriría si usa una combinación diferente de opciones:
                </p>
                <div class="codeblock">
                    <pre>
jarsigner -keystore mykeys -sigfile SIG -signedjar SignedApp.jar 
          -tsacert testalias app.jar johndoe
                    </pre>
                </div>
                <p>
                    Los ficheros de firma y bloque de firma serán nombrados <code>SIG.SF</code> y <code>SIG.DSA</code>,
                    respectivamente, y el fichero JAR firmado <code>SignedApp.jar</code> será colocado en el directorio actual. El 
                    archivo JAR original sin firma permanecerá sin cambios. También, la firma será sellada en tiempo con la clave 
                    pública y certificado de la TSA identificada como <code>testalias</code>.
                </p>
                <h2>
                    Información Adicional
                </h2>
                <p>
                    Las páginas de referencia completas para la herramienta de firma y verificación JAR están en línea:
                    <a class="OutsideLink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/SecurityToolsSummary.html">
                        Resumen de herramientas de seguridad</a>
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;Cuando un certificado está auto firmado, <code>UNKNOWN</code> será visualizado 
                    como el publicador de la aplicación. Para más información, vea 
                    <a class="OutsideLink" target="_blank"
                       href="http://www.java.com/en/download/faq/self_signed.xml">¿Es seguro ejecutar una aplicación desde un 
                        editor que aparece como <code>UNKNOWN</code>?
                    </a>.
                    <hr />
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="intro.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="verify.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Entendiendo el Firmado y la Verificación<br />
            <b>Página siguiente:</b> Verificando Ficheros JAR Firmados
        </div>
    </body>
</html> 
