<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Creando un Fichero JAR (Los Tutoriales de Java&trade; &gt; Implantación &gt; Empaquetando Programas en Ficheros JAR)
        </title>
        <meta name="description"
              content="Este tutorial de implantación de Java describe el desarrollo e implantación de appplets, aplicaciones Java
              Web Star, aplicaciones ricas de Internet, y herramientas JAR relacionadas" />
        <meta name="keywords"
              content="java programming, learn java, java sample code, java applet, java web start, rich internet application,
              RIA, jar, plugin, plug-in" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Empaquetando Programas en Ficheros JAR</a></div>
                <div class="linkAHEAD"><a href="basicsindex.html">Usando Ficheros JAR: Lo Básico</a></div>
                <div class="nolinkBHEAD">Creando un Fichero JAR</div>
                <div class="linkBHEAD"><a href="view.html">Viendo el Contenido de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="unpack.html">Extrayendo el Contenido de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="update.html">Actualizando un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="run.html">Ejecutando Software Empaquetado en Ficheros JAR</a></div>
                <div class="linkAHEAD"><a href="manifestindex.html">Trabajando con los Ficheros de Manifiesto (Manifest): Lo Básico</a></div>
                <div class="linkBHEAD"><a href="defman.html">Entendiendo el Manifiesto por Defecto</a></div>
                <div class="linkBHEAD"><a href="modman.html">Modificando un Fichero de Manifiesto</a></div>
                <div class="linkBHEAD"><a href="appman.html">Configurando el Punto de Entrada de la Aplicación</a></div>
                <div class="linkBHEAD"><a href="downman.html">Añadiendo Clases al ClassPath del Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="packageman.html">Configurando la Información de la Versión del Paquete</a></div>
                <div class="linkBHEAD"><a href="sealman.html">Sellando Paquetes dentro de un Fichero JAR</a></div>
                <div class="linkBHEAD"><a href="secman.html">Mejorando la Seguridad con los Atributos del Manifiesto</a></div>
                <div class="linkAHEAD"><a href="signindex.html">Firmando y Verificando los Ficheros JAR</a></div>
                <div class="linkBHEAD"><a href="intro.html">Entendiendo el Firmado y la Verificación</a></div>
                <div class="linkBHEAD"><a href="signing.html">Firmando Ficheros JAR</a></div>
                <div class="linkBHEAD"><a href="verify.html">Verificando Ficheros JAR Firmados</a></div>
                <div class="linkAHEAD"><a href="apiindex.html">Usando IPAs relacionadas con el formato JAR</a></div>
                <div class="linkBHEAD"><a href="jarclassloader.html">La Clase JarClassLoader</a></div>
                <div class="linkBHEAD"><a href="jarrunner.html">La Clase JarRunner</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Implantación<br />
                <b>Lección:</b> Empaquetando Programas en Ficheros JAR<br />
                <b>Sección:</b> Usando Ficheros JAR: Lo Básico
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Implantación</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Empaquetando Programas en Ficheros JAR</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="basicsindex.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="view.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Creando un Fichero JAR</h1>
            </div>
            <div id="PageContent">
                <p>
                    El formato básico del comando para crear un archivo JAR es:
                </p>
                <div class="codeblock">
                    <pre>
jar cf <i>archivo-jar fichero(s)-entrada</i>
                    </pre>
                </div>
                <p>
                    Las opciones y argumentos usados en este comando son:
                </p>
                <ul>
                    <li>
                        La opción <code>c</code> indica que usted quiere <em>crear</em> un archivo JAR.
                    </li>
                    <li>
                        La opción <code>f</code> indica que quiere que la salida vaya a un <em>fichero</em> en vez de a la 
                        <code>salida estándar</code>.
                    </li>
                    <li>
                        <code>archivo-jar</code> es el nombre que quiere que tenga el archivo JAR resultante. Puede usar cualquier 
                        nombre de fichero para un archivo JAR. Por convención, los nombres de fichero JAR tienen la extensión 
                        <code>.jar</code> , aunque esto no sea requerido.
                    </li>
                    <li>
                        El argumento <code>fichero(s)-entrada</code> es una lista de uno o más ficheros separados por espacio que 
                        usted quiere incluir en su archivo JAR. El argumento <code>fichero(s)-entrada</code> puede contener el 
                        símbolo comodín <code>*</code>. Si cualquiera de los 'fichero(s)-entrada' son directorios, los contenidos 
                        de estos directorios serán agregados al archivo JAR recursivamente.
                    </li>
                </ul>
                <p>
                    Las opciones <code>c</code> y <code>f</code> pueden aparecer en cualquier orden, pero no puede haber espacios 
                    entre ellos.
                </p>
                <p>
                    Este comando generará un archivo JAR comprimido y lo colocará en el directorio actual. El comando también 
                    generará un 
                    <a class="TutorialLink" target="_top" href="defman.html">fichero de manifiesto por defecto</a> para el archivo 
                    JAR.
                </p>
                <div class="note">
                    <hr /><strong>Nota:</strong>&nbsp;
                    <p>
                        Los metadatos en el archivo JAR, tales como las entradas de nombres, comentarios, y contenidos del 
                        manifiesto, deben estar codificados en UTF8.
                    </p>
                    <hr />
                </div>
                <p>
                    Usted puede agregar cualquiera de estas opciones adicionales a las opciones <code>cf</code> del comando básico:
                </p>
                <table class="celda" style="margin: 3px;">
                    <caption><strong>opciones del comando jar</strong></caption>
                    <tr>
                        <th id="h1" class="celda">
                            Opción
                        </th>
                        <th id="h2" class="celda">
                            Descripción
                        </th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="text-align:center;">
                            <code>v</code>
                        </td>
                        <td headers="h2" class="celda">
                            Produce una salida <em>verbosa</em> en la <code>salida estándar</code> mientras el archivo JAR está 
                            siendo construído. La salida verbosa le indica el nombre de cada fichero mientras es agregado al 
                            archivo JAR.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="text-align:center;">
                            <code>0</code> (cero)
                        </td>
                        <td headers="h2" class="celda">
                            Indica que usted no quiere que el archivo JAR sea comprimido.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="text-align:center;">
                            <code>M</code>
                        </td>
                        <td headers="h2" class="celda">
                            Indica que el fichero de manifiesto por defecto no debe ser generado.
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="text-align:center;">
                            <code>m</code>
                        </td>
                        <td headers="h2" class="celda">
                            Usado para incluir información de manifiesto desde un fichero de manifiesto existente. El formato para 
                            usar esta opción es:
                            <div class="codeblock">
                                <pre>
jar cmf manifiesto-existente archivo-jar fichero(s)-entrada
                                </pre>
                            </div>
                            Vea
                            <a class="TutorialLink" target="_top" href="modman.html">Modificando un Fichero de Manifiesto</a> para 
                            más información sobre esta opción.
                            <div class="note">
                                <hr /><strong>Advertencia:</strong>&nbsp;El manifiesto debe terminar con una nueva línea o un 
                                retorno de carro. La última línea no será analizada apropiadamente si no termina con una nueva 
                                línea o retorno de carro.
                                <hr />
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="text-align:center;">
                            <code>-C</code>
                        </td>
                        <td headers="h2" class="celda">
                            Para cambiar directorios durante la ejecución del comando. Vea más abajo para un ejemplo.
                        </td>
                    </tr>
                </table>
                <div class="note">
                    <hr /><strong>Nota:</strong>&nbsp;
                    <p>
                        Cuando usted crea un archivo JAR, la hora de creación es almacenada en el archivo JAR. Por lo tanto, 
                        incluso si el contenido del archivo JAR no cambia, cuando usted crea un archivo JAR varias veces, los 
                        ficheros resultantes no son exactamente idénticos. Debe tener esto en cuenta cuando utilice archivos JAR en 
                        un entorno de compilación. Se recomienda que use información de versionado en el fichero de manifiesto, en 
                        vez de la hora de creación, para controlar las versiones de un archivo JAR. Vea la sección 
                        <a class="TutorialLink" target="_top" href="packageman.html">Configurando la Información de la Versión del 
                            Paquete</a>.
                    </p>
                    <hr />
                </div>
                <p>
                    <a id="example"></a>
                </p>
                <h2>
                    Un Ejemplo
                </h2>
                <p>
                    Veamos un ejemplo. Un applet <code>TicTacToe</code> simple. Puede ver el código fuente de este applet 
                    descargando el paquete 'KDJ Demos and Samples' desde 
                    <a class="OutsideLink" target="_blank" 
                       href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java SE Downloads</a>. Esta demo 
                       contiene ficheros class, ficheros de audio, e imágenes que tienen esta estructura:
                </p>
                <div class="centrado">
                    <img src="../../figures/deployment/jar/ticTacToeJar.gif" width="254" height="98"
                         alt="Jerarquía de carpetas de TicTacToe" />
                </div>
                <p class="FigureCaption"></p>
                <div class="centrado">
                    <strong>Jerarquía de carpetas de TicTacToe</strong>
                </div>
                <p>
                    Los subdirectorios <code>audio</code> e <code>images</code> contienen ficheros de sonido e imágenes GIF usadas 
                    por el applet.
                </p>
                <p>
                    Puede obtener todos estos ficheros del directorio <i>jar/examples</i> cuando descarga el Tutorial en línea 
                    entero. Para empaquetar esta demo en un archivo JAR único nombrado <code>TicTacToe.jar</code>, ejecutaría este 
                    comando desde el directorio <code>TicTacToe</code>:
                </p>
                <div class="codeblock">
                    <pre>
jar cvf TicTacToe.jar TicTacToe.class audio images
                    </pre>
                </div>
                <p>
                    Los argumentos <code>audio</code> e <code>images</code> representan directorios, así que la herramienta Jar 
                    los colocará recursivamente a ellos y sus contenidos en el archivo JAR. El archivo JAR generado 
                    <code>TicTacToe.jar</code> será colocado en el directorio actual. Debido a que el comando usó la opción 
                    <code>v</code> para la salida verbosa, usted vería algo similar a esta salida cuando ejecute el comando:
                </p>
                <div class="codeblock">
                    <pre>
adding: TicTacToe.class (in=3825) (out=2222) (deflated 41%)
adding: audio/ (in=0) (out=0) (stored 0%)
adding: audio/beep.au (in=4032) (out=3572) (deflated 11%)
adding: audio/ding.au (in=2566) (out=2055) (deflated 19%)
adding: audio/return.au (in=6558) (out=4401) (deflated 32%)
adding: audio/yahoo1.au (in=7834) (out=6985) (deflated 10%)
adding: audio/yahoo2.au (in=7463) (out=4607) (deflated 38%)
adding: images/ (in=0) (out=0) (stored 0%)
adding: images/cross.gif (in=157) (out=160) (deflated -1%)
adding: images/not.gif (in=158) (out=161) (deflated -1%)
                    </pre>
                </div>
                <p>
                    Puede ver en esta salida que el archivo JAR <code>TicTacToe.jar</code> está comprimido. La herramienta Jar 
                    comprimer ficheros por defecto. Puede desactivar la característica de compresión usando la opción 
                    <code>0</code> (cero), de forma que el comando aparecerá como:
                </p>
                <div class="codeblock">
                    <pre>
jar cvf0 TicTacToe.jar TicTacToe.class audio images
                    </pre>
                </div>
                <p>
                    Es posible que desee evitar la compresión, por ejemplo, para incrementar la velocidad con la que un archivo JAR 
                    podría ser cargado por un navegador. Los archivos JAR no comprimidos generalmente pueden ser cargados más 
                    rápidamente que los ficheros comprimidos porque la necesidad de descomprimir los ficheros durante la carga es 
                    eliminada. Sin embargo, existe una compensación en que el tiempo de descarga en una red puede ser más largo 
                    para archivos más grandes y sin comprimir.
                </p>
                <p>
                    La herramienta Jar aceptará argumentos que usen el símbolo comodín <code>*</code>. Mientras no haya archivos no 
                    deseados en el directorio <code>TicTacToe</code>, usted podría haber usado este comando alternativo para 
                    construir el archivo JAR:
                </p>
                <div class="codeblock">
                    <pre>
jar cvf TicTacToe.jar *
                    </pre>
                </div>
                <p>
                    Aunque la salida verbosa no lo indique, la herramienta Jar agrega automáticamente un fichero de manifiesto al 
                    archivo JAR con el nombre de ruta <code>META-INF/MANIFEST.MF</code>. Vea la sección 
                    <a class="TutorialLink" target="_top" href="manifestindex.html">Trabajando con los Ficheros de Manifiesto 
                        (Manifest): Lo Básico</a> para información sobre los ficheros de manifiesto.
                </p>
                <p>
                    En el ejemplo de arriba, los ficheros en el archivo retuvieron sus nombres de ruta relativos y estructura de 
                    directorios. La herramienta Jar ofrece la opción <code>-C</code> que puede usar para crear un archivo JAR en 
                    los cuales las rutas relativas de los ficheros archivados no son preservados. Se basa en la opción 
                    <code>-C</code> de TAR.
                </p>
                <p>
                    Como un ejemplo, suponga que usted quiso colocar ficheros de audio e imágenes gif usados por la demo TicTacToe 
                    en un archivo JAR, y que usted quiso que todos los ficheros estñen en el nivel superior, sin jerarquía de 
                    directorios. Puede lograr eso emitiendo este comando desde el directorio padre de los directorios 
                    <code>images</code> y <code>audio</code>:
                </p>
                <div class="codeblock">
                    <pre>
jar cf ImageAudio.jar -C images . -C audio .
                    </pre>
                </div>
                <p>
                    La parte <code>-C&nbsp;images</code> de este comando dirige a la herramienta Jar a ir al directorio 
                    <code>images</code>, y el <code>.</code> que sigue a <code>-C&nbsp;images</code> dirige a la herramienta Jar a 
                    archivar todo el contenido de ese directorio. La parte <code>-C&nbsp;audio&nbsp;.</code> del comando entonces 
                    hace los mismo con el directorio <code>audio</code>. El archivo JAR resultante tendrá esta tabla de contenidos:
                </p>
                <div class="codeblock">
                    <pre>
META-INF/MANIFEST.MF
cross.gif
not.gif
beep.au
ding.au
return.au
yahoo1.au
yahoo2.au
                    </pre>
                </div>
                <p>
                    Por el contrario, suponga que utiizó un comando que no empleó la opción <code>-C</code>:
                </p>
                <div class="codeblock">
                    <pre>
jar cf ImageAudio.jar images audio
                    </pre>
                </div>
                <p>
                    El archivo JAR resultante tendría esta tabla de contenidos:
                </p>
                <div class="codeblock">
                    <pre>
META-INF/MANIFEST.MF
images/cross.gif
images/not.gif
audio/beep.au
audio/ding.au
audio/return.au
audio/yahoo1.au
audio/yahoo2.au
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="basicsindex.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="view.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Usando Ficheros JAR: Lo Básico<br />
            <b>Página siguiente:</b> Viendo el Contenido de un Fichero JAR
        </div>
    </body>
</html> 
