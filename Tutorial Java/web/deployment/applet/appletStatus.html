<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        <title>
            Gestionando el Estado de la Inicialización Con Manejadores de Eventos  (Los Tutoriales de Java&trade; &gt; Implantación 
            &gt; Applets de Java)
        </title>
        <meta name="description"
              content="Este tutorial de implantación de Java describe el desarrollo e implantación de appplets, aplicaciones Java
              Web Star, aplicaciones ricas de Internet, y herramientas JAR relacionadas" />
        <meta name="keywords"
              content="java programming, learn java, java sample code, java applet, java web start, rich internet application,
              RIA, jar, plugin, plug-in" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Applets de Java</a></div>
                <div class="linkAHEAD"><a href="getStarted.html">Empezando Con los Applets</a></div>
                <div class="linkBHEAD"><a href="subclass.html">Definiendo una Subclase de un Applet</a></div>
                <div class="linkBHEAD"><a href="appletMethods.html">Métodos para las Etapas</a></div>
                <div class="linkBHEAD"><a href="lifeCycle.html">Ciclo de Vida de un Applet</a></div>
                <div class="linkBHEAD"><a href="appletExecutionEnv.html">Entorno de Ejecución de un Applet</a></div>
                <div class="linkBHEAD"><a href="developingApplet.html">Desarrollando un Applet</a></div>
                <div class="linkBHEAD"><a href="deployingApplet.html">Implantando un Applet</a></div>
                <div class="linkCHEAD"><a href="html.html">Implantando Con la Etiqueta Applet</a></div>
                <div class="linkAHEAD"><a href="doingMoreWithApplets.html">Haciendo Más Con Applets</a></div>
                <div class="linkBHEAD"><a href="data.html">Buscando y Cargando Ficheros de Datos</a></div>
                <div class="linkBHEAD"><a href="param.html">Definiendo y Usando Parámetros del Applet</a></div>
                <div class="linkBHEAD"><a href="showStatus.html">Visualizando Pequeñas Cadenas de Estado</a></div>
                <div class="linkBHEAD"><a href="browser.html">Visualizando Documentos en el Navegador</a></div>
                <div class="linkBHEAD"><a href="invokingJavaScriptFromApplet.html">Invocando Código JavaScript Desde un Applet</a></div>
                <div class="linkBHEAD"><a href="invokingAppletMethodsFromJavaScript.html">Invocando Métodos del Applet Desde Código JavaScript</a></div>
                <div class="nolinkBHEAD">Gestionando el Estado de la Inicialización Con Manejadores de Eventos</div>
                <div class="linkBHEAD"><a href="manipulatingDOMFromApplet.html">Manipulando el DOM de la Página Web del Applet</a></div>
                <div class="linkBHEAD"><a href="customProgressIndicatorForApplet.html">Visualizando un Indicador de Progreso de Carga Personalizado</a></div>
                <div class="linkBHEAD"><a href="stdout.html">Escribiendo Diágnosticos a los Flujos de la Salida Estándar y Error</a></div>
                <div class="linkBHEAD"><a href="draggableApplet.html">Desarrollando Applets Arrastrables</a></div>
                <div class="linkBHEAD"><a href="iac.html">Comunicando Con Otros Applets</a></div>
                <div class="linkBHEAD"><a href="server.html">Trabajando Con Aplicación del Lado del Servidor</a></div>
                <div class="linkCHEAD"><a href="clientExample.html">Ejemplo de Applet de Cliente de Red</a></div>
                <div class="linkBHEAD"><a href="security.html">Qué Pueden Hacer los Applets y Qué No</a></div>
                <div class="linkAHEAD"><a href="problemsindex.html">Resolviendo Problemas Comunes de los Applets</a></div>
                <div class="linkQUESTIONS"><a href="QandE/questions.html">Preguntas y Ejercicios</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Implantación<br />
                <b>Lección:</b> Applets de Java<br />
                <b>Sección:</b> Haciendo Más Con Applets
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Implantación</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Applets de Java</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="invokingAppletMethodsFromJavaScript.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="manipulatingDOMFromApplet.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Gestionando el Estado de la Inicialización Con Manejadores de Eventos </h1>
            </div>
            <div id="PageContent">
                <p>
                    Un applet no puede manejar peticiones del código JavaScirpt en la página web hasta que el applet ha sido
                    inicializado. Una llamada a un método de un applet o acceder a la variables de un applet desde código de
                    JavaScript será bloqueada hasta que el método <code>init()</code> del applet se complete o el applet invoque
                    primero código de JavaScript desde la página web en al cual está desplegado. Como la implementación de
                    JavaScript es de un único hilo en muchos navegadores, la página web puede parecer que está congelada durante
                    el arranque del applet.
                </p>
                <p>
                    A partir del lanzamiento de la versión del KDJ 7, puede comprobar la variable<code>status</code> del applet
                    mientras se está cargando para determinar si el applet está listo para manejar las peticiones desde el código
                    de JavaScript. Puede también registrar manejadores de eventos que serán automáticamente invocados durante
                    varias etapas de la inicialización del applet. Para aprovechar esta funcionalidad, el applet debe ser
                    desplegado con el parámetro <code>java_status_events</code> establecido en <code>&quot;true&quot;</code>.
                </p>
                <p>
                    En el ejemplo Estado y Manejador de Eventos, el código de JavaScript registra un manejador <code>onLoad</code>
                    con el applet. El manejador <code>onLoad</code> es invocado automáticamente por el software del Complemento de
                    Java cuando el appplet ha sido inicializado. El manejador <code>onLoad</code> invoca otros métodos del applet
                    para dibujar el gráfico en la página web. El método <code>init</code> de la clase
                    <a class="SourceLink" target="_blank" 
                       href="examples/applet_StatusAndCallback/src/DrawingApplet.java"
                       onclick="showCode('../../displayCode.html',
                                   'examples/applet_StatusAndCallback/src/DrawingApplet.java'); return false;">
                        <code>DrawingApplet</code></a> duerme por dos segundos para simular un largo período de inicialización del
                    applet.
                </p>
                <p>
                    Los pasos siguientes describen cómo registrar manejadores de eventos y comprobar el estado de un applet. Vea
                    <a class="OutsideLink" target="_blank" 
                       href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/applet_dev_guide.html#JSDPG719">Estado
                        del Applet y Manejadores de Eventos</a> para una lista completa de valores de estados del applet y eventos
                    del applet para los cuales se pueden registrar manejadores de eventos.
                </p>
                <ol>
                    <li>
                        Cree una función JavaScript para registrar manejadores de eventos. El trozo de código siguiente muestra la
                        función <code>registerAppletStateHandler</code> que registra un manejador de eventos <code>onLoad</code> si
                        el applet no ha sido cargado aún.
                        <div class="codeblock">
                            <pre>
&lt;script&gt;
&lt;!-- ... --&gt;
    var READY = 2;
    function <b>registerAppletStateHandler()</b> {
        // registra un manejador onLoad si el applet no
        // se ha cargado aun
        if (drawApplet.status &lt; READY)  {                 
            drawApplet.onLoad = onLoadHandler;
        } else if (drawApplet.status >= READY) {
            // el aapplet ha sido cargado o hubo
            // un error
            document.getElementById("mydiv").innerHTML = 
              "El manejador de eventos del Applet no se registró porque el estado del applet es: "
               + drawApplet.status;    
        }
    }
    
    function <b>onLoadHandler()</b> {
        // manejador de eventos para el estado listo
        document.getElementById("mydiv").innerHTML =
            "El Applet se ha cargado";
        draw();
    }
&lt;!-- ... --&gt;
&lt;/script&gt;        
                            </pre>
                        </div>
                    </li>
                    <li>
                        Invoque la función <code>registerAppletStateHandler</code> creada previamente en el método onloaa de la
                        etiqueta <code>body</code>. Esto asegura que la etiqueta HTML para el applet ha sido creada en el árbol del
                        Modelo de Objetos del Documento (DOM= de la página web antes de que los manejadores de eventos del applet
                        sean registrados.
                        <div class="codeblock">
                            <pre>
&lt;body onload="registerAppletStateHandler()"&gt;
                            </pre>
                        </div>
                    </li>
                    <li>
                        Desplegar el applet con el parámetro <code>java_status_events</code> establecido en
                        <code>&quot;true&quot;</code>.
                        <div class="codeblock">
                            <pre>
&lt;script src=
  "https://www.java.com/js/deployJava.js"&gt;&lt;/script&gt;
&lt;script&gt;
    // se establece el el parámetro java_status_events a true
    var attributes = { id:'drawApplet',
        code:'DrawingApplet.class',
        archive: 'applet_StatusAndCallback.jar',
        width:600, height:400} ;
    var parameters = {<b>java_status_events: 'true'</b>, permissions:'sandbox' } ;
    deployJava.runApplet(attributes, parameters, '1.7');
&lt;/script&gt;
                            </pre>
                        </div>
                    </li>
                </ol>
                <p>
                    Abra
                    <a class="SourceLink" target="_blank" 
                       href="examples/dist/applet_StatusAndCallback/AppletPage.html"
                       onclick="showCode('../../displayCode.html',
                           'examples/dist/applet_StatusAndCallback/AppletPage.html'); return false;">
                        <code>AppletPage.html</code></a> en un navegador para vier el comportamiento de los manejadores de evento
                    del applet. En la página
                    <a class="SourceLink" target="_blank"
                       href="examples/dist/applet_StatusAndCallback/AppletPageUpdatedDuringLoading.html"
                       onclick="showCode('../../displayCode.html',
                           'examples/dist/applet_StatusAndCallback/AppletPageUpdatedDuringLoading.html'); return false;">
                        <code>AppletPageUpdatedDuringLoading.html</code></a>, la variable <code>status</code> del applet es
                    comprobada para determinar si el applet ha sido cargado. Basado en el estado, la página web es
                    continuamente actualizada mientras el applet está siendo cargado.
                </p>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong> &nbsp;Si no ve el applet ejecutarse, necesita instalar al menos la versión
                    <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java SE Development Kit (KDJ) 7</a>
                    .
                    <hr />
                </div>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong> &nbsp;Si no ve el ejemplo ejecutándose, podría necesitar habilitar el intérprete de
                    JavaScript en su navegador de forma que el script de las Herramientas de Despliegue pueda funcionar
                    adecuadamente.
                    <hr />
                </div>
                <p>
                    <a class="TutorialLink" target="_top" href="examplesIndex.html#StatusEventHandler">Descarge el código fuente</a>
                    para el ejemplo <em>Status and Event Handler</em> para experimentar más.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="invokingAppletMethodsFromJavaScript.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="manipulatingDOMFromApplet.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos
                            <a href="../../information/cpyr.html">avisos legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente <a target="_blank" href="../../information/run-examples.html">
                                Compilando y Ejecutando los Ejemplos: PFs</a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias?
                            <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Invoking Applet Methods From JavaScript Code<br />
            <b>Página siguiente:</b> Manipulating DOM of Applet's Web Page
        </div>
    </body>
</html> 
