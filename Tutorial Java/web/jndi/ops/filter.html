<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Filtros (Los Tutoriales de Java&trade; &gt; Nombrado en Java e Interfaz de Directorio &gt; Operaciones de Nombrado y
            Directorio)
        </title>
        <meta name="description" content="Este tutorial de Java JNDI describe la tecnología de Nombrado en Java e Interfaz de 
              Directorio (JNDI), operaciones de nombre y directorio, y LDAP" />
        <meta name="keywords" content="java programming, learn java, java sample code, jndi, ldap, jndi service provider" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Operaciones de Nombrado y Directorio</a></div>
                <div class="linkAHEAD"><a href="exception.html">Excepciones de Nombrado</a></div>
                <div class="linkAHEAD"><a href="lookup.html">Buscando un Objeto</a></div>
                <div class="linkAHEAD"><a href="list.html">Listar el Contexto</a></div>
                <div class="linkAHEAD"><a href="bind.html">Añadir, reemplazar o eliminar un vínculo (Binding)</a></div>
                <div class="linkAHEAD"><a href="rename.html">Renombrar</a></div>
                <div class="linkAHEAD"><a href="create.html">Crear y Destruir Subcontextos</a></div>
                <div class="linkAHEAD"><a href="attrnames.html">Nombres de Atributos</a></div>
                <div class="linkAHEAD"><a href="getattrs.html">Leer Atributos</a></div>
                <div class="linkAHEAD"><a href="modattrs.html">Modificar Atributos</a></div>
                <div class="linkAHEAD"><a href="bindattr.html">Añadir y Reemplazar Vínculos con Atributos</a></div>
                <div class="linkAHEAD"><a href="search.html">Búsqueda</a></div>
                <div class="linkBHEAD"><a href="basicsearch.html">Búsqueda Básica</a></div>
                <div class="nolinkBHEAD">Filtros</div>
                <div class="linkBHEAD"><a href="scope.html">Alcance</a></div>
                <div class="linkBHEAD"><a href="countlimit.html">Recuento de Resultados</a></div>
                <div class="linkBHEAD"><a href="timelimit.html">Límite de Tiempo</a></div>
                <div class="linkAHEAD"><a href="faq.html">Consejos para Solucionar Problemas</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Nombrado en Java e Interfaz de Directorio<br />
                <b>Lección:</b> Operaciones de Nombrado y Directorio<br />
                <b>Sección:</b> Búsqueda
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Nombrado en Java e Interfaz de Directorio</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Operaciones de Nombrado y Directorio</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="basicsearch.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="scope.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Filtros</h1>
            </div>
            <div id="PageContent">
                <p>
                    Además de especificar una búsqueda usando un conjunto de atributos, puede especificar una búsqueda en la forma 
                    de un <em>filtro de búsqueda</em>. Un filtro de búsqueda es una consulta de búsqueda expresada en la forma de 
                    una expresión lógica. La sintaxis de los filtros de búsqueda aceptados por 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/javax/naming/directory/DirContext.html#search-javax.naming.Name-java.lang.String-javax.naming.directory.SearchControls-">
                        <code>DirContext.search()</code></a> se describen en el 
                    <a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2254.txt">RFC 2254</a>.
                </p>
                <p>
                    El filtro de búsqueda siguiente especifica que las entradas calificadas deben tener un atributo 
                    <code>&quot;sn&quot;</code> con un valor de <code>&quot;Geisel&quot;</code> y un atributo 
                    <code>&quot;mail&quot;</code> con cualquier valor:
                </p>
                <div class="codeblock">
                    <pre>
(&amp;(sn=Geisel)(mail=*))
                    </pre>
                </div>
                <p>
                    El código siguiente crea un filtro y 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/javax/naming/directory/SearchControls.html">
                        <code>SearchControls</code></a> predeterminados, y los usa para realizar una búsqueda. La búsqueda es 
                    equivalente a la que se presentó en el ejemplo de la 
                    <a class="TutorialLink" target="_top" href="basicsearch.html">Búsqueda Básica</a>.
                </p>
                <div class="codeblock">
                    <pre>
// Create the default search controls
SearchControls ctls = new SearchControls();

// Specify the search filter to match
// Ask for objects that have the attribute "sn" == "Geisel"
// and the "mail" attribute
String filter = "(&amp;(sn=Geisel)(mail=*))";

// Search for objects using the filter
NamingEnumeration answer = ctx.search("ou=People", filter, ctls);
                    </pre>
                </div>
                <p>
                    Ejecutar 
                    <a class="SourceLink" target="_blank" href="examples/SearchWithFilterRetAll.java"
                       onclick="showCode('../../displayCode.html', 'examples/SearchWithFilterRetAll.java'); return false;">
                        <code>este ejemplo</code></a> produce el siguiente resultado.
                </p>
                <div class="codeblock">
                    <pre>
# java SearchWithFilterRetAll
&gt;&gt;&gt;cn=Ted Geisel
attribute: sn
value: Geisel
attribute: objectclass
value: top
value: person
value: organizationalPerson
value: inetOrgPerson
attribute: jpegphoto
value: [B@1dacd75e
attribute: mail
value: Ted.Geisel@JNDITutorial.example.com
attribute: facsimiletelephonenumber
value: +1 408 555 2329
attribute: cn
value: Ted Geisel
attribute: telephonenumber
value: +1 408 555 5252
                    </pre>
                </div>
                <h2>
                    Descripción General Rápida de la Sintaxis del Filtro de Búsqueda
                </h2>
                <p>
                    La sintaxis del filtro de búsqueda es básicamente una expresión lógica en notación de prefijo (esto es, el 
                    operador lógico aparece antes que sus argumentos). La tabla siguiente lista los símbolos utilizados para crear 
                    los filtros.
                </p>
                <table class="celda" style="width:85%">
                    <caption>Símbolos usados para crear filtros</caption>
                    <tr>
                        <th id="h1" class="celda" style="padding: 3px;width:30%">Símbolo</th>
                        <th id="h2" class="celda" style="padding: 3px;">Descripción</th>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">&amp;</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            conjunción (p.e., <em>and</em> -- todo en la lista debe ser cierto)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">|</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            disyunción (p.e., <em>or</em> -- una o más opciones deben ser verdaderas)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">!</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            negación (p.e., <em>not</em> -- el elemento que se niega no debe ser verdadero)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">=</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            igualdad (según la regla de coincidencia del atributo)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">~=</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            igualdad aproximada (según la regla de coincidencia del atributo)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">&gt;=</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            mayor que (según la regla de coincidencia del atributo)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">&lt;=</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            menor que (según la regla de coincidencia del atributo)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">=*</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            presencia (p.e., la entrada debe tener el atributo pero su valor es irrelevante)
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">*</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            comodín (indica que cero o más caracteres pueden ocurrir en esa posición); se utiliza al especificar 
                            valores de atributo para que coincidan
                        </td>
                    </tr>
                    <tr>
                        <td headers="h1" class="celda" style="padding: 3px;">\</td>
                        <td headers="h2" class="celda" style="padding: 3px;">
                            escape (para escapar &#39;*&#39;, &#39;(&#39;, o &#39;)&#39; cuando ocurren dentro de un valor de 
                            atributo
                        </td>
                    </tr>
                </table>
                <p>
                    Cada elemento en el filtro está compuesto usando un identificador de atributo y un valor de atributo o símbolos 
                    que denotan el valor del atributo. Por ejemplo, el elemento <code>&quot;sn=Geisel&quot;</code> significa que el 
                    atributo <code>&quot;sn&quot;</code> debe tener el valor de atributo <code>&quot;Geisel&quot;</code> y el 
                    elemento <code>&quot;mail=*&quot;</code> indica que el atributo <code>&quot;mail&quot;</code> debe estar 
                    presente.
                </p>
                <p>
                    Cada elemento debe estar encerrado dentro de un conjunto de paréntesis, como en 
                    <code>&quot;(sn=Geisel)&quot;</code>. Estos elementos están compuestos usando operadores lógicos como 
                    &quot;&amp;&quot; (conjunción) para crear expresiones lógicas, como en 
                    <code>&quot;(&amp; (sn=Geisel) (mail=*))&quot;</code>.
                </p>
                <p>
                    Cada expresión lógica puede estar compuesta además por otros elementos que en sí mismos son expresiones lógicas, 
                    como en <code>&quot;(| (&amp; (sn=Geisel) (mail=*)) (sn=L*))&quot;</code>. Este último ejemplo está pidiendo 
                    o entradas que tengan tanto un atributo <code>&quot;sn&quot;</code> de <code>&quot;Geisel&quot;</code> y el 
                    atributo <code>&quot;mail&quot;</code> o entradas cuyo atributo <code>&quot;sn&quot;</code> empiece con la 
                    letra &quot;L&quot;.
                </p>
                <p>
                    Para una descripción completa de esta sintaxis, vea el 
                    <a class="OutsideLink" target="_blank" href="http://ietf.org/rfc/rfc2254.txt">RFC 2254</a>.
                </p>
                <h2>
                    <a id="SELECT">Devolver Atributos Seleccionados</a>
                </h2>
                <p>
                    El ejemplo anterior devolvía todos los atributos asociados con las entradas que satisfacían el filtro 
                    especificado. Puede seleccionar los atributos a devolver estableciendo el argumento de controles de búsqueda. 
                    Puede crear una matriz de identificadores de atributo que quiera incluir en el resultado y pasárselo a 
                    <a class="APILink" target="_blank"
                       href="https://docs.oracle.com/javase/8/docs/api/javax/naming/directory/SearchControls.html#setReturningAttributes-java.lang.String:A-">
                        <code>SearchControls.setReturningAttributes()</code></a>. Aquí tiene un ejemplo.
                </p>
                <div class="codeblock">
                    <pre>
// Specify the ids of the attributes to return
String[] attrIDs = {"sn", "telephonenumber", "golfhandicap", "mail"};
SearchControls ctls = new SearchControls();
ctls.setReturningAttributes(attrIDs);
                    </pre>
                </div>
                <p>
                    Este ejemplo es equivalente al ejemplo de 
                    <a class="TutorialLink" target="_top" 
                       href="basicsearch.html#SELECT">Devolver Atributos Seleccionados</a> en la sección Búsqueda Básica.
                    Ejecutar 
                    <a class="SourceLink" target="_blank" 
                       href="examples/SearchWithFilter.java"
                       onclick="showCode('../../displayCode.html', 'examples/SearchWithFilter.java'); return false;">
                        <code>este ejemplo</code></a> produce los siguientes resultados. (La entrada no tiene un atributo 
                    <code>&quot;golfhandicap&quot;</code>, por lo que no se devuelve).
                </p>
                <div class="codeblock">
                    <pre>
# java SearchWithFilter
&gt;&gt;&gt;cn=Ted Geisel
attribute: sn
value: Geisel
attribute: mail
value: Ted.Geisel@JNDITutorial.example.com
attribute: telephonenumber
value: +1 408 555 5252
                    </pre>
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="basicsearch.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="scope.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Búsqueda Básica<br />
            <b>Página siguiente:</b> Alcance
        </div>
    </body>
</html> 
