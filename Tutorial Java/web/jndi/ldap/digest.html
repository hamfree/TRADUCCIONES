<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Digest-MD5 (Los Tutoriales de Java&trade; &gt; Nombrado en Java e Interfaz de Directorio &gt; 
            Temas Avanzados para los Usuarios LDAP)
        </title>
        <meta name="description" content="Este tutorial de Java JNDI describe la tecnología de Nombrado en Java e Interfaz de 
              Directorio (JNDI), operaciones de nombre y directorio, y LDAP" />
        <meta name="keywords" content="java programming, learn java, java sample code, jndi, ldap, jndi service provider" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Temas Avanzados para los Usuarios LDAP</a></div>
                <div class="linkAHEAD"><a href="ldap.html">LDAP v3</a></div>
                <div class="linkAHEAD"><a href="jndi.html">JNDI como una IPA de LDAP</a></div>
                <div class="linkBHEAD"><a href="operations.html">Cómo las Operaciones LDAP se Mapean a las IPAs de JNDI</a></div>
                <div class="linkBHEAD"><a href="exceptions.html">Cómo los Códigos de Error LDAP se Mapean a las Excepciones de JNDI</a></div>
                <div class="linkAHEAD"><a href="security.html">Seguridad</a></div>
                <div class="linkBHEAD"><a href="authentication.html">Modos de Autenticación en LDAP</a></div>
                <div class="linkBHEAD"><a href="auth_mechs.html">Mecanismos de Autenticación</a></div>
                <div class="linkBHEAD"><a href="anonymous.html">Anónimo</a></div>
                <div class="linkBHEAD"><a href="simple.html">Simple</a></div>
                <div class="linkBHEAD"><a href="sasl.html">SASL</a></div>
                <div class="nolinkBHEAD">Digest-MD5</div>
                <div class="linkBHEAD"><a href="ssl.html">SSL y Sockets Personalizados</a></div>
                <div class="linkAHEAD"><a href="rename.html">Más Operaciones LDAP</a></div>
                <div class="linkBHEAD"><a href="compare.html">Comparación LDAP</a></div>
                <div class="linkBHEAD"><a href="result.html">Resultados de la Búsqueda</a></div>
                <div class="linkBHEAD"><a href="unsol.html"> Notificaciones no Solicitadas de LDAP</a></div>
                <div class="linkAHEAD"><a href="connect.html">Gestión de Conexiones</a></div>
                <div class="linkBHEAD"><a href="create.html">Creación</a></div>
                <div class="linkBHEAD"><a href="close.html"> Cierre</a></div>
                <div class="linkBHEAD"><a href="pool.html">Agrupación (Pooling)</a></div>
                <div class="linkBHEAD"><a href="config.html">Configuración</a></div>
                <div class="linkAHEAD"><a href="faq.html">Preguntas Frecuentes</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> Nombrado en Java e Interfaz de Directorio<br />
                <b>Lección:</b> Temas Avanzados para los Usuarios LDAP<br />
                <b>Sección:</b> Seguridad
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">Nombrado en Java e Interfaz de Directorio</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Temas Avanzados para los Usuarios LDAP</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="sasl.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="ssl.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Digest-MD5</h1>
            </div>
            <div id="PageContent">
                <p>
                    La <em>autenticación Digest-MD5</em> es el mecanismo de autenticación requerido por los servidores LDAP v3 
                    (<a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2829.txt">RFC 2829</a>). Debido a que 
                    el uso de SASL es parte de LDAP v3 
                    (<a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2251.txt">RFC 2251</a>), los servidores 
                    que admiten sólo LDAP v2 no admiten Digest-MD5.
                </p>
                <p>
                    El mecanismo Digest-MD5 se describe en 
                    <a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2831.txt">RFC 2831</a>. Se basa en la 
                    Autenticación Digest de HTTP 
                    (<a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2251.txt">RFC 2251</a>). En 
                    Digest-MD5, el servidor LDAP envía datos que incluyen varias opciones de autenticación que está dispuesto a 
                    admitir más un token especial al cliente LDAP. El cliente responde enviando una respuesta cifrada que indica 
                    las opciones de autenticación que ha seleccionado. La respuesta está cifrada de forma que prueba que el cliente 
                    conoce su contraseña. El servidor LDAP después descifra y verifica la respuesta del cliente.
                </p>
                <p>
                    Para usar el mecanismo de autenticación Digest-MD5, debe establecer las propiedades de entorno de autenticación 
                    como sigue.
                </p>
                <dl>
                    <dt>
                        <a class="APILink" target="_blank" 
                           href="https://docs.oracle.com/javase/8/docs/api/javax/naming/Context.html#SECURITY_AUTHENTICATION">
                            <code>Context.SECURITY_AUTHENTICATION</code></a>.
                    </dt>
                    <dd>
                        Establecida a la cadena <code>&quot;DIGEST-MD5&quot;</code>.
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <a class="APILink" target="_blank" 
                           href="https://docs.oracle.com/javase/8/docs/api/javax/naming/Context.html#SECURITY_PRINCIPAL">
                            <code>Context.SECURITY_PRINCIPAL</code></a>.
                    </dt>
                    <dd>
                        Establecida al nombre principal. Este es un formato específico del servidor. Algunos servidores admiten un 
                        formato de id de usuario de conexión, como esos definidos en las pantallas de conexión de UNIX o Windows. 
                        Otros aceptan un nombre distinguido. Incluso otros usan los formatos de id de autorización definidos en 
                        <a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2829.txt">RFC 2829</a>. En ese RFC, 
                        el nombre debería ser o la cadena <code>&quot;dn:&quot;</code>, seguida por el DN completamente 
                        cualificado de la entidad a autenticar, o la cadena <code>&quot;u:&quot;</code>, seguida por el id de 
                        usuario. Algunos servidores aceptan múltiples formatos. Ejemplos de algunos de estos formatos son 
                        <code>&quot;cuser&quot;</code>, <code>&quot;dn: cn=C. User, ou=NewHires, o=JNDITutorial&quot;</code>, y 
                        <code>&quot;u: cuser&quot;</code> El tipo de datos de esta propiedad debe ser 
                        <code>java.lang.String</code>.
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <a class="APILink" target="_blank" 
                           href="https://docs.oracle.com/javase/8/docs/api/javax/naming/Context.html#SECURITY_CREDENTIALS">
                            <code>Context.SECURITY_CREDENTIALS</code></a>.
                    </dt>
                    <dd>
                        Establecida a la contraseña del principal (e.g., <code>&quot;mysecret&quot;</code>). Es del tipo 
                        <code>java.lang.String</code>, matriz de <code>char</code> (<code>char[]</code>), o matriz de 
                        <code>byte</code> (<code>byte[]</code>). Si la contraseña es una <code>java.lang.String</code> o 
                        <code>char[]</code>, entonces se codifica usando UTF-8 para la transmisión al servidor. Si la contraseña 
                        está en una <code>byte[]</code>, entonces se transmite tal cual al servidor.
                    </dd>
                </dl>
                <p>
                    El 
                    <a class="SourceLink" target="_blank" href="examples/Digest.java" 
                       onclick="showCode('../../displayCode.html', 'examples/Digest.java'); return false;">
                        <code>ejemplo siguiente</code></a> muestra cómo un cliente realiza la autenticación usando Digest-MD5 a un 
                    servidor LDAP.
                </p>
                <div class="codeblock">
                    <pre>
// Set up the environment for creating the initial context
Hashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://localhost:389/o=JNDITutorial");

// Authenticate as C. User and password "mysecret"
env.put(Context.SECURITY_AUTHENTICATION, "DIGEST-MD5");
env.put(Context.SECURITY_PRINCIPAL, 
        "dn:cn=C. User, ou=NewHires, o=JNDITutorial");
env.put(Context.SECURITY_CREDENTIALS, "mysecret");

// Create the initial context
DirContext ctx = new InitialDirContext(env);

// ... do something useful with ctx
                    </pre>
                </div>
                <div class="note">
                    <hr />
                    <strong>Nota:</strong>&nbsp;El 
                    <a class="OutsideLink" target="_blank" 
                       href="http://www.oracle.com/technetwork/testcontent/index-085178.html">Servidor Directorio de Oracle, 
                        v5.2</a> soporta el mecanismo de autenticación Digest-MD5 par usuarios que tengan contraseñas en texto 
                    claro. Debe establecer el modo de cifrado de la contraseña <em>antes</em> de crear el usuario. Si ya ha 
                    creado el usuario, elimínelo y recréelo. Para establecer el modo de cifrado de la contraseña, usando la 
                    Consola de Administración, seleccione la pestaña de Configuración y el nodo Datos. En el panel de 
                    Contraseñas, seleccione la opción &quot;Sin cifrado (EN CLARO)&quot; para 
                    &quot;Cifrado de Contraseña&quot;. El servidor acepta nombres de usuario simples (esto es, el valor del 
                    atributo <code>&quot;uid&quot;</code> para entradas que tengan una) y el formato &quot;dn:&quot; de los 
                    nombres de usuario. Vea la documentación del servidor para información detallada.
                    <hr />
                </div>
                <h2>
                    Especificar el Reino
                </h2>
                <p>
                    Un <em>reino</em> define el espacio de nombres desde el cual la entidad de autenticación (el valor de la 
                    propiedad <code>Context.SECURITY_PRINCIPAL</code>) se selecciona. Un servidor podría tener múltiples reinos. 
                    Por ejemplo, un servidor en una universidad podría estar configurado para tener dos reinos, uno para sus 
                    usuarios estudiantes y otros para usuarios de la facultad. La configuración del reino la realiza el 
                    administrador del directorio. Algunos directorios tienen un único reino predeterminado. Por ejemplo, el Servidor 
                    de Directorio de Oracle, v5.2 usa el nombre completamente cualificado del nombre del host de la máquina como el 
                    reino predeterminado.
                </p>
                <p>
                    En la autenticación Digest-MD5, debe autentificarse en un reino específico. Puede usar la siguiente propiedad 
                    de entorno de autentificación para especificar el reino. Si no especifica un reino, entonces se usará 
                    cualquiera de los reinos ofrecidos por el servidor.
                </p>
                <dl>
                    <dt>
                        <code>java.naming.security.sasl.realm</code>
                    </dt>
                    <dd>
                        Establecido al reino del principal. Esta es una cadena sensible a mayúsculas y minúsculas específica del 
                        despliegue y/o específica del servidor. Identifica el reino o dominio del cual el nombre principal 
                        (<code>Context.SECURITY_PRINCIPAL</code>) sería elegido. Si este dominio no coincide con uno de los 
                        dominios ofrecidos por el servidor, la autenticación falla.
                    </dd>
                </dl>
                <p>
                    El 
                    <a class="SourceLink" target="_blank" 
                       href="examples/DigestRealm.java" 
                       onclick="showCode('../../displayCode.html', 'examples/DigestRealm.java'); return false;">
                        <code>ejemplo siguiente</code></a> muestra cómo establecer las propiedades de entorno para realizar una 
                    autenticación usando Digest-MD5 y un reino especificado. Para hacer este ejemplo funcionar en su entorno, 
                    debe cambiar el código fuente de forma que el valor del reino refleje lo que ha sido configurado en su 
                    servidor de directorio.
                </p>
                <div class="codeblock">
                    <pre>
// Authenticate as C. User and password "mysecret" in realm "JNDITutorial"
env.put(Context.SECURITY_AUTHENTICATION, "DIGEST-MD5");
env.put(Context.SECURITY_PRINCIPAL, 
        "dn:cn=C. User, ou=NewHires, o=JNDITutorial");
env.put(Context.SECURITY_CREDENTIALS, "mysecret");
env.put("java.naming.security.sasl.realm", "JNDITutorial");
                    </pre>
                </div>
                <p>
                    Si necesita usar 
                    <a class="OutsideLink" target="_blank"
                       href="https://docs.oracle.com/javase/jndi/tutorial/ldap/security/digest.html">protección de la privacidad</a> 
                    y otras propiedades SASL, estas se describen en el Tutorial JNDI.
                </p>
            </div>
            <div class="NavBit">
                <a target="_top" href="sasl.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="ssl.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> SASL<br />
            <b>Página siguiente:</b> SSL y Sockets Personalizados
        </div>
    </body>
</html> 
