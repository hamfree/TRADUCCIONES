<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            Propiedades (Los Tutoriales de Java&trade; &gt; JavaBeans(TM) &gt; Escribiendo Componentes JavaBeans)
        </title>
        <meta name="description" content="Este tutorial de Java JavaBean describe el uso de la IPA de JavaBeans para desarrollar 
              componentes JavaBean" />
        <meta name="keywords" content="java programming, learn java, java sample code, javabean, bean persistence, 
              java introspection, beancontext" />
        <link rel="stylesheet" href="../../indice.css" type="text/css"/>
        <script src="../../navegacion.js"></script>
    </head>
    <body onload="load()">
        <noscript>Se requiere un navegador con JavaScript habilitado para que esta página opere apropiadamente.</noscript>
        <div class="header-container">
            <div class="bookwrapper clearfix">
                <div id="brandProdName">
                    <div id="logocover"></div>
                    <div id="productName">Documentación</div>
                </div>
                <br class="clearfloat" />
            </div>
        </div>
        <div id="TopBar">
            <div id="TopBar_tr">
                <div id="TopBar_tl">
                    <div id="TopBar_br">
                        <div id="TopBar_bl">
                            <div id="TopBar_left">Los Tutoriales de Java&trade;</div>
                            <div id="TopBar_right">
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">
                                    Descargar Libros Electrónicos</a><br />
                                <a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
                                    Descargar KDJ</a><br />
                                <a href="javascript:toggleLeft()" id="ToggleLeft">
                                    Ocultar TdC</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="LeftBar" class="LeftBar_shown">
            <div id="Contents">
                <div class="linkLESSON"><a href="index.html">Escribiendo Componentes JavaBeans</a></div>
                <div class="nolinkAHEAD">Propiedades</div>
                <div class="linkAHEAD"><a href="methods.html">Métodos</a></div>
                <div class="linkAHEAD"><a href="events.html">Eventos</a></div>
                <div class="linkAHEAD"><a href="beaninfo.html">Usando un BeanInfo</a></div>
            </div>
        </div>
        <div id="MainFlow" class="MainFlow_indented">
            <div class="PrintHeaders">
                <b>Recorrido:</b> JavaBeans(TM)<br />
                <b>Lección:</b> Escribiendo Componentes JavaBeans
            </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Página de Inicio</a>&nbsp;&gt;&nbsp;
                <a href="../index.html" target="_top">JavaBeans(TM)</a>&nbsp;&gt;&nbsp;
                <a href="index.html" target="_top">Escribiendo Componentes JavaBeans</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="methods.html">Siguiente&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle">
                <h1>Propiedades</h1>
            </div>
            <div id="PageContent">
                <p>
                    Para definir una propiedad en una clase bean, proporcione métodos getter y setter públicos. Por ejemplo, los 
                    métodos siguientes definen una propiedad <code>int</code> llamada <code>mouthWidth</code>:
                </p>
                <div class="codeblock">
                    <pre>
public class FaceBean {
    private int mMouthWidth = 90;

    public int getMouthWidth() {
        return mMouthWidth;
    }
    
    public void setMouthWidth(int mw) {
        mMouthWidth = mw;
    }
}
                    </pre>
                </div>
                <p>
                    Una herramienta constructora como NetBeans reconoce los nombres de los métodos y muestra la propiedad 
                    <code>mouthWidth</code> en su lista de propiedades. También reconoce el tipo, <code>int</code>, y proporciona 
                    un editor apropiado de forma que la propiedad pueda ser manipulada en tiempo de diseño.
                </p>
                <p>
                    Este ejemplo muestra una propiedad que puede ser leída y escrita. Otras combinaciones son también posibles. 
                    Una propiedad de sólo lectura, por ejemplo, tiene un método getter pero no setter. Una propiedad de sólo 
                    escritura tiene sólo un método setter.
                </p>
                <p>
                    Un caso especial para las propiedades <code>boolean</code> permite al método accesor ser definido usando 
                    <code>is</code> en vez de <code>get</code>. Por ejemplo, el accesor para una propiedad <code>boolean</code> 
                    <code>running</code> podría ser como sigue:
                </p>
                <div class="codeblock">
                    <pre>
public boolean isRunning() {
    // ...
}
                    </pre>
                </div>
                <p>
                    Varias especializaciones de propiedades básicas están disponibles y se describen en las secciones siguientes.
                </p>
                <h2>
                    Propiedades Indexadas
                </h2>
                <p>
                    Una propiedad <i>indexada</i> es un vector en vez de un valor único. En este caso, la clase bean proporciona un 
                    método para obtener y establecer un vector entero. Aquí tiene un ejemplo para una propiedad <code>int[]</code> 
                    llamada <code>testGrades</code>:
                </p>
                <div class="codeblock">
                    <pre>
public int[] getTestGrades() {
    return mTestGrades;
}

public void setTestGrades(int[] tg) {
    mTestGrades = tg;
}
                    </pre>
                </div>
                <p>
                    Para las propiedades indexadas, la clase bean también proporciona métodos para obtener y establecer un elemento 
                    específico del vector.
                </p>
                <div class="codeblock">
                    <pre>
public int getTestGrades(int index) {
    return mTestGrades[index];
}

public void setTestGrades(int index, int grade) {
    mTestGrades[index] = grade;
}
                    </pre>
                </div>
                <h2>
                    <a id="bound">Propiedades Enlazadas</a>
                </h2>
                <p>
                    Una propiedad <i>enlazada</i> notifica a los listeners cuando su valor cambia. Esto tiene dos implicaciones:
                </p>
                <ol>
                    <li>
                        La clase bean incluye los métodos <code>addPropertyChangeListener()</code> 
                        <code>removePropertyChangeListener()</code> para gestionar los listeners del bean.
                    </li>
                    <li>
                        Cuando una propiedad enlazada se cambia, el bean envía un <code>PropertyChangeEvent</code> a sus listeners 
                        registrados.
                    </li>
                </ol>
                <p>
                    <code>PropertyChangeEvent</code> y <code>PropertyChangeListener</code> existen en el paquete 
                    <code>java.beans</code>.
                </p>
                <p>
                    El paquete <code>java.beans</code> también incluye una clase, <code>PropertyChangeSupport</code>, que se 
                    encarga de la mayor parte del trabajo de las propiedades enlazadas. Esta práctica clase realiza un seguimiento 
                    de los listeners de propiedades e incluye un método de conveniencia que dispara eventos de cambio de propiedad 
                    a todos los listeners registrados.
                </p>
                <p>
                    El ejemplo siguiente muestra como usted podría hacer que la propiedad <code>mouthWidth</code> sea una propiedad 
                    enlazada usando <code>PropertyChangeSupport</code>. Las adiciones necesarias para la propiedad ligada se 
                    muestran en negrita.
                </p>
                <div class="codeblock">
                    <pre>
<b>import java.beans.*;</b>

public class FaceBean {
    private int mMouthWidth = 90;
    <b>private PropertyChangeSupport mPcs =
        new PropertyChangeSupport(this);</b>

    public int getMouthWidth() {
        return mMouthWidth;
    }
    
    public void setMouthWidth(int mw) {
        <b>int oldMouthWidth = mMouthWidth;</b>
        mMouthWidth = mw;
        <b>mPcs.firePropertyChange("mouthWidth",
                                   oldMouthWidth, mw);</b>
    }

    <b>public void
    addPropertyChangeListener(PropertyChangeListener listener) {
        mPcs.addPropertyChangeListener(listener);
    }
    
    public void
    removePropertyChangeListener(PropertyChangeListener listener) {
        mPcs.removePropertyChangeListener(listener);
    }</b>
}
                    </pre>
                </div>
                <p>
                    Las propiedades enlazadas pueden ser vinculadas directamente a otras propiedades de bean utilizando una 
                    herramienta de construcción como NetBeans. Podría, por ejemplo, tomar la propiedad <code>value</code> de un 
                    componente deslizador y enlazarlo a la propiedad <code>mouthWidth</code> mostrado en el ejemplo. NetBeans 
                    le permite hacer esto sin escribir ningún código.
                </p>
                <h2>
                    Propiedades Restringidas
                </h2>
                <p>
                    Una propiedad <i>restringida</i> es una clase especial de propiedad enlazada. Para una propiedad restringida, 
                    el bean mantiene la pista de un conjunto de listeners <i>veto</i>. Cuando una propiedad restringida va a 
                    cambiar, los listeners se consultan sobre el cambio. Cualquiera de los listeners tiene una oportunidad de 
                    vetar el cambio, en cuyo caso la propiedad permanece sin cambios.
                </p>
                <p>
                    Los listeners veto están separados de los listeners de cambio de propiedades. Afortunadamente, el paquete 
                    <code>java.beans</code> incluye una clase <code>VetoableChangeSupport</code> que simplifica enormemente las 
                    propiedades restringidas.
                </p>
                <p>
                    Los cambios al ejemplo <code>mouthWidth</code> se muestran en negrita:
                </p>
                <div class="codeblock">
                    <pre>
import java.beans.*;

public class FaceBean {
    private int mMouthWidth = 90;
    private PropertyChangeSupport mPcs =
        new PropertyChangeSupport(this);
    <b>private VetoableChangeSupport mVcs =
        new VetoableChangeSupport(this);</b>

    public int getMouthWidth() {
        return mMouthWidth;
    }
    
    public void
    setMouthWidth(int mw) <b>throws PropertyVetoException</b> {
        int oldMouthWidth = mMouthWidth;
        <b>mVcs.fireVetoableChange("mouthWidth",
                                    oldMouthWidth, mw);</b>
        mMouthWidth = mw;
        mPcs.firePropertyChange("mouthWidth",
                                 oldMouthWidth, mw);
    }

    public void
    addPropertyChangeListener(PropertyChangeListener listener) {
        mPcs.addPropertyChangeListener(listener);
    }
    
    public void
    removePropertyChangeListener(PropertyChangeListener listener) {
        mPcs.removePropertyChangeListener(listener);
    }

    <b>public void
    addVetoableChangeListener(VetoableChangeListener listener) {
        mVcs.addVetoableChangeListener(listener);
    }
    
    public void
    removeVetoableChangeListener(VetoableChangeListener listener) {
        mVcs.removeVetoableChangeListener(listener);
    }</b>
}
                    </pre>
                </div>
                <h2>
                    Soporte de Desarrollo en NetBeans
                </h2>
                <p>
                    Los patrones de codificación para crear las propiedades de los beans son sencillas, pero algunas veces es 
                    difícil de decir si está haciendo todo bien. NetBeans tiene soporte para los patrones de propiedades de forma 
                    que puede ver inmediatamente los resultados mientras está escribiendo el código.
                </p>
                <p>
                    Para tomar ventaja de esta característica, mire en el panel <b>Navegador</b>, el cual está habitualmente en la 
                    esquina izquierda más baja de la ventana NetBeans. Normalmente, este panel está en el modo 
                    <b>Vista de Miembros</b>, el cual muestra todos los métodos y campos definidos en la clase actual.
                </p>
                <p>
                    Pulse en el cuadro combinado para cambiar a la vista <b>Patrones Bean</b>. Verá una lista de las propiedades 
                    que NetBeans puede inferir desde sus definiciones de métodos. NetBeans actualiza esta lista a medida que 
                    escribe, lo que la convierte en una forma práctica de comprobar su trabajo.
                </p>
                <p>
                    En el ejemplo siguiente, NetBeans ha encontrado la propiedad de lectura-escritura <code>mouthWidth</code> y la 
                    propiedad indexada de lectura-escritura <code>testGrades</code>. Además, NetBeans ha reconocido que 
                    <code>FaceBean</code> permite el registro de <code>PropertyChangeListener</code>s y 
                    <code>VetoableChangeListener</code>s.
                </p>
                <div class="centrado">
                    <img src="../../figures/javabeans/nb-bean-patterns.png" width="430" height="357"
                         alt="Navegador de patrones de bean de NetBeans" />
                </div>
            </div>
            <div class="NavBit">
                <a target="_top" href="index.html">&laquo;&nbsp;Anterior</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="../TOC.html">TdC</a>&nbsp;&bull;&nbsp;
                <a target="_top" href="methods.html">Siguiente&nbsp;&raquo;</a>
            </div>
        </div>
        <hr class="clearfloat"/>
        <div id="Footer">
            <table style="width: 100%;padding: 5px">
                <tr>
                    <td>
                        <p class="footertext">
                            <a id="license_info">Su uso de ésta</a> página y todo el material en las páginas bajo el anuncio
                            &quot;Los Tutoriales de Java&quot; está sujeto a estos <a href="../../information/cpyr.html">avisos
                                legales</a>.
                        </p>
                        <p class="footertext">
                            Copyright &copy; 1995, 2015 Oracle y/o sus afiliados. Todos los derechos reservados.
                        </p>
                    </td>
                    <td style="text-align: right">
                        <p class="footertext">
                            ¿Problemas con estos ejemplos? Intente
                            <a target="_blank" href="../../information/run-examples.html">Compilando y Ejecutando los Ejemplos: PFs
                            </a>.
                        </p>
                        <p class="footertext">
                            ¿Quejas? ¿Elogios? ¿Sugerencias? <a target="_blank" href="https://docs.oracle.com/javase/feedback.html">
                                Denos su opinión</a>.
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="PrintHeaders">
            <b>Página anterior:</b> Escribiendo Componentes JavaBeans<br />
            <b>Página siguiente:</b> Métodos
        </div>
    </body>
</html> 
