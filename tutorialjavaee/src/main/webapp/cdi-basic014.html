<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Usando las Anotaciones @PostConstruct y @PreDestroy con Clases de Beans Gestionados en CDI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="cdi-basic013.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-basic015.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BABJFEAI">
      <h2 id="using-the-postconstruct-and-predestroy-annotations-with-cdi-managed-bean-classes">
        Usando las Anotaciones @PostConstruct y @PreDestroy con Clases de Beans Gestionados en CDI
      </h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            CDI managed bean classes and their superclasses support the annotations for initializing and for preparing for the destruction of a bean. These annotations are defined in JSR 250: Common Annotations for the Java platform (<code><a href="http://jcp.org/en/jsr/detail?id=250" class="bare">http://jcp.org/en/jsr/detail?id=250</a></code>).
          </p>
        </div>
        <div class="paragraph">
          <p>Aquí se tratan los siguientes temas:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                <a href="#CIHEHHCH">
                  Para Inicializar un Bean Gestionado Usando la Anotación @PostConstruct
                </a>
              </p>
            </li>
            <li>
              <p>
                <a href="#CIHBAFAC">
                  Para Preparar la Destrucción de un Bean Gestionado Usando la Anotación @PreDestroy
                </a>
              </p>
            </li>
          </ul>
        </div>
        <div class="sect2" id="CIHEHHCH">
          <h3 id="to-initialize-a-managed-bean-using-the-postconstruct-annotation">
            Para Inicializar un Bean Gestionado Usando la Anotación @PostConstruct
          </h3>
          <div class="paragraph">
            <p>
              Initializing a managed bean specifies the lifecycle callback method that the CDI framework should call after dependency injection but before the class is put into service.
            </p>
          </div>
          <div class="olist arabic">
            <ol class="arabic">
              <li>
                <p>
                  In the managed bean class or any of its superclasses, define a method that performs the initialization that you require.
                </p>
              </li>
              <li>
                <p>
                  Annotate the declaration of the method with the <code>javax.annotation.PostConstruct</code> annotation.
                </p>
              </li>
            </ol>
          </div>
          <div class="paragraph">
            <p>
              When the managed bean is injected into a component, CDI calls the method after all injection has occurred and after all initializers have been called.
            </p>
          </div>
          <table class="tableblock frame-all grid-all spread">
            <colgroup>
              <col style="width: 100%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <div>
                    <div class="paragraph">
                      <p>Note:</p>
                    </div>
                    <div class="paragraph">
                      <p>
                        As mandated in JSR 250, if the annotated method is declared in a superclass, the method is called unless a subclass of the declaring class overrides the method.
                      </p>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="paragraph">
            <p>
              The <code>UserNumberBean</code> managed bean in <a href="cdi-basicexamples003.html#GJCXV">The guessnumber-cdi CDI Example</a> uses <code>@PostConstruct</code> to annotate a method that resets all bean fields:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
@PostConstruct
public void reset () {
    this.minimum = 0;
    this.userNumber = 0;
    this.remainingGuesses = 0;
    this.maximum = maxNumber;
    this.number = randomInt.get();
}
              </code></pre>
            </div>
          </div>
        </div>
        <div class="sect2" id="CIHBAFAC">
          <h3 id="to-prepare-for-the-destruction-of-a-managed-bean-using-the-predestroy-annotation">
            Para Preparar la Destrucción de un Bean Gestionado Usando la Anotación @PreDestroy
          </h3>
          <div class="paragraph">
            <p>
              Preparing for the destruction of a managed bean specifies the lifecycle call back method that signals that an application component is about to be destroyed by the container.
            </p>
          </div>
          <div class="olist arabic">
            <ol class="arabic">
              <li>
                <p>
                  In the managed bean class or any of its superclasses, prepare for the destruction of the managed bean.
                </p>
                <div class="paragraph">
                  <p>
                    In this method, perform any cleanup that is required before the bean is destroyed, such as releasing a resource that the bean has been holding.
                  </p>
                </div>
              </li>
              <li>
                <p>
                  Annotate the declaration of the method with the <code>javax.annotation.PreDestroy</code> annotation.
                </p>
              </li>
            </ol>
          </div>
          <div class="paragraph">
            <p>CDI calls this method before starting to destroy the bean.</p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="cdi-basic013.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-basic015.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
