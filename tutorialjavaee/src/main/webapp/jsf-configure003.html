<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Archivo de Recursos de Configuración de la Aplicación</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-configure002.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-configure004.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BNAWP">
      <h2 id="application-configuration-resource-file">
        Archivo de Recursos de Configuración de la Aplicación
      </h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            La tecnología JavaServer Faces proporciona un formato de configuración portátil (como un 
            documento XML) para configurar los recursos de la aplicación. Uno o más documentos XML, llamados 
            archivos de recursos de configuración de aplicaciones, pueden usar este formato para registrar y 
            configurar objetos y recursos y definir reglas de navegación para aplicaciones. Un archivo de 
            recursos de configuración de la aplicación generalmente se llama <code>faces-config.xml</code>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Necesita un archivo de recursos de configuración de la aplicación en los siguientes casos:
          </p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                Para especificar elementos de configuración para su aplicación que no están disponibles a 
                través de anotaciones de bean gestionados, como mensajes localizados y reglas de navegación.
              </p>
            </li>
            <li>
              <p>Para anular las anotaciones de bean gestionado cuando se implementa la aplicación</p>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>
            El archivo de recursos de configuración de la aplicación debe ser válido contra el esquema XML 
            ubicado en <code>http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd</code>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Además, cada archivo debe incluir la siguiente información, en el siguiente orden:
          </p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>El número de versión XML, normalmente con un atributo <code>encoding</code>:</p>
              <div class="listingblock">
                <div class="content">
                  <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;?xml version="1.0" encoding='UTF-8'?&gt;
                  </code></pre>
                </div>
              </div>
            </li>
            <li>
              <p>Una etiqueta <code>faces-config</code> que incluye todas las demás declaraciones:</p>
              <div class="listingblock">
                <div class="content">
                  <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;faces-config version="2.2" xmlns="http://xmlns.jcp.org/xml/ns/javaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
              http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd"&gt;
    ...
&lt;/faces-config&gt;
                  </code></pre>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>
            Puede tener más de un archivo de recursos de configuración de la aplicación para una aplicación. 
            La implementación de JavaServer Faces encuentra el archivo o archivos de configuración buscando lo 
            siguiente.
          </p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                Un recurso llamado <code>/META-INF/faces-config.xml</code> en cualquiera de los archivos JAR 
                en el directorio <code>/WEB-INF/lib/</code> de la aplicación web y en los cargadores de clases 
                principales. Si existe un recurso con este nombre, se carga como recurso de configuración. 
                Este método es práctico para una biblioteca empaquetada que contiene algunos componentes y 
                renderizadores. Además, cualquier archivo con un nombre que termine en 
                <code>faces-config.xml</code> también se considera un recurso de configuración y se carga como 
                tal.
              </p>
            </li>
            <li>
              <p>
                Un parámetro de inicialización de contexto, <code>javax.faces.application.CONFIG_FILES</code>, 
                en su archivo descriptor de implementación web que especifica una o más rutas (delimitadas por 
                comas) a varios archivos de configuración para su aplicación web. Este método se usa con mayor 
                frecuencia para aplicaciones a escala empresarial que delegan en grupos separados la 
                responsabilidad de mantener el archivo para cada parte de una aplicación grande.
              </p>
            </li>
            <li>
              <p>
                Un recurso llamado <code>faces-config.xml</code> en el directorio <code>/WEB-INF/</code> de su 
                aplicación. Las aplicaciones web simples hacen que sus archivos de configuración estén 
                disponibles de esta manera.
              </p>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>
            Para acceder a los recursos registrados con la aplicación, un desarrollador de aplicaciones puede 
            usar una instancia de la clase <code>javax.faces.application.Application</code>, que se crea 
            automáticamente para cada aplicación. La instancia de <code>Application</code> actúa como una 
            fábrica centralizada para los recursos que se definen en el archivo XML.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Cuando se inicia una aplicación, la implementación de JavaServer Faces crea una instancia única de 
            la clase <code>Application</code> y la configura con la información que proporcionó en el archivo 
            de recursos de configuración de la aplicación.
          </p>
        </div>
        <div class="sect2" id="GIREP">
          <h3 id="configuring-eager-application-scoped-managed-beans">
            Configurando Beans Gestionados con Ámbito de Aplicación Temprana
          </h3>
          <div class="paragraph">
            <p>
              Los beans gestionados en JavaServer Faces (ya sea especificados en el archivo `faces-config.xml` 
              o anotados con <code>javax.faces.bean.ManagedBean</code>) se instancian de manera perezosa. Es 
              decir, que se instancian cuando se realiza una solicitud desde la aplicación.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Para forzar que un bean de ámbito de aplicación sea instanciado y colocado en el ámbito de 
              aplicación tan pronto como se inicie la aplicación y antes de que se realice cualquier solicitud, 
              el atributo <code>eager</code> del bean gestionado debe establecerse en <code>true</code>, como 
              se muestra en los siguientes ejemplos.
            </p>
          </div>
          <div class="paragraph">
            <p>La declaración del archivo <code>faces-config.xml</code> es la siguiente:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean eager="true"&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>La anotación es la siguiente:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
@ManagedBean(eager=true)
@ApplicationScoped
              </code></pre>
            </div>
          </div>
        </div>
        <div class="sect2" id="GIQCK">
          <h3 id="ordering-of-application-configuration-resource-files">
            Orden de los Archivos de Recursos de Configuración de la Aplicación
          </h3>
          <div class="paragraph">
            <p>
              Debido a que la tecnología JavaServer Faces permite el uso de múltiples archivos de recursos de 
              configuración de aplicaciones almacenados en diferentes ubicaciones, el orden en el que se 
              cargan mediante la implementación se vuelve importante en ciertas situaciones (por ejemplo, 
              cuando se usan objetos de nivel de aplicación). Este orden se puede definir mediante un elemento 
              <code>ordering</code> y sus subelementos en el propio archivo de recursos de configuración de la 
              aplicación. El orden de los archivos de recursos de configuración de la aplicación puede ser 
              absoluto o relativo.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El orden absoluto se define mediante un elemento <code>absolute-ordering</code> en el archivo. 
              Con el orden absoluto, el usuario especifica el orden en el que se cargarán los archivos de 
              recursos de configuración de la aplicación. El siguiente ejemplo muestra una entrada para el 
              orden absoluto.
            </p>
          </div>
          <div class="paragraph">
            <p>El archivo <code>my-faces-config.xml</code> contiene los elementos siguientes:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;faces-config&gt;
    &lt;name&gt;myJSF&lt;/name&gt;
    &lt;absolute-ordering&gt;
        &lt;name&gt;A&lt;/name&gt;
        &lt;name&gt;B&lt;/name&gt;
        &lt;name&gt;C&lt;/name&gt;
    &lt;/absolute-ordering&gt;
&lt;/faces-config&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              En este ejemplo, A, B y C son archivos de recursos de configuración de aplicaciones diferentes 
              y deben cargarse en el orden indicado.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si hay un elemento <code>absolute-ordering</code> en el archivo, solo se procesan los archivos 
              listados por el subelemento <code>name</code>. Para procesar cualquier otro archivo de recursos 
              de configuración de la aplicación, se requiere un subelemento <code>others</code>. En ausencia 
              del subelemento <code>others</code>, todos los demás archivos no listados se ignorarán en el 
              momento de la carga.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El orden relativo se define mediante un elemento <code>ordering</code> y sus subelementos 
              <code>before</code> y <code>after</code>. Con el orden relativo, el orden en el que se cargarán 
              los archivos de recursos de configuración de la aplicación se calcula considerando las entradas 
              de orden de los diferentes archivos. El siguiente ejemplo muestra algunas de estas 
              consideraciones. En el siguiente ejemplo, <code>config-A</code>, <code>config-B</code> y 
              <code>config-C</code> son archivos de recursos de configuración de aplicaciones diferentes.
            </p>
          </div>
          <div class="paragraph">
            <p>El archivo <code>config-A</code> contiene los elementos siguientes:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;faces-config&gt;
    &lt;name&gt;config-A&lt;/name&gt;
    &lt;ordering&gt;
        &lt;before&gt;
            &lt;name&gt;config-B&lt;/name&gt;
        &lt;/before&gt;
    &lt;/ordering&gt;
&lt;/faces-config&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              El archivo <code> config-B </code> (no se muestra aquí) no contiene ningún elemento 
              <code>ordering</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>El archivo <code>config-C</code> contiene los elementos siguientes:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;faces-config&gt;
    &lt;name&gt;config-C&lt;/name&gt;
    &lt;ordering&gt;
        &lt;after&gt;
            &lt;name&gt;config-B&lt;/name&gt;
        &lt;/after&gt;
    &lt;/ordering&gt;
&lt;/faces-config&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Según la entrada del subelemento <code>before</code>, el archivo <code>config-A</code> se 
              cargará antes que el archivo <code>config-B</code>. Según la entrada del subelemento 
              <code>after</code>, el archivo <code>config-C</code> se cargará después del archivo 
              <code>config-B</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Además, un subelemento <code>others</code> también se puede anidar dentro de los subelementos 
              <code>before</code> y <code>after</code>. Si el elemento <code>others</code> está presente, el 
              archivo especificado puede recibir la preferencia más alta o más baja entre los archivos de 
              configuración listados y no listados.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si un elemento <code>ordering</code> no está presente en un archivo de configuración de la 
              aplicación, ese archivo se cargará después de todos los archivos que contienen elementos 
              <code>ordering</code>.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-configure002.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-configure004.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
