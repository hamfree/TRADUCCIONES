<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Trabajar con Dominios, Usuarios, Grupos y Roles</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="security-intro004.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="security-intro006.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BNBXJ">
      <h2 id="working-with-realms-users-groups-and-roles">Trabajar con Dominios, Usuarios, Grupos y Roles</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            A menudo, es necesario proteger los recursos para asegurarse de que solo los usuarios autorizados 
            tengan acceso. Consulte 
            <a href="security-intro001.html#BNBWX">Características de la Seguridad de las Aplicaciones</a> 
            para obtener una introducción a los conceptos de autenticación, identificación y autorización.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Esta sección trata sobre la configuración de los usuarios para que puedan ser identificados 
            correctamente y se les dé acceso a los recursos protegidos o se les niegue el acceso si no están 
            autorizados para acceder a los recursos protegidos. Para autenticar a un usuario, debe seguir 
            estos pasos básicos.
          </p>
        </div>
        <div class="olist arabic">
          <ol class="arabic">
            <li>
              <p>
                El desarrollador de la aplicación escribe un código para solicitar un nombre de usuario y una 
                contraseña. Los diversos métodos de autenticación se describen en 
                <a href="security-webtier002.html#GKBSA">Especificación de Mecanismos de Autenticación</a>.
              </p>
            </li>
            <li>
              <p>
                El desarrollador de la aplicación comunica cómo configurar la seguridad para la aplicación 
                implementada mediante el uso de una anotación de metadatos o un descriptor de implementación. 
                Este paso se analiza en <a href="#BNBXU">Configuración de Roles de Seguridad</a>.
              </p>
            </li>
            <li>
              <p>
                El administrador del servidor configura usuarios y grupos autorizados en el servidor 
                GlassFish. Esto se analiza en 
                <a href="#BNBXR">Administrar Usuarios y Grupos en el Servidor GlassFish</a>.
              </p>
            </li>
            <li>
              <p>
                El implementador de aplicaciones asigna los roles de seguridad de la aplicación a usuarios, 
                grupos y principales definidos en el servidor GlassFish. Este tema se trata en 
                <a href="#BNBXV">Asignación de Roles a Usuarios y Grupos</a>.
              </p>
            </li>
          </ol>
        </div>
        <div class="sect2" id="BNBXK">
          <h3 id="what-are-realms-users-groups-and-roles">
            ¿Qué Son los Dominios, los Usuarios, los Grupos y los Roles?
          </h3>
          <div class="paragraph">
            <p>
              Un reino es un dominio de política de seguridad definido para un servidor web o de aplicaciones. 
              Un reino contiene una colección de usuarios, que pueden o no estar asignados a un grupo. La 
              administración de usuarios en el servidor GlassFish se trata en 
              <a href="#BNBXR">Administrar Usuarios y Grupos en el Servidor GlassFish</a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Una aplicación a menudo solicitará un nombre de usuario y una contraseña antes de permitir el 
              acceso a un recurso protegido. Después de ingresar el nombre de usuario y la contraseña, esa 
              información se pasa al servidor, que autentica al usuario y envía el recurso protegido o no 
              autentica al usuario, en cuyo caso se niega el acceso al recurso protegido. Este tipo de 
              autenticación de usuario se trata en la 
              <a href="security-webtier002.html#BNCBN">
                Especificación de un Mecanismo de Autenticación en el Descriptor de Implementación
              </a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              En algunas aplicaciones, los usuarios autorizados se asignan a roles. En esta situación, la 
              función asignada al usuario en la aplicación debe asignarse a un principal o grupo definido en 
              el servidor de aplicaciones. La <a href="#BNBXL">Figura 50-6</a> muestra esto. Puede encontrar 
              más información sobre la asignación de roles a usuarios y grupos en 
              <a href="#BNBXU">Configuración de Roles de Seguridad</a>.
            </p>
          </div>
          <div id="BNBXL" class="paragraph">
            <div class="title"><strong>Figura 50-6 Asignación de Roles a Usuarios y Grupos</strong></div>
            <p>
              <span class="image">
                <img src="img/javaeett_dt_044.png" 
                     alt="Diagrama de asignación de funciones, que muestra la creación de usuarios y grupos, 
                     la definición de funciones y la asignación de funciones a usuarios y grupos">
              </span>
            </p>
          </div>
          <div class="paragraph">
            <p>
              Las siguientes secciones proporcionan más información sobre dominios, usuarios, grupos y roles.
            </p>
          </div>
          <div class="sect3" id="BNBXM">
            <h4 id="what-is-a-realm">¿Qué es un Reino o Dominio?</h4>
            <div class="paragraph">
              <p>
                Los recursos protegidos en un servidor se pueden dividir en un conjunto de espacios de 
                protección, cada uno con su propio esquema de autenticación y/o base de datos de autorización 
                que contiene una colección de usuarios y grupos. Un reino es una base de datos completa de 
                usuarios y grupos identificados como usuarios válidos de una o más aplicaciones y controlados 
                por la misma política de autenticación.
              </p>
            </div>
            <div class="paragraph">
              <p>
                El servicio de autenticación del servidor Java EE puede controlar a los usuarios en varios 
                dominios. Los dominios <code>file</code>, <code>admin-realm</code> y <code>certificate</code> 
                vienen preconfigurados para el servidor GlassFish.
              </p>
            </div>
            <div class="paragraph">
              <p>
                En el dominio <code>file</code>, el servidor almacena las credenciales de usuario localmente 
                en un archivo llamado <code>keyfile</code>. Puede usar la Consola de administración para 
                administrar usuarios en el dominio <code>file</code>. Cuando se utiliza el dominio 
                <code>file</code>, el servicio de autenticación del servidor verifica la identidad del usuario 
                comprobando el dominio <code>file</code>. Este dominio se usa para la autenticación de todos 
                los clientes excepto para los clientes de navegador web que usan HTTPS y certificados.
              </p>
            </div>
            <div class="paragraph">
              <p>
                En el dominio <code>certificate</code>, el servidor almacena las credenciales de usuario en 
                una base de datos de certificados. Cuando se usa el dominio <code>certificate</code>, el 
                servidor usa certificados con HTTPS para autenticar a los clientes web. Para verificar la 
                identidad de un usuario en el dominio <code>certificate</code>, el servicio de autenticación 
                verifica un certificado X.509. Para obtener instrucciones paso a paso para crear este tipo de 
                certificado, consulte 
                <a href="security-advanced001.html#BNBYB">Trabajar con Certificados Digitales</a>. El campo de 
                nombre común del certificado X.509 se utiliza como nombre principal.
              </p>
            </div>
            <div class="paragraph">
              <p>
                El <code>admin-realm</code> también es un dominio <code>file</code> y almacena las 
                credenciales de los usuarios administradores localmente en un archivo llamado 
                <code>admin-keyfile</code>. Puede usar la Consola de administración para administrar usuarios 
                en este dominio de la misma manera que administra usuarios en el dominio <code>file</code>. 
                Para obtener más información, consulte 
                <a href="#BNBXR">Administrar Usuarios y Grupos en el Servidor GlassFish</a>.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNBXN">
            <h4 id="what-is-a-user">¿Qué es un Usuario?</h4>
            <div class="paragraph">
              <p>
                Un usuario es una identidad individual o de programa de aplicación que se ha definido en 
                el servidor GlassFish. En una aplicación web, un usuario puede tener asociado con esa 
                identidad un conjunto de roles que le dan derecho al usuario a acceder a todos los recursos 
                protegidos por esos roles. Los usuarios se pueden asociar a un grupo.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Un usuario de Java EE es similar a un usuario del sistema operativo. Por lo general, ambos 
                tipos de usuarios representan personas. Sin embargo, estos dos tipos de usuarios no son lo 
                mismo. El servicio de autenticación del servidor Java EE no tiene conocimiento del nombre de 
                usuario y la contraseña que proporciona cuando inicia sesión en el sistema operativo. El 
                servicio de autenticación del servidor Java EE no está conectado al mecanismo de seguridad del 
                sistema operativo. Los dos servicios de seguridad gestionan usuarios que pertenecen a 
                diferentes dominios.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNBXO">
            <h4 id="what-is-a-group">¿Qué es un Grupo?</h4>
            <div class="paragraph">
              <p>
                Un grupo es un conjunto de usuarios autenticados, clasificados por rasgos comunes, definidos 
                en el servidor GlassFish. Un usuario de Java EE del dominio <code>file</code> puede 
                pertenecer a un grupo en el servidor GlassFish. (Un usuario en el dominio 
                <code>certificate</code> no puede). Un grupo en el servidor GlassFish es una categoría de 
                usuarios clasificados por características comunes, como el cargo o el perfil del cliente. Por 
                ejemplo, la mayoría de los clientes de una aplicación de comercio electrónico podrían 
                pertenecer al grupo <code>CUSTOMER</code>, pero los grandes consumidores pertenecerían al 
                grupo <code>PREFERRED</code>. La categorización de usuarios en grupos facilita el control del 
                acceso de un gran número de usuarios.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Un grupo en el servidor GlassFish tiene un alcance diferente al de un rol. Se designa un grupo 
                para todo el servidor GlassFish, mientras que una función se asocia solo con una aplicación 
                específica en el servidor GlassFish.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNBXP">
            <h4 id="what-is-a-role">¿Qué es un Rol?</h4>
            <div class="paragraph">
              <p>
                Un rol es un nombre abstracto para el permiso para acceder a un conjunto particular de 
                recursos en una aplicación. Un rol se puede comparar con una llave que puede abrir una 
                cerradura. Muchas personas pueden tener una copia de la clave. A la cerradura no le importa 
                quién eres, solo que tienes la llave correcta.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNBXQ">
            <h4 id="some-other-terminology">Alguna Otra Terminología</h4>
            <div class="paragraph">
              <p>
                La siguiente terminología también se utiliza para describir los requisitos de seguridad de la 
                plataforma Java EE.
              </p>
            </div>
            <div class="ulist">
              <ul>
                <li>
                  <p>
                    Un principal es una entidad que se puede autenticar mediante un protocolo de autenticación 
                    en un servicio de seguridad que se implementa en una empresa. Un principal se identifica 
                    mediante un nombre de principal y se autentica mediante datos de autenticación.
                  </p>
                </li>
                <li>
                  <p>
                    Un dominio de política de seguridad, también conocido como dominio o ámbito de seguridad, 
                    es un ámbito en el que el administrador de seguridad del servicio de seguridad define y 
                    aplica una política de seguridad común.
                  </p>
                </li>
                <li>
                  <p>
                    Los atributos de seguridad son un conjunto de atributos asociados con cada principal. Los 
                    atributos de seguridad tienen muchos usos: por ejemplo, acceso a recursos protegidos y 
                    auditoría de usuarios. Los atributos de seguridad se pueden asociar con un principal 
                    mediante un protocolo de autenticación.
                  </p>
                </li>
                <li>
                  <p>
                    Una credencial es un objeto que contiene o hace referencia a los atributos de seguridad 
                    utilizados para autenticar un principal para los servicios Java EE. Un principal adquiere 
                    una credencial tras la autenticación o de otro principal que permite que se use su 
                    credencial.
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="sect2" id="BNBXR">
          <h3 id="managing-users-and-groups-in-glassfish-server">
            Administrar Usuarios y Grupos en el Servidor GlassFish
          </h3>
          <div class="paragraph">
            <p>Siga estos pasos para administrar usuarios antes de ejecutar los ejemplos del tutorial.</p>
          </div>
          <div class="paragraph">
            <p>Aquí se tratan los siguientes temas:</p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p><a href="#BNBXS">Para Agregar Usuarios al Servidor GlassFish</a></p>
              </li>
            </ul>
          </div>
          <div class="sect3" id="BNBXS">
            <h4 id="to-add-users-to-glassfish-server">Para Agregar Usuarios al Servidor GlassFish</h4>
            <div class="olist arabic">
              <ol class="arabic">
                <li>
                  <p>Inicie el servidor GlassFish, si aún no lo ha hecho.</p>
                  <div class="paragraph">
                    <p>
                      La información sobre cómo iniciar el servidor GlassFish está disponible en 
                      <a href="usingexamples002.html#BNADI">Arrancando y Parando el Servidor GlassFish</a>.
                    </p>
                  </div>
                </li>
                <li>
                  <p>Inicie la Consola de administración, si aún no lo ha hecho.</p>
                  <div class="paragraph">
                    <p>
                      Para iniciar la Consola de administración, abra un navegador web y especifique la URL 
                      <code>http://localhost:4848/</code>. Si cambió el puerto de administración 
                      predeterminado durante la instalación, ingrese el número de puerto correcto en lugar de 
                      <code>4848</code>.
                    </p>
                  </div>
                </li>
                <li>
                  <p>
                    En el árbol de navegación, expanda el nodo Configuraciones, luego expanda el nodo de 
                    configuración del servidor.
                  </p>
                </li>
                <li>
                  <p>Expanda el nodo Seguridad.</p>
                </li>
                <li>
                  <p>Expanda el nodo Realms.</p>
                </li>
                <li>
                  <p>Seleccione el reino (realm, en inglés) al que está agregando usuarios.</p>
                  <div class="ulist">
                    <ul>
                      <li>
                        <p>
                          Seleccione el dominio <code>file</code> para agregar usuarios a los que desea 
                          acceder a las aplicaciones que se ejecutan en este dominio.
                        </p>
                        <div class="paragraph">
                          <p>
                            Para las aplicaciones de seguridad de ejemplo, seleccione el dominio 
                            <code>file</code>.
                          </p>
                        </div>
                      </li>
                      <li>
                        <p>
                          Seleccione <code>admin-realm</code> para agregar los usuarios que desea habilitar 
                          como administradores del sistema del servidor GlassFish.
                        </p>
                        <div class="paragraph">
                          <p>
                            No puede agregar usuarios al dominio <code>certificate</code> mediante la Consola 
                            de administración. En el dominio <code>certificate</code>, solo puede agregar 
                            certificados. Para obtener información sobre cómo agregar (importar) certificados 
                            al dominio <code>certificate</code>, consulte 
                            <a href="security-advanced001.html#GLIFW">
                              Adición de Usuarios al Dominio del Certificado
                            </a>.
                          </p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </li>
                <li>
                  <p>En la página Editar dominio, haga clic en Administrar usuarios.</p>
                </li>
                <li>
                  <p>
                    En la página Usuarios de archivo o Usuarios administradores, haga clic en Nuevo para 
                    agregar un nuevo usuario al reino.
                  </p>
                </li>
                <li>
                  <p>
                    En la página New File Realm User, ingrese valores en los campos ID de usuario, Lista de 
                    grupos, Nueva contraseña y Confirmar nueva contraseña.
                  </p>
                  <div class="paragraph">
                    <p>
                      Para Admin Realm, el campo Lista de grupos es de solo lectura y el nombre del grupo es 
                      <code>asadmin</code>. Reinicie el servidor GlassFish y la consola de administración 
                      después de agregar un usuario al dominio de administración.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>
                      Para obtener más información sobre estas propiedades, consulte 
                      <a href="#BNBXJ">Trabajar con Dominios, Usuarios, Grupos y Roles</a>.
                    </p>
                  </div>
                  <div class="paragraph">
                    <p>
                      Para las aplicaciones de seguridad de ejemplo, especifique un usuario con el nombre y la 
                      contraseña que desee, pero asegúrese de que el usuario esté asignado al grupo 
                      <code>TutorialUser</code>. El nombre de usuario y la contraseña son sensibles a 
                      mayúsculas. Mantenga un registro del nombre de usuario y la contraseña para trabajar con 
                      los ejemplos más adelante en este tutorial.                      
                    </p>
                  </div>
                </li>
                <li>
                  <p>
                    Haga clic en Aceptar para agregar este usuario al reino o haga clic en Cancelar para salir 
                    sin guardar.
                  </p>
                </li>
              </ol>
            </div>
          </div>
        </div>
        <div class="sect2" id="BNBXU">
          <h3 id="setting-up-security-roles">Configuración de Roles de Seguridad</h3>
          <div class="paragraph">
            <p>
              Cuando diseña un enterprise bean o un componente web, siempre debe pensar en los tipos de 
              usuarios que accederán al componente. Por ejemplo, una aplicación web para un departamento de 
              recursos humanos puede tener una URL de solicitud diferente para alguien a quien se le ha 
              asignado el rol de <code>DEPT_ADMIN</code> que para alguien a quien se le ha asignado el rol de 
              <code>DIRECTOR</code>. La función <code>DEPT_ADMIN</code> puede permitirle ver los datos de los 
              empleados, pero la función <code>DIRECTOR</code> le permite modificar los datos de los 
              empleados, incluidos los datos salariales. Cada uno de estos roles de seguridad es una 
              agrupación lógica abstracta de usuarios definida por la persona que ensambla la aplicación. 
              Cuando se implementa una aplicación, el implementador asignará los roles a las identidades de 
              seguridad en el entorno operativo, como se muestra en la <a href="#BNBXL">Figura 50-6</a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Para los componentes de Java EE, defina roles de seguridad utilizando las anotaciones de 
              metadatos <code>@DeclareRoles</code> y <code>@RolesAllowed</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El siguiente es un ejemplo de una aplicación en la que el rol de <code>DEPT-ADMIN</code> está 
              autorizado para métodos que revisan datos de nómina de empleados, y el rol de 
              <code>DIRECTOR</code> está autorizado para métodos que cambiar datos de nómina de empleados.
            </p>
          </div>
          <div class="paragraph">
            <p>El enterprise bean se anotaría como se muestra en el siguiente código:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight">
                <code class="language-oac_no_warn" data-lang="oac_no_warn">
import javax.annotation.security.DeclareRoles;
import javax.annotation.security.RolesAllowed;
...
@DeclareRoles({"DEPT-ADMIN", "DIRECTOR"})
@Stateless public class PayrollBean implements Payroll {
    @Resource SessionContext ctx;
    @RolesAllowed("DEPT-ADMIN")
    public void reviewEmployeeInfo(EmplInfo info) {
        oldInfo = ... read from database;
        // ...
    }
    @RolesAllowed("DIRECTOR")
    public void updateEmployeeInfo(EmplInfo info) {
        newInfo = ... update database;
        // ...
    }
    ...
 }
                </code>
              </pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Para un servlet, puede usar la anotación <code>@HttpConstraint</code> dentro de la anotación 
              <code>@ServletSecurity</code> para especificar los roles que pueden acceder al servlet. Por 
              ejemplo, un servlet podría anotarse de la siguiente manera:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight">
                <code class="language-oac_no_warn" data-lang="oac_no_warn">
@WebServlet(name = "PayrollServlet", urlPatterns = {"/payroll"})
@ServletSecurity(
@HttpConstraint(transportGuarantee = TransportGuarantee.CONFIDENTIAL,
    rolesAllowed = {"DEPT-ADMIN", "DIRECTOR"}))
public class GreetingServlet extends HttpServlet {
                </code>
              </pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Estas anotaciones se tratan con más detalle en 
              <a href="security-webtier004.html#GJRMH">
                Especificación de Seguridad para la Autenticación Básica Mediante Anotaciones
              </a> y 
              <a href="security-javaee002.html#GJGDI">
                Protección de un Enterprise Bean Mediante Seguridad Declarativa
              </a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Después de que los usuarios hayan proporcionado su información de inicio de sesión y la 
              aplicación haya declarado qué funciones están autorizadas para acceder a las partes protegidas 
              de una aplicación, el siguiente paso es asignar la función de seguridad al nombre de un usuario 
              o principal.
            </p>
          </div>
        </div>
        <div class="sect2" id="BNBXV">
          <h3 id="mapping-roles-to-users-and-groups">Asignación de Roles a Usuarios y Grupos</h3>
          <div class="paragraph">
            <p>
              Cuando está desarrollando una aplicación Java EE, no necesita saber qué categorías de usuarios 
              se han definido para el ámbito en el que se ejecutará la aplicación. En la plataforma Java EE, 
              la arquitectura de seguridad proporciona un mecanismo para asignar los roles definidos en la 
              aplicación a los usuarios o grupos definidos en el ámbito de tiempo de ejecución.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Los nombres de funciones que se utilizan en la aplicación suelen ser los mismos que los nombres 
              de grupos definidos en el servidor GlassFish. En estas circunstancias, puede habilitar una 
              asignación predeterminada de principal a rol en el servidor GlassFish mediante la Consola de 
              administración. La tarea 
              <a href="security-webtier004.html#GJJLK">
                Cómo Configurar su Sistema para Ejecutar los Ejemplos de Seguridad
              </a> explica cómo hacerlo. Todos los ejemplos de seguridad del tutorial utilizan la asignación 
              predeterminada de principal a rol. Con esa configuración habilitada, si el nombre del grupo 
              definido en el servidor GlassFish coincide con el nombre del rol definido en la aplicación, no 
              es necesario usar el descriptor de implementación en tiempo de ejecución para proporcionar una 
              asignación. El servidor de aplicaciones realizará implícitamente este mapeo, siempre que los 
              nombres de los grupos y roles coincidan.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si los nombres de funciones utilizados en una aplicación no son los mismos que los nombres de 
              grupos definidos en el servidor, utilice el descriptor de implementación en tiempo de ejecución 
              para especificar la asignación. El siguiente ejemplo muestra cómo hacer esta asignación en el 
              archivo <code>glassfish-web.xml</code>, que es el archivo que se utiliza para las aplicaciones 
              web:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight">
                <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;glassfish-web-app&gt;
    ...
    &lt;security-role-mapping&gt;
        &lt;role-name&gt;Mascot&lt;/role-name&gt;
        &lt;principal-name&gt;Duke&lt;/principal-name&gt;
    &lt;/security-role-mapping&gt;
    &lt;security-role-mapping&gt;
        &lt;role-name&gt;Admin&lt;/role-name&gt;
        &lt;group-name&gt;Director&lt;/group-name&gt;
    &lt;/security-role-mapping&gt;
    ...
&lt;/glassfish-web-app&gt;
                </code>
              </pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Un rol se puede asignar a principals específicos, grupos específicos o ambos. Los nombres 
              principales o de grupo deben ser principales o grupos válidos en el dominio predeterminado 
              actual o en el dominio especificado en el elemento <code>login-config</code>. En este ejemplo, 
              el rol de <code>Mascot</code> que se usa en la aplicación se asigna a un principal, llamado 
              <code>Duke</code>, que existe en el servidor de aplicaciones. Asignar un rol a un principal 
              específico es útil cuando la persona que ocupa ese rol puede cambiar. Para esta aplicación, 
              necesitaría modificar solo el descriptor de implementación en tiempo de ejecución en lugar de 
              buscar y reemplazar en toda la aplicación las referencias a este principal.
            </p>
          </div>
          <div class="paragraph">
            <p>
              También en este ejemplo, el rol de <code>Admin</code> se asigna a un grupo de usuarios al que 
              se le asigna el nombre de grupo de <code>Director</code>. Esto es útil porque el grupo de 
              personas autorizadas para acceder a los datos administrativos de nivel de director debe 
              mantenerse solo en el servidor GlassFish. El desarrollador de la aplicación no necesita saber 
              quiénes son estas personas, solo necesita definir el grupo de personas a las que se les dará 
              acceso a la información.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El <code>role-name</code> debe coincidir con el <code>role-name</code> en el elemento 
              <code>security-role</code> del descriptor de implementación correspondiente o el nombre del rol 
              definido en un anotación <code>@DeclareRoles</code>.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="security-intro004.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="security-intro006.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
