<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Empaquetando Enterprise Beans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="packaging001.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="packaging003.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1">
      <h2 id="packaging-enterprise-beans">Empaquetando Enterprise Beans</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Esta sección explica cómo se pueden empaquetar los beans enterprise en módulos EJB JAR o WAR. 
            Incluye las siguientes secciones:
          </p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                <a href="#packaging-enterprise-beans-in-ejb-jar-modules">
                  Empaquetando Enterprise Beans en Módulos EJB JAR</a>
              </p>
            </li>
            <li>
              <p>
                <a href="#packaging-enterprise-beans-in-war-modules">
                  Empaquetando Enterprise Beans en Módulos WAR</a>
              </p>
            </li>
          </ul>
        </div>
        <div class="sect2">
          <h3 id="packaging-enterprise-beans-in-ejb-jar-modules">
            Empaquetando Enterprise Beans en Módulos EJB JAR
          </h3>
          <div class="paragraph">
            <p>Un archivo EJB JAR es portátil y se puede utilizar para varias aplicaciones.</p>
          </div>
          <div class="paragraph">
            <p>
              Para ensamblar una aplicación Java EE, empaque uno o más módulos, como archivos EJB JAR, en un 
              archivo EAR, el archivo de almacenamiento que contiene la aplicación. Al implementar el archivo 
              EAR que contiene el archivo JAR EJB del Enterprise Bean, también implementa el Enterprise Bean 
              en GlassFish Server. También puede implementar un EJB JAR que no esté incluido en un archivo 
              EAR. <a href="#BCGFJIJI">La Figura 5-2</a> muestra el contenido de un archivo JAR EJB.
            </p>
          </div>
          <div id="BCGFJIJI" class="paragraph">
            <div class="title"><strong>Figura 5-2 Estructura de un JAR de Enterprise Bean</strong></div>
            <p>
              <span class="image">
                <img src="img/javaeett_dt_011.png" 
                     alt="Diagrama que muestra la estructura y el contenido de un archivo JAR de enterprise 
                     bean.">
              </span>
            </p>
          </div>
        </div>
        <div class="sect2">
          <h3 id="packaging-enterprise-beans-in-war-modules">
            Empaquetando Enterprise Beans en Módulos WAR
          </h3>
          <div class="paragraph">
            <p>
              Los beans empresariales suelen proporcionar la lógica empresarial de una aplicación web. En 
              estos casos, empaquetar el bean empresarial dentro del módulo WAR de la aplicación web 
              simplifica la implementación y la organización de la aplicación. Los Enterprise beans se pueden 
              empaquetar dentro de un módulo WAR como archivos de clase de lenguaje de programación Java o 
              dentro de un archivo JAR que está empaquetado dentro del módulo WAR.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Para incluir archivos de clase de Enterprise Bean en un módulo WAR, los archivos de clase deben 
              estar en el directorio <code>WEB-INF/classes</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Para incluir un archivo JAR que contiene beans de empresa en un módulo WAR, agregue el JAR al 
              directorio <code>WEB-INF/lib</code> del módulo WAR.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Los módulos WAR que contienen beans de empresa no requieren un descriptor de implementación 
              <code>ejb-jar.xml</code>. Si la aplicación usa <code>ejb-jar.xml</code>, debe estar ubicada en 
              el directorio <code>WEB-INF</code> del módulo WAR.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Los archivos JAR que contienen clases de enterprise beans empaquetados dentro de un módulo WAR 
              no se consideran archivos EJB JAR, incluso si el archivo JAR empaquetado se ajusta al formato de 
              un archivo EJB JAR. Los beans de empresa contenidos en el archivo JAR son semánticamente 
              equivalentes a los beans de empresa ubicados en el directorio <code>WEB-INF/classes</code> del 
              módulo WAR, y el espacio de nombres del entorno de todos los beans de empresa está dentro del 
              ámbito del módulo WAR.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Por ejemplo, suponga que una aplicación web consta de un enterprise bean de carro de la compra, 
              un enterprise bean de procesamiento de tarjetas de crédito y un front-end de servlet Java. El 
              bean de carrito de compras expone una vista local, sin interfaz y se define de la siguiente 
              manera:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
package com.example.cart;

@Stateless
public class CartBean { ... }
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              El bean de procesamiento de tarjetas de crédito está empaquetado dentro de su propio archivo 
              JAR, <code>cc.jar</code>, expone una vista local, sin interfaz, y se define de la siguiente 
              manera:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
package com.example.cc;

@Stateless
public class CreditCardBean { ... }
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              El servlet, <code>com.example.web.StoreServlet</code>, maneja la interfaz web y usa tanto 
              <code>CartBean</code> y <code>CreditCardBean</code>. El diseño del módulo WAR para esta 
              aplicación es el siguiente:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
WEB-INF/classes/com/example/cart/CartBean.class
WEB-INF/classes/com/example/web/StoreServlet
WEB-INF/lib/cc.jar
WEB-INF/ejb-jar.xml
WEB-INF/web.xml
              </code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="packaging001.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="packaging003.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
