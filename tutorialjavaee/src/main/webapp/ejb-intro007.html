<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Los Ciclos de Vida de los Enterprise Bean</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="ejb-intro006.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="ejb-intro008.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="GIPLJ">
      <h2 id="the-lifecycles-of-enterprise-beans">Los Ciclos de Vida de los Enterprise Bean</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            An enterprise bean goes through various stages during its lifetime, or lifecycle. Each type of enterprise bean (stateful session, stateless session, singleton session, or message-driven) has a different lifecycle.
          </p>
        </div>
        <div class="paragraph">
          <p>
            The descriptions that follow refer to methods that are explained along with the code examples in the next two chapters. If you are new to enterprise beans, you should skip this section and run the code examples first.
          </p>
        </div>
        <div class="paragraph">
          <p>Aquí se tratan los siguientes temas:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p><a href="#GIPLN">El Ciclo de Vida de un Bean de Sesión con Estado</a></p>
            </li>
            <li>
              <p><a href="#GIPLM">El Ciclo de Vida de un Bean de Sesión sin Estado</a></p>
            </li>
            <li>
              <p><a href="#GIPRX">El Ciclo de Vida de un Bean de Sesión Singleton</a></p>
            </li>
            <li>
              <p><a href="#GIPKW">El Ciclo de Vida de un Bean Controlado por Mensajes</a></p>
            </li>
          </ul>
        </div>
        <div class="sect2" id="GIPLN">
          <h3 id="the-lifecycle-of-a-stateful-session-bean">El Ciclo de Vida de un Bean de Sesión con Estado</h3>
          <div class="paragraph">
            <p>
              <a href="#GIPMI">Figure 35-2</a> illustrates the stages that a stateful session bean passes through during its lifetime. The client initiates the lifecycle by obtaining a reference to a stateful session bean. The container performs any dependency injection and then invokes the method annotated with <code>@PostConstruct</code>, if any. The bean is now ready to have its business methods invoked by the client.
            </p>
          </div>
          <div id="GIPMI" class="paragraph">
            <div class="title">
              <strong>Figure 35-2 Lifecycle of a Stateful Session Bean</strong>
            </div>
            <p>
              <span class="image">
                <img src="img/javaeett_dt_021.png" alt="Diagram showing the lifecycle of a stateful session bean.">
              </span>
            </p>
          </div>
          <div class="paragraph">
            <p>
              While in the ready stage, the EJB container may decide to deactivate, or passivate, the bean by moving it from memory to secondary storage. (Typically, the EJB container uses a least-recently-used algorithm to select a bean for passivation.) The EJB container invokes the method annotated <code>@PrePassivate</code>, if any, immediately before passivating it. If a client invokes a business method on the bean while it is in the passive stage, the EJB container activates the bean, calls the method annotated <code>@PostActivate</code>, if any, and then moves it to the ready stage.
            </p>
          </div>
          <div class="paragraph">
            <p>
              At the end of the lifecycle, the client invokes a method annotated <code>@Remove</code>, and the EJB container calls the method annotated <code>@PreDestroy</code>, if any. The bean's instance is then ready for garbage collection.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Your code controls the invocation of only one lifecycle method: the method annotated <code>@Remove</code>. All other methods in <a href="#GIPMI">Figure 35-2</a> are invoked by the EJB container. See <a href="resources.html#BNCJH">Capítulo 55, "Resource Adapters and Contracts"</a> for more information.
            </p>
          </div>
        </div>
        <div class="sect2" id="GIPLM">
          <h3 id="the-lifecycle-of-a-stateless-session-bean">El Ciclo de Vida de un Bean de Sesión sin Estado</h3>
          <div class="paragraph">
            <p>
              Because a stateless session bean is never passivated, its lifecycle has only two stages: nonexistent and ready for the invocation of business methods. <a href="#GIPNI">Figure 35-3</a> illustrates the stages of a stateless session bean.
            </p>
          </div>
          <div id="GIPNI" class="paragraph">
            <div class="title">
              <strong>Figure 35-3 Lifecycle of a Stateless or Singleton Session Bean</strong>
            </div>
            <p>
              <span class="image">
                <img src="img/javaeett_dt_022.png" 
                     alt="Diagram showing the lifecycle of a stateless or singleton session bean.">
              </span>
            </p>
          </div>
          <div class="paragraph">
            <p>
              The EJB container typically creates and maintains a pool of stateless session beans, beginning the stateless session bean's lifecycle. The container performs any dependency injection and then invokes the method annotated <code>@PostConstruct</code>, if it exists. The bean is now ready to have its business methods invoked by a client.
            </p>
          </div>
          <div class="paragraph">
            <p>
              At the end of the lifecycle, the EJB container calls the method annotated <code>@PreDestroy</code>, if it exists. The bean's instance is then ready for garbage collection.
            </p>
          </div>
        </div>
        <div class="sect2" id="GIPRX">
          <h3 id="the-lifecycle-of-a-singleton-session-bean">El Ciclo de Vida de un Bean de Sesión Singleton</h3>
          <div class="paragraph">
            <p>
              Like a stateless session bean, a singleton session bean is never passivated and has only two stages, nonexistent and ready for the invocation of business methods, as shown in <a href="#GIPNI">Figure 35-3</a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              The EJB container initiates the singleton session bean lifecycle by creating the singleton instance. This occurs upon application deployment if the singleton is annotated with the <code>@Startup</code> annotation. The container performs any dependency injection and then invokes the method annotated <code>@PostConstruct</code>, if it exists. The singleton session bean is now ready to have its business methods invoked by the client.
            </p>
          </div>
          <div class="paragraph">
            <p>
              At the end of the lifecycle, the EJB container calls the method annotated <code>@PreDestroy</code>, if it exists. The singleton session bean is now ready for garbage collection.
            </p>
          </div>
        </div>
        <div class="sect2" id="GIPKW">
          <h3 id="the-lifecycle-of-a-message-driven-bean">El Ciclo de Vida de un Bean Controlado por Mensajes</h3>
          <div class="paragraph">
            <p>
              <a href="#GIPLR">Figure 35-4</a> illustrates the stages in the lifecycle of a message-driven bean.
            </p>
          </div>
          <div id="GIPLR" class="paragraph">
            <div class="title"><strong>Figure 35-4 Lifecycle of a Message-Driven Bean</strong></div>
            <p>
              <span class="image">
                <img src="img/javaeett_dt_023.png" 
                     alt="Diagram showing the lifecycle of a message-driven bean.">
              </span>
            </p>
          </div>
          <div class="paragraph">
            <p>
              The EJB container usually creates a pool of message-driven bean instances. For each instance, the EJB container performs these tasks.
            </p>
          </div>
          <div class="olist arabic">
            <ol class="arabic">
              <li>
                <p>
                  If the message-driven bean uses dependency injection, the container injects these references before instantiating the instance.
                </p>
              </li>
              <li>
                <p>The container calls the method annotated <code>@PostConstruct</code>, if any.</p>
              </li>
            </ol>
          </div>
          <div class="paragraph">
            <p>
              Like a stateless session bean, a message-driven bean is never passivated and has only two states: nonexistent and ready to receive messages.
            </p>
          </div>
          <div class="paragraph">
            <p>
              At the end of the lifecycle, the container calls the method annotated <code>@PreDestroy</code>, if any. The bean's instance is then ready for garbage collection.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="ejb-intro006.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="ejb-intro008.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
