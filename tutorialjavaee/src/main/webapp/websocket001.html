<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Introducción al WebSocket</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="websocket.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="websocket002.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BABDABHF">
      <h2 id="introduction-to-websocket">Introducción al WebSocket</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            En el modelo tradicional de solicitud-respuesta utilizado en HTTP, el cliente solicita recursos y 
            el servidor proporciona respuestas. El intercambio siempre lo inicia el cliente; el servidor no 
            puede enviar ningún dato sin que el cliente lo solicite primero. Este modelo funcionó bien para la 
            World Wide Web cuando los clientes realizaban solicitudes ocasionales de documentos que cambiaban 
            con poca frecuencia, pero las limitaciones de este enfoque son cada vez más importantes ya que el 
            contenido cambia rápidamente y los usuarios esperan una experiencia más interactiva en la Web. El 
            protocolo WebSocket aborda estas limitaciones al proporcionar un canal de comunicación full-duplex 
            entre el cliente y el servidor. Combinado con otras tecnologías de cliente, como JavaScript y 
            HTML5, WebSocket permite que las aplicaciones web brinden una experiencia de usuario más rica.
          </p>
        </div>
        <div class="paragraph">
          <p>
            En una aplicación WebSocket, el servidor publica un punto final WebSocket y el cliente usa el URI 
            del punto final para conectarse al servidor. El protocolo WebSocket es simétrico una vez 
            establecida la conexión; el cliente y el servidor pueden enviarse mensajes entre sí en cualquier 
            momento mientras la conexión esté abierta, y pueden cerrar la conexión en cualquier momento. Los 
            clientes generalmente se conectan solo a un servidor y los servidores aceptan conexiones de 
            múltiples clientes.
          </p>
        </div>
        <div class="paragraph">
          <p>
            El protocolo WebSocket tiene dos partes: protocolo de enlace y transferencia de datos. El cliente 
            inicia el protocolo de enlace enviando una solicitud a un extremo de WebSocket utilizando su URI. 
            El protocolo de enlace es compatible con la infraestructura basada en HTTP existente: los 
            servidores web lo interpretan como una solicitud de actualización de conexión HTTP. Un ejemplo de 
            apretón de manos de un cliente se ve así:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
GET /path/to/websocket/endpoint HTTP/1.1
Host: localhost
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: xqBt3ImNzJbYqRINxEFlkg==
Origin: http://localhost
Sec-WebSocket-Version: 13
              </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Un apretón de manos de ejemplo del servidor en respuesta al cliente se ve así:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: K7DJLdLooIwIG/MOpvWFB3y3FE8=
            </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            El servidor aplica una operación conocida al valor del encabezado <code>Sec-WebSocket-Key</code> 
            para generar el valor del encabezado <code>Sec-WebSocket-Accept</code>. El cliente aplica la misma 
            operación al valor del encabezado <code>Sec-WebSocket-Key</code> y la conexión se establece 
            correctamente si el resultado coincide con el valor recibido del servidor. El cliente y el 
            servidor pueden enviarse mensajes entre sí después de un apretón de manos exitoso.
          </p>
        </div>
        <div class="paragraph">
          <p>
            WebSocket admite mensajes de texto (codificados como UTF-8) y mensajes binarios. Los marcos de 
            control en WebSocket son close, ping y pong (una respuesta a un marco de ping). Los marcos de ping 
            y pong también pueden contener datos de aplicaciones.
          </p>
        </div>
        <div class="paragraph">
          <p>Los puntos finales de WebSocket están representados por URI que tienen la siguiente forma:</p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
ws://host:port/path?query
wss://host:port/path?query
            </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            El esquema <code>ws</code> representa una conexión WebSocket sin cifrar y el esquema 
            <code>wss</code> representa una conexión cifrada. El componente <code>port</code> es opcional; el 
            número de puerto predeterminado es 80 para conexiones sin cifrar y 443 para conexiones cifradas. 
            El componente <code>path</code> indica la ubicación de un punto final dentro de un servidor. El 
            componente <code>query</code> es opcional.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Los navegadores web modernos implementan el protocolo WebSocket y proporcionan una IPA de 
            JavaScript para conectarse a puntos finales, enviar mensajes y asignar métodos de devolución de 
            llamada para eventos de WebSocket (como conexiones abiertas, mensajes recibidos y conexiones 
            cerradas).
          </p>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="websocket.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="websocket002.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
