<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Usando Anotaciones para Configurar Beans Gestionados</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-configure001.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-configure003.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="GIRCH">
      <h2 id="using-annotations-to-configure-managed-beans">
        Usando Anotaciones para Configurar Beans Gestionados
      </h2>
      <div class="sectionbody">
        <table class="tableblock frame-all grid-all spread">
          <colgroup>
            <col style="width: 100%;">
          </colgroup>
          <tbody>
            <tr>
              <td class="tableblock halign-left valign-top">
                <div>
                  <div class="paragraph lead">
                    <p>
                      <strong>Nota</strong>: En JSF 2.3, las anotaciones de beans gestionados están en desuso; 
                      CDI es ahora el enfoque preferido.
                    </p>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="paragraph">
          <p>
            El soporte de JavaServer Faces para anotaciones de bean se introduce en 
            <a href="jsf-intro.html#BNAPH">Capítulo 7, "Tecnología JavaServer Faces"</a>. Las anotaciones de 
            Bean se pueden utilizar para configurar aplicaciones JavaServer Faces.
          </p>
        </div>
        <div class="paragraph">
          <p>
            La anotación <code>@Named</code> (<code>javax.inject.Named</code>) en una clase, junto con una 
            anotación de alcance, registra automáticamente esa clase como un recurso con la implementación de 
            JavaServer Faces. Un bean que utiliza estas anotaciones es un bean gestionado por CDI.
          </p>
        </div>
        <div class="paragraph">
          <p>
            A continuación se muestra el uso de las anotaciones <code>@Named</code> y 
            <code>@SessionScoped</code> en una clase:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
@Named("cart")
@SessionScoped
public class ShoppingCart ... { ... }
            </code></pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            El fragmento de código anterior muestra un bean que es administrado por la implementación de 
            JavaServer Faces y está disponible durante la duración de la sesión.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Puede anotar beans con cualquiera de los ámbitos enumerados en la siguiente sección, 
            <a href="#GIRCR">Usando los Ámbitos de los Beans Gestionados</a>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Todas las clases se analizarán en busca de anotaciones al inicio, a menos que el elemento 
            <code>faces-config</code> en el archivo <code>faces-config.xml</code> tenga el atributo 
            <code>metadata-complete</code> establecido en <code>true</code>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Las anotaciones también están disponibles para otros artefactos, como componentes, convertidores, 
            validadores y renderizadores, que se utilizarán en lugar de las entradas del archivo de recursos 
            de configuración de la aplicación. Estos se analizan, junto con el registro de oyentes 
            personalizados, validadores personalizados y convertidores personalizados, en 
            <a href="jsf-custom.html#BNAVG">
              Capítulo 15, "Creando Componentes Personalizados de la IU y Otros Objetos Personalizados"
            </a>.
          </p>
        </div>
        <div class="sect2" id="GIRCR">
          <h3 id="using-managed-bean-scopes">Usando los Ámbitos de los Beans Gestionados</h3>
          <div class="paragraph">
            <p>
              Puede utilizar anotaciones para definir el ámbito en el que se almacenará el bean. Puede 
              especificar uno de los siguientes ámbitos para una clase de bean.
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>
                  Application (<code>javax.enterprise.context.ApplicationScoped</code>): el alcance de la 
                  aplicación persiste en todas las interacciones de los usuarios con una aplicación web.
                </p>
              </li>
              <li>
                <p>
                  Session (<code>javax.enterprise.context.SessionScoped</code>): El alcance de la sesión 
                  persiste en varias solicitudes HTTP en una aplicación web.
                </p>
              </li>
              <li>
                <p>
                  Flow (<code>javax.faces.flows.FlowScoped</code>): El alcance del flujo persiste durante la 
                  interacción de un usuario con un flujo específico de una aplicación web. Ver 
                  <a href="jsf-configure004.html#CHDGFCJF">Usando los Flujos de Faces</a> para más 
                  información.
                </p>
              </li>
              <li>
                <p>
                  Request (<code>javax.enterprise.context.RequestScoped</code>): El alcance de la solicitud 
                  persiste durante una única solicitud HTTP en una aplicación web.
                </p>
              </li>
              <li>
                <p>
                  Dependent (<code>javax.enterprise.context.Dependent</code>): Indica que el bean depende de 
                  algún otro bean.
                </p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              Es posible que desee utilizar <code>@Dependent</code> cuando un bean gestionado hace referencia 
              a otro bean gestionado. El segundo bean no debe estar en un alcance (<code>@Dependent</code>) si 
              se supone que debe crearse solo cuando se hace referencia a él. Si define un bean como 
              <code>@Dependent</code>, el bean se instancia de nuevo cada vez que se hace referencia a él, por 
              lo que no se guarda en ningún ámbito.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si su bean gestionado es referenciado por el atributo <code>binding</code> de una etiqueta de 
              componente, debe definir el bean con un alcance de solicitud. Si colocó el bean en el ámbito de 
              la sesión o de la aplicación, el bean necesitaría tomar precauciones para garantizar la 
              seguridad del subproceso, porque las instancias de 
              <code>javax.faces.component.UIComponent</code> dependen de que se ejecuten dentro de un solo 
              subproceso.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si está configurando un bean que permite asociar atributos con la vista, puede usar el alcance 
              de la vista. Los atributos persisten hasta que el usuario navega a la siguiente vista.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-configure001.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-configure003.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
