<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Inyectando Objetos Usando Métodos del Productor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="cdi-basic011.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-basic013.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="GJDID">
      <h2 id="injecting-objects-by-using-producer-methods">
        Inyectando Objetos Usando Métodos del Productor
      </h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Los métodos de Producer proporcionan una forma de inyectar objetos que no son beans, objetos cuyos 
            valores pueden variar en tiempo de ejecución y objetos que requieren una inicialización 
            personalizada. Por ejemplo, si desea inicializar un valor numérico definido por un calificador 
            llamado <code>@MaxNumber</code>, puede definir el valor en un bean administrado y luego definir un 
            método productor, <code>getMaxNumber</code >, para ello:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
private int maxNumber = 100;
...
@Produces @MaxNumber int getMaxNumber() {
    return maxNumber;
}
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Cuando inyecta el objeto en otro bean administrado, el contenedor invoca automáticamente el método 
            productor, inicializando el valor a 100:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
@Inject @MaxNumber private int maxNumber;
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Si el valor puede variar en tiempo de ejecución, entonces el proceso es ligeramente diferente. Por 
            ejemplo, el siguiente código define un método productor que genera un número aleatorio definido 
            por un calificador llamado <code>@Random</code>:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
private java.util.Random random =
    new java.util.Random( System.currentTimeMillis() );
java.util.Random getRandom() {
        return random;
}
@Produces @Random int next() {
    return getRandom().nextInt(maxNumber);
}
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>
            Cuando inyecta este objeto en otro bean administrado, declara una instancia contextual del objeto:
          </p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
@Inject @Random Instance&lt;Integer&gt; randomInt;
              </code>
            </pre>
          </div>
        </div>
        <div class="paragraph">
          <p>Luego llama al método <code>get</code> de la <code>Instance</code>:</p>
        </div>
        <div class="listingblock">
          <div class="content">
            <pre class="prettyprint highlight">
              <code class="language-oac_no_warn" data-lang="oac_no_warn">
this.number = randomInt.get();
              </code>
            </pre>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="cdi-basic011.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="cdi-basic013.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
