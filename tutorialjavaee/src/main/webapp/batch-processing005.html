<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Creación de Artefactos por Lotes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="batch-processing004.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="batch-processing006.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BCGHDHGH">
      <h2 id="creating-batch-artifacts">Creación de Artefactos por Lotes</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Después de definir un trabajo en términos de sus artefactos por lotes mediante el Lenguaje de 
            Especificación de Trabajos (JSL), crea estos artefactos como clases Java que implementan las 
            interfaces en el paquete <code>javax.batch.api</code> y sus subpaquetes.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Esta sección enumera las principales interfaces de artefactos por lotes, demuestra cómo acceder a 
            los objetos de contexto desde el tiempo de ejecución por lotes y proporciona algunos ejemplos.
          </p>
        </div>
        <div class="paragraph">
          <p>Aquí se tratan los siguientes temas:</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p><a href="#BABDAIBI">Interfaces de Artefactos por Lotes</a></p>
            </li>
            <li>
              <p><a href="#BCGIFJBB">Inyección de Dependencia en Artefactos por Lotes</a></p>
            </li>
            <li>
              <p><a href="#BCGCJEEF">Uso de los Objetos de Contexto del Tiempo de Ejecución  de Batch</a></p>
            </li>
          </ul>
        </div>
        <div class="sect2" id="BABDAIBI">
          <h3 id="batch-artifact-interfaces">Interfaces de Artefactos por Lotes</h3>
          <div class="paragraph">
            <p>
              Las siguientes tablas enumeran las interfaces que implementa para crear artefactos por lotes. 
              Las implementaciones de la interfaz se referencian a partir de los elementos descritos en 
              <a href="batch-processing004.html#BCGDDBBG">Uso del Lenguaje de Especificación de Trabajos</a>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              <a href="#BCGGCIDC">Tabla 58-3</a> enumera las interfaces para implementar artefactos por lotes 
              para pasos de fragmentos, pasos de tareas y elementos de decisión.
            </p>
          </div>
          <div class="paragraph">
            <p>
              <a href="#BCGEAAEA">Tabla 58-4</a> enumera las interfaces para implementar artefactos por lotes 
              para pasos particionados.
            </p>
          </div>
          <div class="paragraph">
            <p>
              <a href="#BCGCAEDI">Tabla 58-5</a> enumera las interfaces para implementar artefactos por lotes 
              para escuchas de trabajos y pasos.
            </p>
          </div>
          <div class="paragraph">
            <p><a id="sthref279"></a><a id="BCGGCIDC"></a></p>
          </div>
          <div class="paragraph">
            <p><strong>Tabla 58-3 Interfaces de artefactos de lote principal</strong></p>
          </div>
          <table class="tableblock frame-all grid-all" style="width: 99%;">
            <colgroup>
              <col style="width: 15%;">
              <col style="width: 15%;">
              <col style="width: 70%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Paquete</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Interfaz</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Descripción</strong></p></td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>Batchlet</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Implementa la lógica empresarial de un paso orientado a tareas. Se hace referencia desde 
                    el elemento <code>batchlet</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>Decider</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Decide el siguiente paso, flujo o división para ejecutar en función de la información de 
                    la ejecución del paso, flujo o división anterior. Se hace referencia desde el elemento 
                    <code>decision</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>CheckPointAlgorithm</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Implementa una política de punto de control personalizada para pasos de fragmentos. Se 
                    hace referencia desde el elemento <code>checkpoint-algorithm</code> dentro del elemento 
                    <code>chunk</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ItemReader</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Lee elementos de una fuente de entrada en un paso de fragmento. Se hace referencia desde 
                    el elemento <code>reader</code> dentro del elemento <code>chunk</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ItemProcessor</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Procesa elementos de entrada para obtener elementos de salida en pasos de fragmentos. Se 
                    hace referencia desde el elemento <code>processor</code> dentro del elemento 
                    <code>chunk</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ItemWriter</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Escribe elementos de salida en pasos de fragmentos. Se hace referencia desde el elemento 
                    <code>writer</code> dentro del elemento <code>chunk</code>.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="paragraph">
            <p><a id="sthref280"></a><a id="BCGEAAEA"></a></p>
          </div>
          <div class="paragraph">
            <p>Tabla 58-4 Interfaces de artefactos por lotes de partición</p>
          </div>
          <table class="tableblock frame-all grid-all" style="width: 99%;">
            <colgroup>
              <col style="width: 15%;">
              <col style="width: 15%;">
              <col style="width: 70%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Paquete</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Interfaz</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Descripción</strong></p></td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.partition</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>PartitionPlan</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Proporciona detalles sobre cómo ejecutar un paso particionado, como la cantidad de 
                    particiones, la cantidad de subprocesos y los parámetros para cada partición. No se hace 
                    referencia directamente a este artefacto desde el archivo de definición de trabajo.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.partition</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>PartitionMapper</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Proporciona un objeto <code>PartitionPlan</code>. Se hace referencia desde el elemento 
                    <code>mapper</code> dentro del elemento <code>partition</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.partition</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>PartitionReducer</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Recibe el control cuando un paso particionado comienza, finaliza o retrocede. Se hace 
                    referencia desde el elemento <code>reductor</code> dentro del elemento 
                    <code>partition</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.partition</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>PartitionCollector</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Envía resultados intermedios de cada partición a un analizador de particiones. Se hace 
                    referencia desde el elemento <code>collector</code> dentro del elemento 
                    <code>partition</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.partition</code></p>
                </td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>PartitionAnalyzer</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Procesa los datos y los resultados finales de cada partición. Se hace referencia desde el 
                    elemento <code>analyzer</code> dentro del elemento <code>partition</code>.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="paragraph">
            <p><a id="sthref281"></a><a id="BCGCAEDI"></a></p>
          </div>
          <div class="paragraph">
            <p><strong>Tabla 58-5 Interfaces de artefactos por lotes de escucha</strong></p>
          </div>
          <table class="tableblock frame-all grid-all" style="width: 99%;">
            <colgroup>
              <col style="width: 15%;">
              <col style="width: 15%;">
              <col style="width: 70%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Paquete</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Interfaz</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Descripción</strong></p></td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>JobListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta la ejecución del trabajo antes y después de ejecutar un trabajo. Se hace 
                    referencia desde el elemento <code>listener</code> dentro del elemento <code>job</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>StepListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta la ejecución del paso antes y después de ejecutar un paso. Se hace referencia 
                    desde el elemento <code>listener</code> dentro del elemento <code>step</code>
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p>
                </td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ChunkListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta el procesamiento de fragmentos en pasos de fragmentos antes y después de 
                    procesar cada fragmento, y en caso de errores. Se hace referencia desde el elemento 
                    <code>listener</code> dentro del elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ItemReadListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta la lectura de elementos en pasos de fragmentos antes y después de leer cada 
                    elemento y en los errores. Se hace referencia desde el elemento <code>listener</code> 
                    dentro del elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ItemProcessListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta el procesamiento de elementos en pasos de fragmentos antes y después de 
                    procesar cada elemento y en caso de errores. Se hace referencia desde el elemento 
                    <code>listener</code> dentro del elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>ItemWriteListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta la escritura de elementos en pasos de fragmentos antes y después de escribir 
                    cada elemento y en los errores. Se hace referencia desde el elemento <code>listener</code> 
                    dentro del elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>RetryReadListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta la lectura de elementos de reintento en pasos de fragmentos cuando se produce 
                    una excepción. Se hace referencia desde el elemento <code>listener</code> dentro del 
                    elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>RetryProcessListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta el procesamiento de elementos de reintento en pasos de fragmentos cuando se 
                    produce una excepción. Se hace referencia desde el elemento <code>listener</code> dentro 
                    del elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>RetryWriteListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta la escritura de elementos de reintento en pasos de fragmentos cuando se produce 
                    una excepción. Se hace referencia desde el elemento <code>listener</code> dentro del 
                    elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>SkipReadListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta el manejo de excepciones que se pueden omitir para los lectores de elementos en 
                    pasos de fragmentos. Se hace referencia desde el elemento <code>listener</code> dentro del 
                    elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>SkipProcessListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta el manejo de excepciones que se pueden omitir para los procesadores de 
                    elementos en pasos de fragmentos. Se hace referencia desde el elemento 
                    <code>listener</code> dentro del elemento <code>step</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>javax.batch.api.chunk.listener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>SkipWriteListener</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Intercepta el manejo de excepciones que se pueden omitir para escritores de elementos en 
                    pasos de fragmentos. Se hace referencia desde el elemento <code>listener</code> dentro del 
                    elemento <code>step</code>.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="sect2" id="BCGIFJBB">
          <h3 id="dependency-injection-in-batch-artifacts">
            Inyección de Dependencia en Artefactos por Lotes
          </h3>
          <div class="paragraph">
            <p>
              Para asegurarse de que Contexts and Dependency Injection (CDI) funcione en sus artefactos por 
              lotes, siga estos pasos.
            </p>
          </div>
          <div class="olist arabic">
            <ol class="arabic">
              <li>
                <p>
                  Defina sus implementaciones de artefactos por lotes como beans con nombre CDI utilizando la 
                  anotación <code>Named</code>.
                </p>
                <div class="paragraph">
                  <p>
                    Por ejemplo, defina una implementación de lector de elementos en un paso de fragmento de 
                    la siguiente manera:
                  </p>
                </div>
                <div class="listingblock">
                  <div class="content">
                    <pre class="prettyprint highlight">
                      <code class="language-oac_no_warn" data-lang="oac_no_warn">
@Named("MyItemReaderImpl")
public class MyItemReaderImpl implements ItemReader {
    /* ... Override the ItemReader interface methods ... */
}
                      </code>
                    </pre>
                  </div>
                </div>
              </li>
              <li>
                <p>
                  Proporcione un constructor público, vacío y sin argumentos para sus artefactos por lotes.
                </p>
                <div class="paragraph">
                  <p>Por ejemplo, proporcione el siguiente constructor para el artefacto anterior:</p>
                </div>
                <div class="listingblock">
                  <div class="content">
                    <pre class="prettyprint highlight">
                      <code class="language-oac_no_warn" data-lang="oac_no_warn">
public MyItemReaderImpl() {}
                      </code>
                    </pre>
                  </div>
                </div>
              </li>
              <li>
                <p>
                  Especifique el nombre de CDI para los artefactos por lotes en el archivo de definición de 
                  trabajo, en lugar de utilizar el nombre completo de la clase.
                </p>
                <div class="paragraph">
                  <p>Por ejemplo, defina el paso para el artefacto anterior de la siguiente manera:</p>
                </div>
                <div class="listingblock">
                  <div class="content">
                    <pre class="prettyprint highlight">
                      <code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;step id="stepA" next="stepB"&gt;
  &lt;chunk&gt;
    &lt;reader ref="MyItemReaderImpl"&gt;&lt;/reader&gt;
    ...
  &lt;/chunk&gt;
&lt;/step&gt;
                      </code>
                    </pre>
                  </div>
                </div>
                <div class="paragraph">
                  <p>
                    Este ejemplo utiliza el nombre de CDI (<code>MyItemReaderImpl</code>) en lugar del nombre 
                    completo de la clase (<code>com.example.pkg.MyItemReaderImpl</code>) para especificar un 
                    artefacto por lotes.
                  </p>
                </div>
              </li>
              <li>
                <p>
                  Asegúrese de que su módulo sea un archivo de bean CDI al anotar sus artefactos por lotes con 
                  la anotación <code>javax.enterprise.context.Dependent</code> o al incluir una descripción de 
                  implementación <code>beans.xml</code> vacía con su solicitud. Por ejemplo, el siguiente 
                  artefacto por lotes se anota con <code>@Dependent</code>:
                </p>
                <div class="listingblock">
                  <div class="content">
                    <pre class="prettyprint highlight">
                      <code class="language-oac_no_warn" data-lang="oac_no_warn">
@Dependent
@Named("MyItemReaderImpl")
public class MyItemReaderImpl implements ItemReader { ... }
                      </code>
                    </pre>
                  </div>
                </div>
                <div class="paragraph">
                  <p>
                    Para más información sobre archivos bean, ver 
                    <a href="cdi-adv001.html#CACDCFDE">Empaquetando Aplicaciones CDI</a> en 
                    <a href="cdi-adv.html#GJEHI">
                      Capítulo 27, "Contextos y Inyección de dependencia para Java EE: temas avanzados"
                    </a>.
                  </p>
                </div>
              </li>
            </ol>
          </div>
          <table class="tableblock frame-all grid-all spread">
            <colgroup>
              <col style="width: 100%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <div>
                    <div class="paragraph">
                      <p>Nota:</p>
                    </div>
                    <div class="paragraph">
                      <p>
                        Se requiere Contextos e Inyección de Dependencia (CDI) para acceder a objetos de 
                        contexto desde el tiempo de ejecución por lotes en artefactos por lotes.
                      </p>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="paragraph">
            <p>Puede encontrar los siguientes errores si no sigue este procedimiento.</p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>El tiempo de ejecución por lotes no puede localizar algunos artefactos por lotes.</p>
              </li>
              <li>
                <p>
                  Los artefactos por lotes arrojan excepciones de puntero nulo al acceder a objetos 
                  inyectados.
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect2" id="BCGCJEEF">
          <h3 id="using-the-context-objects-from-the-batch-runtime">
            Uso de los Objetos de Contexto del Tiempo de Ejecución de Batch
          </h3>
          <div class="paragraph">
            <p>
              El tiempo de ejecución por lotes proporciona objetos de contexto que implementan las interfaces 
              <code>JobContext</code> y <code>StepContext</code> en el paquete 
              <code>javax.batch.runtime.context</code>. Estos objetos están asociados con el trabajo y el paso 
              actual, respectivamente, y le permiten hacer lo siguiente:
            </p>
          </div>
          <div class="ulist">
            <ul>
              <li>
                <p>
                  Obtenga información del trabajo o paso actual, como su nombre, ID de instancia, ID de 
                  ejecución, estado del lote y estado de salida
                </p>
              </li>
              <li>
                <p>Establecer el estado de salida definido por el usuario</p>
              </li>
              <li>
                <p>Almacenar datos de usuario</p>
              </li>
              <li>
                <p>Obtener valores de propiedad de la definición de paso o trabajo</p>
              </li>
            </ul>
          </div>
          <div class="paragraph">
            <p>
              Puede inyectar objetos de contexto desde el tiempo de ejecución por lotes dentro de 
              implementaciones de artefactos por lotes como lectores de elementos, procesadores de elementos, 
              escritores de elementos, lotes, escuchas, etc. El siguiente ejemplo muestra cómo acceder a los 
              valores de propiedad del archivo de definición de trabajo en una implementación de lector de 
              elementos:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight">
                <code class="language-oac_no_warn" data-lang="oac_no_warn">
@Dependent
@Named("MyItemReaderImpl")
public class MyItemReaderImpl implements ItemReader {
    @Inject
    JobContext jobCtx;
    public MyItemReaderImpl() {}
    @Override
    public void open(Serializable checkpoint) throws Exception {
        String fileName = jobCtx.getProperties()
                                .getProperty("log_file_name");
        ...
    }
    ...
}
                </code>
              </pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Consulte <a href="#BCGIFJBB">Inyección de Dependencia en Artefactos por Lotes</a> para obtener 
              instrucciones sobre cómo definir sus artefactos por lotes para usar la inyección de dependencia.
            </p>
          </div>
          <table class="tableblock frame-all grid-all spread">
            <colgroup>
              <col style="width: 100%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <div>
                    <div class="paragraph">
                      <p><strong>Nota</strong>:</p>
                    </div>
                    <div class="paragraph">
                      <p>No acceda a objetos de contexto por lotes dentro de constructores de artefactos.</p>
                    </div>
                    <div class="paragraph">
                      <p>
                        Debido a que el trabajo no se ejecuta hasta que lo envía al tiempo de ejecución por 
                        lotes, los objetos de contexto por lotes no están disponibles cuando CDI crea una 
                        instancia de sus artefactos al cargar su aplicación. La creación de instancias de 
                        estos beans falla y el tiempo de ejecución por lotes no puede encontrar sus artefactos 
                        por lotes cuando su aplicación envía el trabajo.
                      </p>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="batch-processing004.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="batch-processing006.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
