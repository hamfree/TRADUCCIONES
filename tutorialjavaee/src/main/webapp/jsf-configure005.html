<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Configurando Beans Gestionados</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
    <table id="doc-title" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left" valign="top">
          <b>Plataforma Java, Edición Empresarial (Java EE) 8</b><br />
          <b>El Tutorial de Java EE</b>
        </td>
      </tr>
    </table>
    <hr />
    <table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>
        <td align="left">
          <a href="jsf-configure004.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-configure006.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <div class="sect1" id="BNAWQ">
      <h2 id="configuring-managed-beans">Configurando Beans Gestionados</h2>
      <div class="sectionbody">
        <div class="paragraph">
          <p>
            Cuando una página hace referencia a un bean gestionado por primera vez, la implementación de 
            JavaServer Faces lo inicializa basándose en una anotación <code>@Named</code> y una anotación de 
            alcance en la clase de bean o de acuerdo con su configuración en el archivo de recursos de 
            configuración de la aplicación. Para obtener información sobre el uso de anotaciones para 
            inicializar beans, consulte 
            <a href="jsf-configure002.html#GIRCH">Usando Anotaciones para Configurar Beans Gestionados</a>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Puede utilizar anotaciones o el archivo de recursos de configuración de la aplicación para crear 
            instancias de beans gestionados que se utilizan en una aplicación JavaServer Faces y almacenarlos 
            en el ámbito. La función de creación de beans gestionados se configura en el archivo de recursos 
            de configuración de la aplicación utilizando elementos XML <code>managed-bean</code> para definir 
            cada bean. Este archivo se procesa en el momento del inicio de la aplicación. Para obtener 
            información sobre el uso de esta función, consulte 
            <a href="#BNAWR">Usando el bean gestionado Element</a>.
          </p>
        </div>
        <div class="paragraph">
          <p>
            Los beans gestionados creados en el archivo de recursos de configuración de la aplicación son 
            beans gestionados de JavaServer Faces, no beans gestionados por CDI.
          </p>
        </div>
        <div class="paragraph">
          <p>Con la función de creación de bean gestionado, puede</p>
        </div>
        <div class="ulist">
          <ul>
            <li>
              <p>
                Crear beans en un archivo centralizado que esté disponible para toda la aplicación, en lugar 
                de instanciar beans de forma condicional en toda la aplicación.
              </p>
            </li>
            <li>
              <p>Personalice las propiedades de un bean sin ningún código adicional</p>
            </li>
            <li>
              <p>
                Personalice los valores de propiedad de un bean directamente desde el archivo de configuración 
                para que se inicialice con estos valores cuando se cree
              </p>
            </li>
            <li>
              <p>
                Usando elementos <code>value</code>, establezca una propiedad de un bean gestionado para que 
                sea el resultado de evaluar otra expresión de valor
              </p>
            </li>
          </ul>
        </div>
        <div class="paragraph">
          <p>
            Esta sección le muestra cómo inicializar beans utilizando la función de creación de beans 
            gestionados. Ver <a href="jsf-develop002.html#BNATY">Escribiendo Propiedades del Bean</a> y 
            <a href="jsf-develop003.html#BNAVB">Escribiendo Métodos de Bean Gestionado</a> para obtener 
            información sobre la programación de beans gestionados.
          </p>
        </div>
        <div class="sect2" id="BNAWR">
          <h3 id="using-the-managed-bean-element">Usando el bean gestionado Element</h3>
          <div class="paragraph">
            <p>
              Un bean gestionado se inicia en el archivo de recursos de configuración de la aplicación 
              utilizando un elemento <code>managed-bean</code>, que representa una instancia de una clase de 
              bean que debe existir en la aplicación. En tiempo de ejecución, la implementación de JavaServer 
              Faces procesa el elemento <code>managed-bean</code>. Si una página hace referencia al bean y no 
              existe una instancia de bean, la implementación de JavaServer Faces crea una instancia del bean 
              según lo especificado por la configuración del elemento.
            </p>
          </div>
          <div class="paragraph">
            <p>A continuación, se muestra un ejemplo de configuración de bean administrado del caso de estudio 
              de Duke's Bookstore:</p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean eager="true"&gt;
    &lt;managed-bean-name&gt;Book201&lt;/managed-bean-name&gt;
    &lt;managed-bean-class&gt;dukesbookstore.model.ImageArea&lt;/managed-bean-class&gt;
    &lt;managed-bean-scope&gt;application&lt;/managed-bean-scope&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;shape&lt;/property-name&gt;
        &lt;value&gt;rect&lt;/value&gt;
    &lt;/managed-property&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;alt&lt;/property-name&gt;
        &lt;value&gt;Duke&lt;/value&gt;
    &lt;/managed-property&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;coords&lt;/property-name&gt;
        &lt;value&gt;67,23,212,268&lt;/value&gt;
    &lt;/managed-property&gt;
&lt;/managed-bean&gt;
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              El elemento <code>managed-bean-name</code> define la clave bajo la cual se almacenará el bean en 
              un ámbito. Para que el valor de un componente se asigne a este bean, el atributo 
              <code>value</code> de la etiqueta del componente debe coincidir con el 
              <code>managed-bean-name</code> hasta el primer punto.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El elemento <code>managed-bean-class</code> define el nombre completo de la clase de componente 
              JavaBeans utilizada para instanciar el bean.
            </p>
          </div>
          <div class="paragraph">
            <p>
              El elemento <code>managed-bean</code> puede contener cero o más elementos 
              <code>managed-property</code>, cada uno correspondiente a una propiedad definida en la clase de 
              bean. Estos elementos se utilizan para inicializar los valores de las propiedades del bean. Si 
              no desea que una propiedad en particular se inicialice con un valor cuando se crea una instancia 
              del bean, no incluya una definición de <code>managed-property</code> para ella en el archivo de 
              recursos de configuración de su aplicación.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Si un elemento <code>managed-bean</code> no contiene otros elementos <code>managed-bean</code>, 
              puede contener un elemento <code>map-entries</code> o un elemento <code>list-entries</code>. El 
              elemento <code>map-entries</code> configura un conjunto de beans que son instancias de 
              <code>Map</code>. El elemento <code>list-entries</code> configura un conjunto de beans que son 
              instancias de <code>List</code>.
            </p>
          </div>
          <div class="paragraph">
            <p>
              En el siguiente ejemplo, el bean gestionado <code>newsletters</code>, que representa un 
              componente <code>UISelectItems</code>, se configura como un <code>ArrayList</code> que 
              representa un conjunto de objetos <code>SelectItem</code> . Cada objeto <code>SelectItem</code> 
              se configura a su vez como un bean gestionado con propiedades:
            </p>
          </div>
          <div class="listingblock">
            <div class="content">
              <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean&gt;
    &lt;managed-bean-name&gt;newsletters&lt;/managed-bean-name&gt;
    &lt;managed-bean-class&gt;java.util.ArrayList&lt;/managed-bean-class&gt;
    &lt;managed-bean-scope&gt;application&lt;/managed-bean-scope&gt;
    &lt;list-entries&gt;
        &lt;value-class&gt;javax.faces.model.SelectItem&lt;/value-class&gt;
        &lt;value&gt;#{newsletter0}&lt;/value&gt;
        &lt;value&gt;#{newsletter1}&lt;/value&gt;
        &lt;value&gt;#{newsletter2}&lt;/value&gt;
        &lt;value&gt;#{newsletter3}&lt;/value&gt;
    &lt;/list-entries&gt;
&lt;/managed-bean&gt;
&lt;managed-bean&gt;
    &lt;managed-bean-name&gt;newsletter0&lt;/managed-bean-name&gt;
    &lt;managed-bean-class&gt;javax.faces.model.SelectItem&lt;/managed-bean-class&gt;
    &lt;managed-bean-scope&gt;none&lt;/managed-bean-scope&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;label&lt;/property-name&gt;
        &lt;value&gt;Duke's Quarterly&lt;/value&gt;
    &lt;/managed-property&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;value&lt;/property-name&gt;
        &lt;value&gt;200&lt;/value&gt;
    &lt;/managed-property&gt;
&lt;/managed-bean&gt;
...
              </code></pre>
            </div>
          </div>
          <div class="paragraph">
            <p>
              Este enfoque puede ser útil para la creación rápida y sucia de listas de elementos de selección 
              antes de que un equipo de desarrollo haya tenido tiempo de crear dichas listas a partir de la 
              base de datos. Tenga en cuenta que cada uno de los beans individuales de newsletters tiene un 
              valor de <code>managed-bean-scope</code> de <code>none</code> para que ellos mismos no se 
              coloquen en ningún ámbito.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Vea <a href="#BNAWX">Inicializando las Propiedades de Matrices y Listas</a> para obtener más 
              información sobre la configuración de colecciones como beans.
            </p>
          </div>
          <div class="paragraph">
            <p>
              Para mapear una propiedad definida por un elemento <code>managed-property</code>, debe 
              asegurarse de que la parte de la expresión <code>value</code> de una etiqueta de componente 
              después del punto coincida con el  elemento <code>property-name</code> del elemento 
              <code>managed-property</code>. La siguiente sección, 
              <a href="#BNAWS">Inicializando Propiedades Usando la propiedad gestionada Element</a>, explica 
              con más detalle cómo utilizar el elemento <code>managed-property</code>. Ver 
              <a href="#BNAWY">Inicializando las Propiedades de un Bean Gestionado</a> para ver un ejemplo de 
              inicialización de una propiedad de bean administrada.
            </p>
          </div>
        </div>
        <div class="sect2" id="BNAWS">
          <h3 id="initializing-properties-using-the-managed-property-element">
            Inicializando Propiedades Usando la propiedad gestionada Element
          </h3>
          <div class="paragraph">
            <p>
              Un elemento <code>managed-property</code> debe contener un elemento <code>property-name</code>, 
              que debe coincidir con el nombre de la propiedad correspondiente en el bean. Un elemento 
              <code>managed-property</code> también debe contener uno de un conjunto de elementos que defina 
              el valor de la propiedad. Este valor debe ser del mismo tipo que el definido para la propiedad 
              en el bean correspondiente. El elemento que utilice para definir el valor depende del tipo de 
              propiedad definida en el bean. La <a href="#BNAWT">tabla 16-1</a> enumera todos los elementos 
              que se utilizan para inicializar un valor.
            </p>
          </div>
          <div class="paragraph">
            <p><a id="sthref94"></a><a id="BNAWT"></a></p>
          </div>
          <div class="paragraph">
            <p>
              <strong>
                Tabla 16-1 Subelementos de Elementos de managed-property Que Definen Valores de Propiedad
              </strong>
            </p>
          </div>
          <table class="tableblock frame-all grid-all" style="width: 75%;">
            <colgroup>
              <col style="width: 33.3333%;">
              <col style="width: 66.6667%;">
            </colgroup>
            <tbody>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Elemento</strong></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><strong>Valor Que Define</strong></p></td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>list-entries</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">Define los valores en una lista</p></td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>map-entries</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">Define los valores de un mapa</p></td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>null-value</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">Establece explícitamente la propiedad en <code>null</code></p>
                </td>
              </tr>
              <tr>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock"><code>value</code></p></td>
                <td class="tableblock halign-left valign-top">
                  <p class="tableblock">
                    Define un valor único, como una expresión <code>String</code>, <code>int</code> o EL de 
                    JavaServer Faces
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="paragraph">
            <p>
              <a href="#BNAWR">Usando el bean gestionado Element</a> incluye un ejemplo de inicialización de 
              una propiedad <code>int</code> (un tipo primitivo) usando el subelemento <code>value</code>. 
              También usa el subelemento <code>value</code> para inicializar <code>String</code> y otros tipos 
              de referencia. El resto de esta sección describe cómo usar el subelemento <code>value</code> 
              y otros subelementos para inicializar las propiedades de los tipos Java <code>Enum</code>, 
              <code>Map</code>, <code>array</code> y <code>Collection</code>, así como los parámetros de 
              inicialización.
            </p>
          </div>
          <div class="sect3" id="BNAWU">
            <h4 id="referencing-a-java-enum-type">Referenciando un Tipo Enum de Java</h4>
            <div class="paragraph">
              <p>
                Una propiedad de bean gestionado también puede ser un tipo Java <code>Enum</code> (consulte 
                <code>
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html" class="bare">
                    http://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html
                  </a>
                </code>). En este caso, el elemento <code>value</code> del elemento 
                <code>managed-property</code> debe ser una <code>String</code> que coincida con uno de las 
                constantes <code>String </code> del <code>Enum</code>. En otras palabras, <code>String</code> 
                debe ser uno de los valores válidos que se pueden devolver si llama a 
                <code>valueOf(Class, String)</code> en <code>enum </code>, donde <code>Class</code> es la 
                clase <code>Enum</code> y <code>String</code> es el contenido del subelemento 
                <code>value</code>. Por ejemplo, suponga que la propiedad del bean gestionado es la siguiente:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
public enum Suit { Hearts, Spades, Diamonds, Clubs }
 ...
public Suit getSuit() { ... return Suit.Hearts; }
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Suponiendo que desea configurar esta propiedad en el archivo de recursos de configuración de 
                la aplicación, el elemento <code>managed-property</code> correspondiente se ve así:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-property&gt;
    &lt;property-name&gt;Suit&lt;/property-name&gt;
    &lt;value&gt;Hearts&lt;/value&gt;
&lt;/managed-property&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Cuando el sistema encuentra esta propiedad, itera sobre cada uno de los miembros del 
                <code>enum</code> y llama a <code>toString()</code> en cada miembro hasta que encuentra uno 
                que es exactamente igual al valor del elemento <code>value</code>.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNAWV">
            <h4 id="referencing-a-context-initialization-parameter">
              Referenciando un Parámetro de Inicialización de Contexto
            </h4>
            <div class="paragraph">
              <p>
                Otra característica poderosa de la función de creación de bean gestionado es la capacidad de 
                hacer referencia a objetos implícitos desde una propiedad de bean gestionado.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Suponga que tiene una página que acepta datos de un cliente, incluida la dirección del 
                cliente. Suponga también que la mayoría de sus clientes viven en un código de área en 
                particular. Puede hacer que el componente de código de área represente este código de área 
                guardándolo en un objeto implícito y haciendo referencia a él cuando se procesa la página.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Puede guardar el código de área como un valor predeterminado inicial en el objeto implícito 
                del contexto <code>initParam</code> agregando un parámetro de contexto a su aplicación web y 
                estableciendo su valor en el descriptor de implementación. Por ejemplo, para establecer un 
                parámetro de contexto llamado <code>defaultAreaCode</code> en <code>650</code>, agregue un 
                elemento <code>context-param</code> al descriptor de implementación y asigne el nombre al 
                parámetro <code>defaultAreaCode</code> y el valor <code>650</code>.
              </p>
            </div>
            <div class="paragraph">
              <p>
                A continuación, escriba una declaración <code>managed-bean</code> que configure una propiedad 
                que haga referencia al parámetro:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean&gt;
    &lt;managed-bean-name&gt;customer&lt;/managed-bean-name&gt;
        &lt;managed-bean-class&gt;CustomerBean&lt;/managed-bean-class&gt;
        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;
        &lt;managed-property&gt;
            &lt;property-name&gt;areaCode&lt;/property-name&gt;
                &lt;value&gt;#{initParam.defaultAreaCode}&lt;/value&gt;
            &lt;/managed-property&gt;
            ...
&lt;/managed-bean&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Para acceder al código de área en el momento en que se representa la página, consulte la 
                propiedad del atributo <code>value</code> de la etiqueta del componente <code>area</code>:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;h:inputText id=area value="#{customer.areaCode}"
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>Los valores se recuperan de otros objetos implícitos de forma similar.</p>
            </div>
          </div>
          <div class="sect3" id="BNAWW">
            <h4 id="initializing-map-properties">Inicializando las Propiedades de un Mapa</h4>
            <div class="paragraph">
              <p>
                El elemento <code>map-entries</code> se usa para inicializar los valores de una propiedad de 
                bean con un tipo de <code>Map</code> si el elemento <code>map-entries</code> se usa dentro un 
                elemento <code>managed-property</code>. Un elemento <code>map-entries</code> contiene un 
                elemento <code>key-class</code> opcional, un elemento <code>value-class</code> opcional y cero 
                o más elementos <code>map-entry</code>.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Cada uno de los elementos <code>map-entry</code> debe contener un elemento <code>key</code> y 
                un elemento <code>null-value</code> o <code>value</code>. Aquí hay un ejemplo que usa el 
                elemento <code>map-entries</code>:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean&gt;
    ...
    &lt;managed-property&gt;
        &lt;property-name&gt;prices&lt;/property-name&gt;
        &lt;map-entries&gt;
            &lt;map-entry&gt;
                &lt;key&gt;My Early Years: Growing Up on *7&lt;/key&gt;
                &lt;value&gt;30.75&lt;/value&gt;
            &lt;/map-entry&gt;
            &lt;map-entry&gt;
                &lt;key&gt;Web Servers for Fun and Profit&lt;/key&gt;
                &lt;value&gt;40.75&lt;/value&gt;
            &lt;/map-entry&gt;
        &lt;/map-entries&gt;
    &lt;/managed-property&gt;
&lt;/managed-bean&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                El mapa creado a partir de esta etiqueta <code>map-entries</code> contiene dos entradas. De 
                forma predeterminada, todas las claves y valores se convierten a <code>String</code>. Si desea 
                especificar un tipo diferente para las claves en el mapa, incruste el elemento 
                <code>key-class</code> justo dentro del elemento <code>map-entries</code>:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;map-entries&gt;
    &lt;key-class&gt;java.math.BigDecimal&lt;/key-class&gt;
    ...
&lt;/map-entries&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Esta declaración convertirá todas las claves en <code>java.math.BigDecimal</code>. Por 
                supuesto, debe asegurarse de que las claves se puedan convertir al tipo que especifique. La 
                clave del ejemplo en esta sección no se puede convertir a un <code>BigDecimal</code>, porque 
                es un <code>String</code>.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Si desea especificar un tipo diferente para todos los valores en el mapa, incluya el 
                elemento <code>value-class</code> después del elemento <code>key-class</code>:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;map-entries&gt;
    &lt;key-class&gt;int&lt;/key-class&gt;
    &lt;value-class&gt;java.math.BigDecimal&lt;/value-class&gt;
    ...
&lt;/map-entries&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Tenga en cuenta que esta etiqueta establece solo el tipo de todos los subelementos 
                <code>value</code>.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Cada <code>map-entry</code> en el ejemplo anterior incluye un subelemento <code>value</code>. 
                El subelemento <code>value</code> define un valor único, que se convertirá al tipo 
                especificado en el bean.
              </p>
            </div>
            <div class="paragraph">
              <p>
                En lugar de usar un elemento <code>map-entries</code>, también es posible asignar el mapa 
                completo usando un elemento <code>value</code> que especifica una expresión con tipo de mapa.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNAWX">
            <h4 id="initializing-array-and-list-properties">
              Inicializando las Propiedades de Matrices y Listas
            </h4>
            <div class="paragraph">
              <p>
                El elemento <code>list-entries</code> se utiliza para inicializar los valores de una matriz o 
                propiedad <code>List</code>. Cada valor individual de la matriz o <code>List</code> se 
                inicializa mediante un elemento <code>value</code> o <code>null-value</code>. Aquí hay un 
                ejemplo:
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean&gt;
    ...
    &lt;managed-property&gt;
        &lt;property-name&gt;books&lt;/property-name&gt;
        &lt;list-entries&gt;
            &lt;value-class&gt;java.lang.String&lt;/value-class&gt;
            &lt;value&gt;Web Servers for Fun and Profit&lt;/value&gt;
            &lt;value&gt;#{myBooks.bookId[3]}&lt;/value&gt;
            &lt;null-value/&gt;
        &lt;/list-entries&gt;
    &lt;/managed-property&gt;
&lt;/managed-bean&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                Este ejemplo inicializa una matriz o una <code>List</code>. El tipo de propiedad 
                correspondiente en el bean determina qué estructura de datos se crea. El elemento 
                <code>list-entries</code> define la lista de valores en la matriz o <code>List</code>. El 
                elemento <code>value</code> especifica un solo valor en la matriz o <code>List</code> y puede 
                hacer referencia a una propiedad en otro bean. El elemento <code>null-value</code> hará que se 
                llame al método <code>setBooks</code> con un argumento de <code>null</code>. No se puede 
                especificar una propiedad <code>null</code> para una propiedad cuyo tipo de datos sea una 
                primitiva de Java, como <code>int</code> o <code>boolean</code>.
              </p>
            </div>
          </div>
          <div class="sect3" id="BNAWY">
            <h4 id="initializing-managed-bean-properties">
              Inicializando las Propiedades de un Bean Gestionado
            </h4>
            <div class="paragraph">
              <p>
                A veces, es posible que desee crear un bean que también haga referencia a otros beans 
                gestionados para poder construir un gráfico o un árbol de beans. Por ejemplo, suponga que 
                desea crear un bean que represente la información de un cliente, incluida la dirección postal 
                y la dirección postal, cada una de las cuales también es un bean. Las siguientes declaraciones 
                de <code>managed-bean</code> crean una instancia de <code>CustomerBean</code> que tiene dos 
                propiedades de <code>AddressBean</code>: una que representa la dirección de correo y la otra 
                que representa la dirección de la calle. Esta declaración da como resultado un árbol de beans 
                con <code>CustomerBean</code> como raíz y los dos objetos <code>AddressBean</code> como hijos.
              </p>
            </div>
            <div class="listingblock">
              <div class="content">
                <pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">
&lt;managed-bean&gt;
    &lt;managed-bean-name&gt;customer&lt;/managed-bean-name&gt;
    &lt;managed-bean-class&gt;
        com.example.mybeans.CustomerBean
    &lt;/managed-bean-class&gt;
    &lt;managed-bean-scope&gt; request &lt;/managed-bean-scope&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;mailingAddress&lt;/property-name&gt;
        &lt;value&gt;#{addressBean}&lt;/value&gt;
    &lt;/managed-property&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;streetAddress&lt;/property-name&gt;
        &lt;value&gt;#{addressBean}&lt;/value&gt;
    &lt;/managed-property&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;customerType&lt;/property-name&gt;
        &lt;value&gt;New&lt;/value&gt;
    &lt;/managed-property&gt;
&lt;/managed-bean&gt;
&lt;managed-bean&gt;
    &lt;managed-bean-name&gt;addressBean&lt;/managed-bean-name&gt;
    &lt;managed-bean-class&gt;
        com.example.mybeans.AddressBean
    &lt;/managed-bean-class&gt;
    &lt;managed-bean-scope&gt; none &lt;/managed-bean-scope&gt;
    &lt;managed-property&gt;
        &lt;property-name&gt;street&lt;/property-name&gt;
        &lt;null-value/&gt;
    &lt;managed-property&gt;
    ...
&lt;/managed-bean&gt;
                </code></pre>
              </div>
            </div>
            <div class="paragraph">
              <p>
                La primera declaración <code>CustomerBean</code> (con el <code>managed-bean-name</code> de 
                <code>customer</code>) crea un <code>CustomerBean</code> en el alcance de la solicitud. Este 
                bean tiene dos propiedades, <code>mailingAddress</code> y <code>streetAddress</code>. Estas 
                propiedades usan el elemento <code>value</code> para hacer referencia a un bean llamado 
                <code>ddressBean</code>.
              </p>
            </div>
            <div class="paragraph">
              <p>
                La segunda declaración de bean gestionado define un <code>AddressBean</code> pero no lo crea, 
                porque su elemento <code>managed-bean-scope</code> define un alcance de <code>none</code>. 
                Recuerde que un alcance de <code>none</code> significa que el bean se crea solo cuando algo 
                más lo hace referencia. Debido a que las propiedades <code>mailingAddress</code> y 
                <code>streetAddress</code> hacen referencia a <code>addressBean</code> utilizando el elemento 
                <code>value</code>, dos instancias de <code>AddressBean</code> se crean cuando se crea 
                <code>CustomerBean</code>.
              </p>
            </div>
            <div class="paragraph">
              <p>
                Cuando crea un objeto que apunta a otros objetos, no intente apuntar a un objeto con una vida 
                útil más corta, porque podría ser imposible recuperar los recursos de ese alcance cuando 
                desaparezca. Un objeto con ámbito de sesión, por ejemplo, no puede apuntar a un objeto con 
                ámbito de solicitud. Y los objetos con alcance <code>none</code> no tienen una vida útil 
                efectiva administrada por el marco, por lo que solo pueden apuntar a otros objetos con alcance 
                <code>none</code>. La <a href="#BNAWZ">tabla 16-2 </a> describe todas las conexiones 
                permitidas.
              </p>
            </div>
            <div class="paragraph">
              <p><a id="sthref95"></a><a id="BNAWZ"></a></p>
            </div>
            <div class="paragraph">
              <p><strong>Tabla 16-2 Conexiones Permitidas entre Objetos con Ambito</strong></p>
            </div>
            <table class="tableblock frame-all grid-all" style="width: 60%;">
              <colgroup>
                <col style="width: 33.3333%;">
                <col style="width: 66.6667%;">
              </colgroup>
              <tbody>
                <tr>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><strong>Un Objeto de Este Ambito</strong></p></td>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><strong>Puede Apuntar a un Objeto de Este Alcance</strong></p></td>
                </tr>
                <tr>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>none</code></p></td>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>none</code></p></td>
                </tr>
                <tr>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>application</code></p></td>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>none</code>, <code>application</code></p></td>
                </tr>
                <tr>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>session</code></p></td>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock">
                      <code>none</code>, <code>application</code>, <code>session</code>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>request</code></p></td>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock">
                      <code>none</code>, <code>application</code>, <code>session</code>, <code>request</code>, 
                      <code>view</code>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock"><code>view</code></p></td>
                  <td class="tableblock halign-left valign-top">
                    <p class="tableblock">
                      <code>none</code>, <code>application</code>, <code>session</code>, <code>view</code>
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="paragraph">
              <p>
                Asegúrese de no permitir referencias cíclicas entre objetos. Por ejemplo, ninguno de los 
                objetos <code>AddressBean</code> del ejemplo anterior debería apuntar al objeto 
                <code>CustomerBean</code>, porque <code>CustomerBean</code> ya apunta a los objetos 
                <code>AddressBean</code>.
              </p>
            </div>
          </div>
        </div>
        <div class="sect2" id="BNAXA">
          <h3 id="initializing-maps-and-lists">Inicializando Mapas y Listas</h3>
          <div class="paragraph">
            <p>
              Además de configurar las propiedades de <code>Map</code> y <code>List</code>, también puede 
              configurar un <code>Map</code> y una <code>List</code> directamente para que puede hacer 
              referencia a ellos desde una etiqueta en lugar de hacer referencia a una propiedad que envuelve 
              un <code>Map</code> o una <code>List</code>.
            </p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
      <colgroup>
        <col width="12%"/>
        <col width="12%"/>
        <col width="*"/>
      </colgroup>
      <tr>		
        <td align="left">
          <a href="jsf-configure004.html">
            <span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Anterior</span>
          </a>
        </td>
        <td align="left">
          <a href="jsf-configure006.html">
            <span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Siguiente</span>
          </a>
        </td>
        <td align="right">
          <a href="toc.html">
            <span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
            <span style="position:relative;top:-2px;">Contenidos</span>
          </a>
        </td>
      </tr>
    </table>
    <span id="copyright">
      <a href="img/cpyr.adoc">
        <img src="img/oracle.gif" height="10" alt="Logo de Oracle" />&nbsp;			
        <span>
          Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;y/o&nbsp;sus&nbsp;afiliados.&nbsp;Todos&nbsp;los&nbsp;
          derechos&nbsp;reservados.
        </span>
      </a>
    </span>
  </body>
</html>
